(()=>{var t,e,i,r={2679:(t,e,i)=>{var r={"./bg":[4444,444],"./bg.js":[4444,444],"./de":[1572,572],"./de.js":[1572,572],"./el":[4870,870],"./el.js":[4870,870],"./en":[6412,412],"./en.js":[6412,412],"./es":[8335,335],"./es.js":[8335,335],"./fi":[1198,198],"./fi.js":[1198,198],"./fr":[4115,115],"./fr.js":[4115,115],"./id":[9218,218],"./id.js":[9218,218],"./it":[1970,970],"./it.js":[1970,970],"./ja":[1570,570],"./ja.js":[1570,570],"./kde":[189,189],"./kde.js":[189,189],"./ko":[5121,121],"./ko.js":[5121,121],"./nl":[89,89],"./nl.js":[89,89],"./nn":[4215,215],"./nn.js":[4215,215],"./pl":[1407,407],"./pl.js":[1407,407],"./pt":[6983,983],"./pt.js":[6983,983],"./ro":[6900,900],"./ro.js":[6900,900],"./ru":[6214,214],"./ru.js":[6214,214],"./ses":[5306,306],"./ses.js":[5306,306],"./sv":[1650,650],"./sv.js":[1650,650],"./th":[5079,79],"./th.js":[5079,79],"./tr":[3201,201],"./tr.js":[3201,201],"./vi":[638,638],"./vi.js":[638,638],"./zh":[8185,185],"./zh.js":[8185,185]};function n(t){if(!i.o(r,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],n=e[0];return i.e(e[1]).then((()=>i.t(n,23)))}n.keys=()=>Object.keys(r),n.id=2679,t.exports=n},230:t=>{t.exports={scenes:{main:{c:"MainMenu",p:{backgroundColor:1713247},":":[{c:"Resizer",p:{name:"middle",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"OrientationTrigger",p:{name:"bg",portraitX:-183,portraitScaleX:.53},":":[{c:"BG",p:{name:"bg",x:-1,y:1,"scale.x":4.76,"scale.y":5.47,image:"bg/bg.jpg"}}]},{c:"Trigger",p:{dataPath:"game.currentScene.isLeftPanelTurnedOn",invert:!0,pow:.05,damp:.7,alphaShift:0,xShift:76,isApplyInteractivity:!1},":":[{c:"Sprite",p:{x:-348,y:-308,rotation:-.756,alpha:.09,image:"bg/bg-flowers.png"}}]},{c:"Resizer",p:{name:"left-panel-btn",relativeX:!0,xPos:-.5},":":[{c:"Trigger",p:{x:9,dataPath:"game.currentScene.isLeftPanelVisible",invert:!0,pow:.04,damp:.7,xShift:-30},":":[{c:"Button",p:{name:"open-table-btn",x:21,y:3,image:"ui/arrow-tabl-left.png",hoverImage:"ui/arrow-tabl-left.png",pressImage:"ui/arrow-tabl-left.png",disabledImage:"ui/arrow-tabl-left.png",onClick:"game.currentScene.toggleTableView",sndClick:"click",sndOver:"over"}}]}]},{c:"Resizer",p:{name:"right-panel-btn",y:-1,relativeX:!0,xPos:.5},":":[{c:"Trigger",p:{x:-9,"scale.x":-1,"scale.y":-1,dataPath:"game.currentScene.isRightPanelVisible",invert:!0,pow:.04,damp:.7,xShift:30},":":[{c:"Button",p:{name:"open-table-btn",x:21,y:3,image:"ui/arrow-tabl-left.png",hoverImage:"ui/arrow-tabl-left.png",pressImage:"ui/arrow-tabl-left.png",disabledImage:"ui/arrow-tabl-left.png",onClick:"game.currentScene.toggleTableView",sndClick:"click",sndOver:"over"}}]}]},{c:"Trigger",p:{name:"left-panel-switcher",x:1,y:1,dataPath:"game.currentScene.isLeftPanelVisible",pow:.05,damp:.7,alphaShift:-.97,xShift:-900},":":[{c:"OrientationTrigger",p:{name:"left-part",portraitX:525,portraitY:17},":":[{c:"Text",p:{x:-774,y:-345,translatableText:"plinko.time","style.fontSize":22,verticalAlign:"center","style.fontWeight":"bold",maxWidth:108}},{c:"Text",p:{x:-638,y:-345,translatableText:"plinko.bet_history","style.fontSize":22,verticalAlign:"center","style.fontWeight":"bold",maxWidth:108}},{c:"Text",p:{x:-496,y:-345,translatableText:"plinko.payout","style.fontSize":22,verticalAlign:"center","style.fontWeight":"bold",maxWidth:108}},{c:"Text",p:{x:-335,y:-345,translatableText:"plinko.profit","style.fontSize":22,verticalAlign:"center","style.fontWeight":"bold",maxWidth:108}},{c:"Sprite",p:{x:-821,y:-323,"scale.x":5.4,image:"ui/line.png"}},{c:"ResultList",p:{name:"resultList",x:-892,y:-293}},{c:"OrientationTrigger",p:{landscapeY:16,landscapeAlpha:0,portraitX:-539,portraitY:-484},":":[{c:"Sprite",p:{y:57,"scale.x":.5,"scale.y":.5,"pivot.x":204,"pivot.y":118,image:"ui/logo.png"},":":[{c:"Trigger",p:{dataPath:"game.casinoOptions.ui.logo_visible",isApplyInteractivity:!1},":":[{c:"Sprite",p:{x:104,y:182,alpha:.4,"scale.x":.5,"scale.y":.5,image:"ui/brand-logo.png"}}]}]}]}]}]},{c:"Trigger",p:{name:"right-panel-switcher",dataPath:"game.currentScene.isRightPanelVisible",pow:.05,damp:.7,alphaShift:-.97,xShift:900},":":[{c:"Trigger",p:{name:"ios-safari-fix",dataPath:"game.isLandscapeSafariIos",invert:!0,pow:1,alphaShift:0,yShift:-70,isApplyInteractivity:!1},":":[{c:"OrientationTrigger",p:{name:"right-part",portraitX:-505},":":[{c:"Trigger",p:{x:682,y:350,dataPath:"game.data.autoPanelActiveted",pow:.06,damp:.7,alphaShift:0,yShift:45,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{name:"autoplayPanel",x:-65,y:-64,image:"ui/panel-ui.png",width:130,height:146,leftWidth:14,rightWidth:14,topHeight:14,bottomHeight:14},":":[{c:"Text",p:{x:68,y:-1,translatableText:"plinko.bet_mode","style.fontSize":16,verticalAlign:"bottom","style.fill":"#b79dee",maxWidth:128}},{c:"Sprite",p:{x:11,y:41,image:"ui/line.png",tint:9926111}},{c:"Button",p:{name:"manualGameBtn",x:32,y:24,interactive:!1,image:"ui/small-btn.png",hoverImage:"ui/small-btn.png",pressImage:"ui/small-btn.png",disabledImage:"ui/small-btn-d.png",onClick:"game.currentScene.deactivateAutoPanel",sndClick:"click",sndOver:"over"},":":[{c:"DSprite",p:{image:"ui/manual-icon.png"}},{c:"MovieClip",p:{timeline:{l:{"btn-out":3,"btn-over":42},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:13,m:1,a:"this.stop"},{v:1,t:47,m:1}]}]}},":":[{c:"Text",p:{x:14,translatableText:"plinko.manual","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.strokeThickness":1,"style.stroke":"#fff","style.padding":1,maxWidth:74}}]},{c:"Shape",p:{x:-23,y:-20,visible:!1,width:113,height:39,isItHitArea:!0}},{c:"Text",p:{x:15,translatableText:"plinko.manual","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.padding":1,maxWidth:74}}]},{c:"Button",p:{name:"autoGameBtn",x:32,y:65,image:"ui/small-btn.png",hoverImage:"ui/small-btn.png",pressImage:"ui/small-btn.png",disabledImage:"ui/small-btn-d.png",onClick:"game.currentScene.activateAutoPanel",sndClick:"click",sndOver:"over"},":":[{c:"DSprite",p:{image:"ui/auto-icon.png"}},{c:"MovieClip",p:{timeline:{l:{"btn-out":3,"btn-over":42},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:13,m:1,a:"this.stop"},{v:1,t:47,m:1}]}]}},":":[{c:"Text",p:{x:14,translatableText:"plinko.auto","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.strokeThickness":1,"style.stroke":"#fff","style.padding":1,maxWidth:73}}]},{c:"Shape",p:{x:-23,y:-20,visible:!1,width:113,height:39,isItHitArea:!0}},{c:"Text",p:{x:15,translatableText:"plinko.auto","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.padding":1,maxWidth:73}}]},{c:"Trigger",p:{name:"auto-game-counter",dataPath:"game.data.autoPanelActiveted",pow:.06,damp:.7},":":[{c:"Sprite",p:{x:47,y:98,image:"ui/counter-bg.png"},":":[{c:"NumberInput",p:{name:"autoplayNumberInput",x:19,y:12,textView:"counter-text",dataPath:"game.data.autoplayCount",valuesList:"10,20,30,50,70,100,150,200,250,300,400,500,600,700,800,900,1000"},":":[{c:"Shape",p:{x:-23,y:-25,alpha:.71,visible:!1,width:45,height:44,isItHitArea:!0}}]},{c:"Sprite",p:{name:"number-mask",x:1,y:-23,"scale.x":2.2,"scale.y":1.52,image:"WHITE",tint:6440096}},{c:"Sprite",p:{name:"number-mask",x:1,y:22,"scale.x":2.2,"scale.y":1.5,image:"WHITE",tint:6440096}},{c:"Trigger",p:{dataPath:"this.parent.#autoplayNumberInput.canIncrease",alphaShift:-.65},":":[{c:"Button",p:{x:59,y:12,image:"ui/counter-btn.png",hoverImage:"ui/counter-btn-h.png",onClick:"this.parent.parent.#autoplayNumberInput.increase",sndClick:"click",sndOver:"over",repeatDelay:20,repeatInterval:6},":":[{c:"Text",p:{y:-1,text:"+","style.fontSize":18,verticalAlign:"center","style.fontWeight":"bold"}}]}]},{c:"Trigger",p:{dataPath:"this.parent.#autoplayNumberInput.canDecrease",alphaShift:-.65},":":[{c:"Button",p:{x:-21,y:12,image:"ui/counter-btn.png",hoverImage:"ui/counter-btn-h.png",onClick:"this.parent.parent.#autoplayNumberInput.decrease",sndClick:"click",sndOver:"over",repeatDelay:20,repeatInterval:6},":":[{c:"Text",p:{y:-1,text:"—","style.fontSize":18,verticalAlign:"center","style.fontWeight":"bold"}}]}]}]},{c:"Text",p:{x:66,y:96,translatableText:"plinko.autoplay_count",verticalAlign:"bottom",maxWidth:115}}]}]}]},{c:"Container",p:{name:"gameUI"},":":[{c:"NineSlicePlane",p:{x:252,y:286,image:"ui/panel-ui.png",width:130,height:146,leftWidth:14,rightWidth:14,topHeight:14,bottomHeight:14},":":[{c:"Text",p:{x:65,y:-1,translatableText:"plinko.risk_level","style.fontSize":16,verticalAlign:"bottom","style.fill":"#b79dee",maxWidth:128}},{c:"Sprite",p:{x:11,y:41,image:"ui/line.png",tint:9926111}},{c:"Sprite",p:{x:11,y:85,image:"ui/line.png",tint:9926111}},{c:"Button",p:{name:"high-risk-btn",x:32,y:24,image:"ui/small-btn.png",hoverImage:"ui/small-btn.png",disabledImage:"ui/small-btn-d.png",onClick:"all.gameTable.setRiskMode`high",sndClick:"click",sndOver:"over"},":":[{c:"DSprite",p:{image:"ui/lvl-high-icon.png"}},{c:"MovieClip",p:{timeline:{l:{"btn-out":3,"btn-over":42},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:13,m:1,a:"this.stop"},{v:1,t:47,m:1}]}]}},":":[{c:"Text",p:{x:14,translatableText:"plinko.high","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.strokeThickness":1,"style.stroke":"#fff","style.padding":1,maxWidth:73}}]},{c:"Shape",p:{x:-23,y:-20,visible:!1,width:113,height:39,isItHitArea:!0}},{c:"Text",p:{x:15,translatableText:"plinko.high","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.padding":1,maxWidth:73}}]},{c:"Button",p:{name:"medium-risk-btn",x:32,y:65,image:"ui/small-btn.png",hoverImage:"ui/small-btn.png",disabledImage:"ui/small-btn-d.png",onClick:"all.gameTable.setRiskMode`medium",sndClick:"click",sndOver:"over"},":":[{c:"DSprite",p:{image:"ui/lvl-mid-icon.png"}},{c:"MovieClip",p:{timeline:{l:{"btn-out":3,"btn-over":42},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:13,m:1,a:"this.stop"},{v:1,t:47,m:1}]}]}},":":[{c:"Text",p:{x:14,translatableText:"plinko.normal","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.strokeThickness":1,"style.stroke":"#fff","style.padding":1,maxWidth:73}}]},{c:"Shape",p:{x:-23,y:-20,visible:!1,width:113,height:39,isItHitArea:!0}},{c:"Text",p:{x:15,translatableText:"plinko.normal","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.padding":1,maxWidth:73}}]},{c:"Button",p:{name:"low-risk-btn",x:32,y:107,image:"ui/small-btn.png",hoverImage:"ui/small-btn.png",disabledImage:"ui/small-btn-d.png",onClick:"all.gameTable.setRiskMode`low",sndClick:"click",sndOver:"over"},":":[{c:"DSprite",p:{image:"ui/lvl-low-icon.png"}},{c:"MovieClip",p:{timeline:{l:{"btn-out":3,"btn-over":42},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:13,m:1,a:"this.stop"},{v:1,t:47,m:1}]}]}},":":[{c:"Text",p:{x:14,translatableText:"plinko.low","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.strokeThickness":1,"style.stroke":"#fff","style.padding":1,maxWidth:73}}]},{c:"Shape",p:{x:-23,y:-20,visible:!1,width:113,height:39,isItHitArea:!0}},{c:"Text",p:{x:15,translatableText:"plinko.low","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.padding":1,maxWidth:73}}]}]},{c:"Sprite",p:{name:"bet-panel",x:250,y:408,image:"bg/bg-ui.png"},":":[{c:"Trigger",p:{dataPath:"game.currentScene.isBetCanBeDecreased",pow:1,alphaShift:-.65},":":[{c:"Button",p:{x:34,y:43,image:"ui/bet-btn.png",hoverImage:"ui/bet-btn-h.png",onClick:"game.currentScene.minimizeBet",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{translatableText:"plinko.min","style.fontSize":18,verticalAlign:"center",maxWidth:54}}]},{c:"Button",p:{x:100,y:43,image:"ui/bet-btn.png",hoverImage:"ui/bet-btn-h.png",onClick:"game.currentScene.decreaseBet",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{text:"—","style.fontSize":18,verticalAlign:"center","style.fontWeight":"bold"}}]}]},{c:"Trigger",p:{dataPath:"game.currentScene.isBetCanBeIncreased",pow:1,alphaShift:-.65},":":[{c:"Button",p:{x:399,y:43,image:"ui/bet-btn.png",hoverImage:"ui/bet-btn-h.png",onClick:"game.currentScene.increaseBet",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{text:"+","style.fontSize":18,verticalAlign:"center","style.fontWeight":"bold"}}]},{c:"Button",p:{x:465,y:43,image:"ui/bet-btn.png",hoverImage:"ui/bet-btn-h.png",onClick:"game.currentScene.maximizeBet",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{translatableText:"plinko.max","style.fontSize":18,verticalAlign:"center",maxWidth:54}}]}]},{c:"MoneyLabel",p:{name:"bet-label",x:249,y:49,translatableText:"plinko.bet","style.fontSize":27,verticalAlign:"center","style.fontWeight":"bold","style.letterSpacing":1,maxWidth:225,dataPath:"game.data.bet",refreshInterval:0,decimalsCount:2,dataPath2:"game.data.currency"}},{c:"MoneyLabel",p:{name:"balance-label",x:247,y:100,translatableText:"plinko.balance","style.fontSize":27,verticalAlign:"center","style.fill":"#7a79b2","style.fontWeight":"bold","style.letterSpacing":1,textTransform:1,maxWidth:225,dataPath:"game.data.balance",refreshInterval:0,decimalsCount:2,dataPath2:"game.data.currency",decimalsCountPath:"game.data.balanceDigitsCount"}}]},{c:"Trigger",p:{name:"ios-safari-fix",dataPath:"game.isLandscapeSafariIos",invert:!0,pow:1,alphaShift:0,xShift:50,yShift:130,isApplyInteractivity:!1},":":[{c:"Button",p:{name:"lines-button",x:737,y:-399,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`8",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"8","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-367.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`9",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"9","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-336.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`10",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"10","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-305.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`11",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"11","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-274.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`12",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"12","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-243.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`13",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"13","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-212.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`14",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"14","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-181.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`15",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"15","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-150.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`16",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"16","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"TextInput",p:{x:736,y:-416,translatableText:"plinko.lines","style.fontSize":18,verticalAlign:"bottom","style.fill":"#ace0f4",maxWidth:344}}]}]},{c:"Button",p:{name:"playButton",x:500,y:328,"pivot.x":-15,"pivot.y":-15,image:"ui/play-btn.png",hoverImage:"ui/play-btn-h.png",onClick:"game.currentScene.playButtonClick",sndClick:"play",sndOver:"over"},":":[{c:"Trigger",p:{x:-17,y:-16,dataPath:"game.currentScene.isAutoplayStarted",invert:!0},":":[{c:"Text",p:{x:1,translatableText:"plinko.play","style.fontSize":46,verticalAlign:"center","style.fill":"#f29d1d","style.fontWeight":"bold",textTransform:1,maxWidth:126}}]},{c:"Trigger",p:{x:-17,y:-16,dataPath:"game.currentScene.isAutoplayStarted"},":":[{c:"Text",p:{x:1,translatableText:"plinko.stop","style.fontSize":46,verticalAlign:"center","style.fill":"#f29d1d","style.fontWeight":"bold",textTransform:1,maxWidth:126}},{c:"Label",p:{y:39,text:"22","style.fontSize":25,verticalAlign:"center","style.fill":"#f29d1d","style.fontWeight":"bold",dataPath:"game.data.autoplayCurrentCount"}}]},{c:"Shape",p:{x:-15,y:-15,alpha:0,shape:2,shapeRadius:82,isItHitArea:!0}}]},{c:"MovieClip",p:{name:"win-panel",x:500,isPlaying:!1,timeline:{l:{"on-win":9,hide:262},p:.2,d:.85,f:[{n:"y",t:[{v:214,t:0},{v:214,t:14,s:5},{v:214,t:120}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:17,m:1},{v:1,t:254,m:1},{v:0,t:269,m:1}]},{n:"scale.x",t:[{v:0,t:0},{v:1,t:17,m:1},{v:1,t:254,m:1},{v:0,t:269,m:1}]}]}},":":[{c:"NineSlicePlane",p:{x:-250,y:-25,image:"ui/win-panel.png",width:500,height:50,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25},":":[{c:"Fill",p:{x:10,y:10,"scale.x":3.74,"scale.y":.23,image:"ui/stars-pattern.png",tint:16764160,verticesX:4,xRepeat:3.74,yRepeat:.23,xShiftSpeed:.010480000000000001,yShiftSpeed:.0039900000000000005,xWaveAmp:1.012,xWaveStep:3.357,xWaveSpeed:.01312,yWaveAmp:-.034,yWaveStep:2.064,yWaveSpeed:.0753}},{c:"MoneyLabel",p:{name:"bet-label",x:251,y:24,translatableText:"plinko.win","style.fontSize":27,verticalAlign:"center","style.fill":"#4a2c01","style.fontWeight":"bold","style.letterSpacing":1,maxWidth:225,dataPath:"game.data.winToShow",refreshInterval:0,decimalsCount:2,dataPath2:"game.data.currency"}}]}]},{c:"GameTable",p:{name:"gameTable",x:500,y:-394},":":[{c:"DSprite",p:{name:"hole",image:"ui/hole.png"}},{c:"Container",p:{name:"ballsContainer"}},{c:"Container",p:{name:"pinsContainer"}},{c:"Container",p:{name:"particlesContainer"}},{c:"DSprite",p:{name:"tooltip",x:-185,y:478,"pivot.x":-1,"pivot.y":-2,image:"ui/tooltip.png"},":":[{c:"Sprite",p:{name:"pointer",x:-52,y:56,"pivot.x":10,image:"ui/tooltip-pointer.png"}},{c:"Text",p:{y:-40,translatableText:"plinko.tooltip_win","style.fontSize":22,verticalAlign:"center","style.fill":"#1c3966",maxWidth:98}},{c:"Text",p:{y:18,translatableText:"plinko.chance","style.fontSize":22,verticalAlign:"center","style.fill":"#1c3966",maxWidth:98}},{c:"MoneyLabel",p:{name:"profit",x:1,y:-14,text:"%d %s","style.fontSize":20,verticalAlign:"center","style.fill":"#1c3966","style.letterSpacing":1,maxWidth:141,dataPath:"this.parent.profit",refreshInterval:0,template:"%d %s",decimalsCount:2,dataPath2:"game.data.currency"}},{c:"Label",p:{name:"chance",x:1,y:44,text:"0.123123","style.fontSize":20,verticalAlign:"center","style.fill":"#1c3966",maxWidth:141,dataPath:"this.parent.chance",refreshInterval:0}}]}]},{c:"OrientationTrigger",p:{landscapeY:16,landscapeAlpha:0,portraitX:212,portraitY:-314,portraitR:-1.5707963267948966},":":[{c:"Sprite",p:{y:57,"scale.x":.5,"scale.y":.5,"pivot.x":204,"pivot.y":118,image:"ui/logo.png"},":":[{c:"Trigger",p:{dataPath:"game.casinoOptions.ui.logo_visible",isApplyInteractivity:!1},":":[{c:"Sprite",p:{x:104,y:182,alpha:.4,"scale.x":.5,"scale.y":.5,image:"ui/brand-logo.png"}}]}]}]}]}]}]}]},{c:"PrefabReference",p:{name:"ui",prefabName:"ui/ui-panel"}},{c:"BgMusic",p:{name:"bgMusic",loop:"mus/bg"}}]},paytable:{c:"PaytablePreloaderScene",p:{backgroundColor:0},":":[{c:"PrefabReference",p:{prefabName:"paytable-preloader"}},{c:"Container",p:{name:"slot-UI"}}]},root:{c:"BaseRootScene",p:{backgroundColor:0}}},prefabs:{ball:{c:"Ball",p:{name:"ball","pivot.x":-3,"pivot.y":-5,image:"ui/ball.png"},":":[{c:"MovieClip",p:{x:-3,y:-5,rotation:-.712,timeline:{l:{},p:.02,d:.85,f:[{n:"rotation",t:[{v:-.712,t:0},{v:.768,t:10,m:1},{v:-.712,t:19,m:1},{v:.768,t:26,m:1},{v:-.712,t:33,m:1},{v:.768,t:39,m:1,j:4}]}]}},":":[{c:"Spawner",p:{name:"particles-spawner",x:-1,y:-15,rotation:-1.5707963267948966,prefabToSpawn:"spark",enabled:!1,interval:2,speed:0,speedRandom:0,container:"game.currentScene.all.particlesContainer"}}]}]},"ball-target":{c:"Button",p:{name:"ball-target",hoverImage:"EMPTY",pressImage:"EMPTY",disabledImage:"EMPTY",sndClick:"click",sndOver:"over"},":":[{c:"MovieClip",p:{name:"body",image:"ui/target.png",tint:16776960,isPlaying:!1,timeline:{l:{"ball-touch":12},p:.2,d:.85,f:[{n:"y",t:[{v:0,t:0},{v:0,t:13,s:2.3000000000000003},{v:0,t:80}]},{n:"tintB",t:[{v:0,t:0,m:1},{v:0,t:12,m:1},{v:255,t:15,m:1},{v:0,t:34,m:1}]}]},y:0,tintB:0},":":[{c:"Sprite",p:{x:-31,y:-19,image:"ui/target-overlay.png"}},{c:"Text",p:{name:"label",y:1,alpha:.85,text:"---","style.fontSize":20,verticalAlign:"center","style.fill":"#000022","style.fontWeight":"bold",maxWidth:47}},{c:"SpawnerRing",p:{name:"spawner",rotation:1.5707963267948966,prefabToSpawn:"spark",speed:2,speedRandom:2,count:15,countRandom:5,container:"all.particlesContainer"}}]},{c:"Shape",p:{x:-28,y:-37,width:57,height:76,isItHitArea:!0}}]},container:{c:"Container",p:{name:"container"}},"counter-text":{c:"Text",p:{name:"counter-text",x:640,y:360,text:"100","style.fontSize":20,verticalAlign:"center",maxWidth:34}},"fader/curtains":{c:"Resizer",p:{name:"fader/curtains",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"MovieClip",p:{timeline:{l:{},p:.02,d:.85,f:[{n:"visible",t:[{v:!0,t:0,m:2},{v:!0,t:121,m:2,a:"this.playRecursive"}]}]}},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{"scale.y":8.4375,image:"WHITE_FOR_CANVAS.jpg",tint:0,isPlaying:!1,timeline:{l:{"hide fader":81},p:.02,d:.85,f:[{n:"x",t:[{v:-960,t:0},{v:-480,t:70,m:3,b:.4,g:2,a:"game.faderShoot"},{v:-480,t:74,m:1,a:"this.stop"},{v:-480,t:83,m:1},{v:-960,t:120,m:1,a:"game.faderEnd"}]},{n:"scale.x",t:[{v:0,t:0},{v:7.5,t:15,m:1},{v:7.5,t:70,m:1},{v:7.5,t:74,m:1},{v:7.5,t:83,m:1},{v:.1,t:120,m:1}]}]}}},{c:"MovieClip",p:{"scale.y":8.4375,image:"WHITE_FOR_CANVAS.jpg",tint:0,isPlaying:!1,timeline:{l:{"hide fader":81},p:.02,d:.85,f:[{n:"x",t:[{v:960,t:0},{v:480,t:70,m:4,b:.4,g:2},{v:480,t:74,m:1},{v:480,t:83,m:1},{v:966,t:120,m:1}]},{n:"scale.x",t:[{v:.625,t:0},{v:7.5,t:15,m:1},{v:7.5,t:70,m:1},{v:7.5,t:74,m:1,a:"this.stop"},{v:7.5,t:83,m:1},{v:.1,t:120,m:1}]}]}}}]},{c:"MovieClip",p:{isPlaying:!1,timeline:{l:{"hide fader":180},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:123,m:1},{v:1,t:130,m:1},{v:.8200000000000001,t:139,m:1},{v:1,t:150,m:1},{v:.4,t:161,m:1},{v:1,t:173,m:1,j:122}]}]}},":":[{c:"Text",p:{y:26,translatableText:"loading","style.fontSize":35,maxWidth:688}},{c:"MovieClip",p:{y:-22,image:"ui/spinner.png",rSpeed:.03,timeline:{l:{},p:.048,d:.81,f:[{n:"scale.y",t:[{v:.66,t:0},{v:.5499999999999999,t:13},{v:.66,t:60,j:0}]},{n:"scale.x",t:[{v:.66,t:0},{v:.55,t:13},{v:.66,t:60,j:0}]}]}}}]}]}]},"fader/default":{c:"Container",p:{name:"fader/default"},":":[{c:"Resizer",p:{name:"fader/default",resizeX:!0,resizeY:!0,relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"MovieClip",p:{name:"fader/default","scale.x":15,"scale.y":8.4375,image:"WHITE_FOR_CANVAS.jpg",tint:0,timeline:{l:{"hide fader":74},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:1,t:12,m:1,a:"game.faderShoot"},{v:1,t:23,m:1,a:"this.stop"},{v:1,t:74,m:1},{v:0,t:88,m:1,a:"game.faderEnd"}]}]}}}]},{c:"Resizer",p:{relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"MovieClip",p:{timeline:{l:{"hide fader":324},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:209,m:1},{v:1,t:217,m:1},{v:.8200000000000001,t:228,m:1},{v:1,t:241,m:1},{v:.4,t:255,m:1},{v:1,t:267,m:1,j:213},{v:0,t:335,m:1}]}]}},":":[{c:"Text",p:{y:26,translatableText:"loading","style.fontSize":35,maxWidth:795}},{c:"MovieClip",p:{y:-22,image:"ui/spinner.png",rSpeed:.03,timeline:{l:{},p:.048,d:.81,f:[{n:"scale.y",t:[{v:.66,t:0},{v:.5499999999999999,t:13},{v:.66,t:60,j:0}]},{n:"scale.x",t:[{v:.66,t:0},{v:.55,t:13},{v:.66,t:60,j:0}]}]}}}]}]}]},"fader/default-slow":{c:"Container",p:{name:"fader/default-slow"},":":[{c:"Resizer",p:{name:"fader/default",resizeX:!0,resizeY:!0,relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"MovieClip",p:{name:"fader/default","scale.x":15,"scale.y":8.4375,image:"WHITE_FOR_CANVAS.jpg",tint:0,timeline:{l:{"hide fader":122},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:1,t:60,m:1,a:"game.faderShoot"},{v:1,t:70,m:1,a:"this.stop"},{v:1,t:123,m:1},{v:0,t:187,m:1,a:"game.faderEnd"}]}]}}}]},{c:"Resizer",p:{relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"MovieClip",p:{timeline:{l:{"hide fader":324},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:209,m:1},{v:1,t:217,m:1},{v:.8200000000000001,t:228,m:1},{v:1,t:241,m:1},{v:.4,t:255,m:1},{v:1,t:267,m:1,j:212},{v:0,t:335,m:1}]}]}},":":[{c:"Text",p:{y:26,translatableText:"loading","style.fontSize":35,maxWidth:824}},{c:"MovieClip",p:{y:-22,image:"ui/spinner.png",rSpeed:.03,timeline:{l:{},p:.048,d:.81,f:[{n:"scale.y",t:[{v:.66,t:0},{v:.5499999999999999,t:13},{v:.66,t:60,j:0}]},{n:"scale.x",t:[{v:.66,t:0},{v:.55,t:13},{v:.66,t:60,j:0}]}]}}}]}]}]},flytext:{c:"FlyText",p:{name:"flytext",x:513,y:295,text:"qwdqwdqwd","style.fontSize":28,verticalAlign:"center","style.fill":"#ffff00","style.strokeThickness":4,"style.stroke":"#773300"}},logo:{c:"DSprite",p:{name:"logo",x:1,y:61,"scale.x":.666,"scale.y":.666,image:"ui/logo.png"},":":[{c:"MovieClip",p:{timeline:{l:{},p:.02,d:.85,f:[{n:"x",t:[{v:122,t:0,m:1},{v:-30,t:9,m:1},{v:122.9661363162408,t:42,m:1,j:0}]},{n:"y",t:[{v:48,t:0,m:1},{v:-80,t:16,m:1},{v:50.41431393721814,t:35,m:1,j:0}]}]}},":":[{c:"MovieClip",p:{image:"ui/particle.png",timeline:{l:{},p:.06,d:.8,f:[{n:"scale.x",t:[{v:0,t:0},{v:0,t:61,a:"this.parent.stop"},{v:1,t:82},{v:0,t:116,j:0,a:"this.parent.play"}]},{n:"scale.y",t:[{v:0,t:0},{v:0,t:61},{v:1,t:83},{v:0,t:116,j:0}]}]}}}]},{c:"MovieClip",p:{timeline:{l:{},p:.02,d:.85,f:[{n:"x",t:[{v:126,t:0,m:1},{v:-31,t:15,m:1},{v:123,t:30,m:1,j:0}]},{n:"y",t:[{v:77,t:0,m:1},{v:-75,t:10,m:1},{v:82,t:23,m:1,j:0}]}]}},":":[{c:"MovieClip",p:{image:"ui/particle.png",timeline:{l:{},p:.06,d:.8,f:[{n:"scale.x",t:[{v:0,t:0},{v:0,t:61,a:"this.parent.stop"},{v:1,t:82},{v:0,t:108,j:0,a:"this.parent.play"}]},{n:"scale.y",t:[{v:0,t:0},{v:0,t:61},{v:1,t:83},{v:0,t:108,j:0}]}]}}}]},{c:"MovieClip",p:{x:-33,y:-36,image:"ui/particle.png",timeline:{l:{},p:.06,d:.8,f:[{n:"scale.x",t:[{v:0,t:0},{v:0,t:29},{v:1.44,t:49},{v:0,t:136,j:0}]},{n:"scale.y",t:[{v:0,t:0},{v:0,t:29},{v:1.44,t:49},{v:0,t:136,j:0}]}]}}},{c:"MovieClip",p:{x:123,y:-66,image:"ui/particle.png",timeline:{l:{},p:.06,d:.8,f:[{n:"scale.x",t:[{v:0,t:0},{v:0,t:87},{v:1.58,t:112},{v:0,t:186,j:0}]},{n:"scale.y",t:[{v:0,t:0},{v:0,t:87},{v:1.67,t:112},{v:0,t:185,j:0}]}]}}},{c:"Trigger",p:{dataPath:"game.casinoOptions.ui.logo_visible"},":":[{c:"Sprite",p:{x:135,y:37,alpha:.4,"scale.x":.37,"scale.y":.37,image:"ui/brand-logo.png"}}]}]},"paytable-preloader":{c:"Container",p:{name:"paytable-preloader"},":":[{c:"Resizer",p:{name:"button",relativeX:!0,xPos:.5,relativeY:!0,yPos:1},":":[{c:"OrientationTrigger",p:{landscapeY:-75,portraitY:-170},":":[{c:"Button",p:{disabledAlpha:.5,onClick:"closeCurrentScene`"},":":[{c:"Shape",p:{x:-150,y:-50,shape:1,width:300,shapeFillColor:8421504}},{c:"Text",p:{y:-3,translatableText:"settings.labels.accept","style.fontSize":46,verticalAlign:"center","style.stroke":"#ad0014","style.fontWeight":"bold",textTransform:1,maxWidth:392}},{c:"Trigger",p:{interactive:!0,dataPath:"isMobile.any"},":":[{c:"Shape",p:{x:-250,y:-100,alpha:.8,visible:!1,width:500,height:200,isItHitArea:!0}}]}]}]}]},{c:"Container",p:{name:"rules"},":":[{c:"AlignedScrollArea",p:{name:"rules-scroll-area",x:110,y:200,scrollLayerPath:"this.#rules-html-overlay",bgNineSlicePlanePath:"this.#bg",scrollBarPath:"this.#scroll-bar",marginLeftRight:50,marginTop:200,marginBottom:150,marginLeftRightPortrait:30,marginTopPortrait:200,marginBottomPortrait:285,maxWidthMobile:2e3,containerMargin:0,scrollBarBottomMargin:200,maxWidthDesktop:1700},":":[{c:"NineSlicePlane",p:{name:"bg",alpha:.7,interactive:!0,image:"WHITE",tint:0,width:1700,height:730,leftWidth:30,rightWidth:30,topHeight:30,bottomHeight:30}},{c:"HTMLOverlay",p:{name:"rules-html-overlay",visibleArea:{x:0,y:0,w:1700,h:730},fullArea:{x:0,y:0,w:1700,h:1916},mouseHandler:"this.parent.#bg",desktopInertia:.99,mobileInertia:.99,className:"casino-modal"}},{c:"ProgressBar",p:{name:"scroll-bar",x:1700,interactive:!0,dataPath:"this.parent.#rules-html-overlay.relativeScrollY",height:530,capMargin:268,refreshInterval:0,max:1,step:1e-5},":":[{c:"Shape",p:{name:"bg",x:-30,alpha:0,"pivot.x":5,shape:1,width:10,height:530,shapeRadius:5,shapeFillAlpha:.5,shapeFillColor:4013902}},{c:"Trigger",p:{x:-30,dataPath:"this.parent.parent.#rules-html-overlay.isYScrollAvailable",onEnable:"setValueByPath`this.parent.#bg.visible,1",onDisable:"setValueByPath`this.parent.#bg.visible,0"},":":[{c:"Button",p:{name:"cap",tint:4276031,hoverImage:"EMPTY",pressImage:"EMPTY",disabledImage:"EMPTY"}}]}]}]},{c:"Resizer",p:{name:"loader-resizer",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Trigger",p:{name:"loader-trigger",dataPath:"all.rules-html-overlay.innerHTML",invert:!0},":":[{c:"DSprite",p:{name:"loader-sprite",x:-3,y:2,"scale.x":2,"scale.y":2,image:"ui/spinner.png",tint:0,rSpeed:.02}}]}]}]},{c:"Resizer",p:{name:"logo",y:50,relativeX:!0,xPos:.5},":":[{c:"OrientationTrigger",p:{name:"logo",landscapeX:1,landscapeY:42,landscapeScaleX:.97,landscapeScaleY:.97,portraitY:40},":":[{c:"DSprite",p:{image:"ui/logo.png"}}]}]}]},pin:{c:"DSprite",p:{name:"pin","pivot.x":-1,"pivot.y":-2,image:"ui/pin.png"}},"pin-light":{c:"MovieClip",p:{name:"pin-light",alpha:1,"scale.x":1,"scale.y":1,"pivot.x":1,"pivot.y":2,image:"ui/light.png",timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:1,t:0,m:1},{v:1,t:3,m:1},{v:0,t:14,m:1,a:"this.remove"}]},{n:"scale.x",t:[{v:1,t:0,m:1},{v:1.5,t:14,m:1}]},{n:"scale.y",t:[{v:1,t:0,m:1},{v:1.5,t:14,m:1}]}]}}},"provability-count-text":{c:"Text",p:{name:"provability-count-text",x:640,y:360,text:"100","style.fontSize":30,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"bold"}},"result-list-item":{c:"ListItem",p:{name:"result-list-item","pivot.x":222,timeline:{l:{remove:69,"no-animation":66},p:.05,d:.74,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:1,t:23,m:1},{v:1,t:67,m:1},{v:0,t:86,m:1,a:"this.remove"}]},{n:"pivot.x",t:[{v:222,t:0},{v:0,t:61},{v:0,t:67,a:"this.stop",m:1},{v:199,t:86,m:1}]}]},alpha:0},":":[{c:"Sprite",p:{name:"lose-bg",x:447,y:-16,image:"ui/profit-bg.png",tint:2527919},":":[{c:"MoneyLabel",p:{name:"win",x:105,y:15,text:"%d %s","style.fontSize":21,verticalAlign:"center","style.letterSpacing":1,maxWidth:170,dataPath:"this.parent.parent.data.win",refreshInterval:1e5,template:"%d %s",isNumeric:!0,plusMinus:!0,decimalsCount:2,dataPath2:"game.data.currency"}}]},{c:"Sprite",p:{name:"win-bg",x:447,y:-16,image:"ui/profit-bg.png",tint:16292380},":":[{c:"MoneyLabel",p:{name:"win",x:105,y:15,text:"%d %s","style.fontSize":21,verticalAlign:"center","style.fill":"#1c3662","style.letterSpacing":1,maxWidth:171,dataPath:"this.parent.parent.data.win",refreshInterval:1e5,template:"%d %s",isNumeric:!0,plusMinus:!0,decimalsCount:2,dataPath2:"game.data.currency"}}]},{c:"Label",p:{name:"payout",x:397,"scale.x":.9090909090909091,"scale.y":.9090909090909091,text:"1235.88×","style.fontSize":21,verticalAlign:"center",maxWidth:80,dataPath:"this.parent.data.payout",refreshInterval:1e5,template:"%d×",isNumeric:!0,decimalsCount:1}},{c:"Label",p:{name:"time",x:113,text:"12:28:03","style.fontSize":21,verticalAlign:"center",dataPath:"this.parent.data.time",refreshInterval:1e5}},{c:"MoneyLabel",p:{name:"bet",x:258,y:-1,"scale.x":.8294930875576036,"scale.y":.8294930875576036,text:"123123123123%d %s","style.fontSize":21,verticalAlign:"center","style.letterSpacing":1,maxWidth:180,dataPath:"this.parent.data.bet",refreshInterval:1e5,template:"%d %s",isNumeric:!0,decimalsCount:2,dataPath2:"game.data.currency"}}]},spark:{c:"ParticleSimple",p:{name:"spark",x:640,y:360,image:"ui/spark.png"}},"thing-games-utils/api-message":{c:"Resizer",p:{name:"thing-games-utils/api-message",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop","scale.x":192,"scale.y":108,image:"WHITE",tint:40,timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:.7,t:7,m:1}]}]}}}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]}]}},":":[{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{x:-300,y:-173,alpha:.9,interactive:!0,image:"ui/panel.png",width:600,height:271,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25}},{c:"Text",p:{name:"title",y:-138,alpha:.8,text:"TITLE","style.fontSize":26,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:540}},{c:"MultilineText",p:{name:"message",y:-62,alpha:.7,text:"qw qwe qwe q weq weqwe qweqwe eqwe qwe qwe qwe qwe qwe qw eqw e","style.fontSize":22,verticalAlign:"center","style.fontWeight":"lighter",maxWidthLandscape:540,maxWidthPortrait:540,maxHeightLandscape:130,maxHeightPortrait:130}},{c:"Button",p:{name:"btn",x:-170,y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"btn",y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"btn",x:170,y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"close-btn",x:270,y:-140,image:"ui/close-btn.png",hoverImage:"ui/close-btn-h.png",pressImage:"ui/close-btn-p.png",onClick:"all.popupsLayer.hideAll",hotkey:27,sndClick:"click",sndOver:"over"},":":[{c:"Shape",p:{x:-25,y:-25,alpha:.8,visible:!1,width:50,height:50,isItHitArea:!0}}]}]}]}]},"thing-games-utils/html-popup":{c:"Resizer",p:{name:"thing-games-utils/html-popup",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop","scale.x":192,"scale.y":108,timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:1,t:7,m:1}]}]}},":":[{c:"Button",p:{name:"easyCloseBtn",alpha:.7000000000000001,"scale.x":.625,"scale.y":.625,image:"WHITE",tint:40,hoverImage:"WHITE",pressImage:"WHITE",disabledImage:"WHITE",onClick:"game.hideModal",hotkey:27,sndClick:"click"}}]}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:25}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:25}]}]}},":":[{c:"Resizer",p:{relativeX:!0,xPos:-.5,relativeY:!0,yPos:-.5},":":[{c:"FullscreenPopup",p:{name:"POPUP-SIZER",x:510,y:110,scrollLayerPath:"this.#html",bgNineSlicePlanePath:"this.#bg",scrollBarPath:"this.#scroll-bar",marginLeftRight:30,marginTopBottom:60,containerMargin:50,scrollBarBottomMargin:120,maxWidthDesktop:1e3},":":[{c:"NineSlicePlane",p:{name:"bg",x:-50,y:-50,alpha:.9,interactive:!0,image:"ui/panel.png",width:1e3,height:960,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25}},{c:"HTMLOverlay",p:{name:"html",visibleArea:{x:0,y:0,w:900,h:860},fullArea:{x:0,y:0,w:1200,h:3283.8832668486248},className:"casino-modal"}},{c:"ProgressBar",p:{name:"scroll-bar",x:950,y:25,interactive:!0,dataPath:"this.parent.#html.relativeScrollY",height:840,capMargin:30,refreshInterval:0,max:1,step:1e-5},":":[{c:"NineSlicePlane",p:{name:"bg",x:-21,alpha:0,"scale.x":.625,"scale.y":.625,image:"WHITE",width:17.1,height:840}},{c:"Trigger",p:{dataPath:"this.parent.parent.#html.isYScrollAvailable"},":":[{c:"Button",p:{name:"cap",x:-11,y:20,image:"ui/scroller.png",hoverImage:"ui/scroller.png",pressImage:"ui/scroller.png",disabledImage:"ui/scroller.png"}}]},{c:"Trigger",p:{x:-26,y:-47,dataPath:"this.parent.parent.isMobileLandscape",invert:!0,pow:1,alphaShift:0,scaleShift:.5,isApplyInteractivity:!1},":":[{c:"Button",p:{name:"close-btn",x:-4,y:4,image:"ui/close-btn.png",onClick:"game.hideModal",hotkey:27,sndClick:"click",sndOver:"over"},":":[{c:"Shape",p:{x:-37,y:-35,alpha:.31,width:70,height:70,isItHitArea:!0}}]}]}]},{c:"Trigger",p:{name:"ios-safari-fix",dataPath:"game.isLandscapeSafariIos",pow:.12,damp:.75,alphaShift:0,isApplyInteractivity:!1,onEnable:"setValueByPath`this.parent.marginTopBottom,120",onDisable:"setValueByPath`this.parent.marginTopBottom,60"}}]}]}]}]},"thing-games-utils/offer-question":{c:"Resizer",p:{name:"thing-games-utils/offer-question",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop","scale.x":192,"scale.y":108,timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:1,t:7,m:1}]}]}},":":[{c:"Button",p:{name:"easyCloseBtn",alpha:.7000000000000001,"scale.x":.625,"scale.y":.625,image:"WHITE",tint:40,hoverImage:"WHITE",pressImage:"WHITE",disabledImage:"WHITE",hotkey:27,sndClick:"click",sndOver:"over"}},{c:"Trigger",p:{dataPath:"isMobile.any",pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"OrientationTrigger",p:{landscapeX:-2.5,landscapeScaleY:1.5,landscapeR:-1.57,portraitY:-4,portraitScaleY:1.8},":":[{c:"DSprite",p:{name:"easyCloseDisable",y:4.5,alpha:1e-5,interactive:!0,"scale.x":.625,"scale.y":.065,image:"WHITE",tint:0}}]}]},{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"DSprite",p:{name:"easyCloseDisable",y:4.5,alpha:1e-5,interactive:!0,"scale.x":.625,"scale.y":.065,image:"WHITE",tint:0}}]}]}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]}]}},":":[{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{x:-257,y:-190,interactive:!0,image:"ui/panel.png",width:514,height:345,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25}},{c:"Text",p:{name:"title",y:-110,translatableText:"slot.popups.enable_quick_spin_question","style.fontSize":78,verticalAlign:"center","style.strokeThickness":3,"style.stroke":"#ffffff","style.fontWeight":"lighter",maxWidth:300}},{c:"MultilineText",p:{name:"message",y:-20,translatableText:"slot.popups.enable_quick_spin_description","style.fontSize":30,verticalAlign:"center","style.fill":"#848484","style.fontWeight":"lighter",maxWidthLandscape:380,maxWidthPortrait:380,maxHeightLandscape:130,maxHeightPortrait:130}},{c:"Button",p:{name:"okBtn",x:115,y:80,"scale.x":.9,"scale.y":.9,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"slot.popups.buy_bonus.enable","style.fontSize":45,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"noBtn",x:-115,y:80,"scale.x":.9,"scale.y":.9,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"slot.popups.buy_bonus.no","style.fontSize":45,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"close-btn",x:225,y:-160,image:"ui/close-btn.png",hoverImage:"ui/close-btn-h.png",pressImage:"ui/close-btn-p.png",onClick:"all.popupsLayer.hideAll",hotkey:27,sndClick:"click",sndOver:"over"},":":[{c:"Shape",p:{x:-25,y:-25,alpha:.8,visible:!1,width:50,height:50,isItHitArea:!0}}]}]}]}]},"thing-games-utils/pause-popup":{c:"Resizer",p:{name:"thing-games-utils/pause-popup",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop","scale.x":120,"scale.y":67.5,image:"WHITE",tint:0,timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:.7,t:7,m:1}]}]}}}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]}]}},":":[{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{x:-300,y:-173,alpha:.9,interactive:!0,image:"ui/panel.png",width:600,height:271,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25}},{c:"Text",p:{name:"title",y:-138,alpha:.8,translatableText:"buttons.pause","style.fontSize":26,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:540}},{c:"Button",p:{name:"close-btn",y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.resume","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:174}}]}]}]}]},"thing-games-utils/provability-panel":{c:"ProvabilityPanel",p:{name:"thing-games-utils/provability-panel",pow:.1,damp:.64,xShift:-100},":":[{c:"Trigger",p:{name:"shift-for-spin",dataPath:"this.parent.isHidedForSpin",invert:!0,alphaShift:0,xShift:-130,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{name:"provability-background",interactive:!0,"pivot.x":100,image:"ui/panel.png",width:540,height:1080}},{c:"Container",p:{name:"provability-container",x:220,y:540},":":[{c:"Trigger",p:{name:"orientation-trigger",state:!0,pow:1,alphaShift:0,yShift:160,isApplyInteractivity:!1},":":[{c:"Text",p:{name:"provability-title",y:-419,translatableText:"provability.title","style.fontSize":34,verticalAlign:"center","style.fontWeight":"lighter","style.padding":7,maxWidth:376}}]},{c:"Trigger",p:{name:"orientation-trigger",y:54,state:!0,pow:1,damp:.999,alphaShift:0,xShift:-200,yShift:142,isApplyInteractivity:!1},":":[{c:"Container",p:{name:"next-game-container",y:-309},":":[{c:"Text",p:{y:-110,tint:8684676,translatableText:"provability.next_game","style.fontSize":30,verticalAlign:"center","style.fontWeight":"lighter",textTransform:1,maxWidth:134}},{c:"Text",p:{name:"hash-result-secret-label",y:107,alpha:.5,text:"Hash (Result + Secret)","style.fontSize":17,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:377}},{c:"Button",p:{name:"next-game-hash-btn",y:143,hoverImage:"EMPTY",pressImage:"EMPTY",disabledImage:"EMPTY",sndClick:"click",sndOver:"over"},":":[{c:"NineSlicePlane",p:{x:-189,y:-22,image:"ui/provability/input-gray.png",width:378,height:44,leftWidth:7,rightWidth:52,topHeight:7,bottomHeight:7},":":[{c:"Scissors",p:{rect:{x:0,y:0,w:325,h:41}},":":[{c:"Label",p:{name:"label",x:13,y:13,text:"01234567890123456789012345678901234567890123","style.fontSize":16,"style.align":"left","style.fill":"#000000","style.fontWeight":"lighter"}}]},{c:"Sprite",p:{x:248,y:3,"scale.x":5,"scale.y":.9,image:"ui/provability/input-fade.png"}}]}]},{c:"PrefabReference",p:{name:"provability-seed",prefabName:"ui/game-provability"}}]}]},{c:"Trigger",p:{y:54,dataPath:"this.parent.parent.parent.data.1",pow:.06,damp:.7},":":[{c:"Trigger",p:{name:"orientation-trigger",state:!0,pow:1,damp:.999,yShift:160,isApplyInteractivity:!1},":":[{c:"Sprite",p:{x:-189,y:-116,alpha:.3,"scale.x":23.625,"scale.y":.1875,image:"WHITE"}}]},{c:"Trigger",p:{name:"orientation-trigger",state:!0,pow:1,damp:.999,alphaShift:0,xShift:200,yShift:-198,isApplyInteractivity:!1},":":[{c:"Container",p:{name:"last-game-container",y:13},":":[{c:"Text",p:{y:-93,tint:8684676,translatableText:"provability.last_game","style.fontSize":29,verticalAlign:"center","style.fontWeight":"lighter",textTransform:1,maxWidth:134}},{c:"Text",p:{name:"hash-result-secret-label2",x:67,y:63,alpha:.5,text:"Hash (Result + Secret)","style.fontSize":17,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:271}},{c:"Text",p:{x:-128,y:63,alpha:.5,translatableText:"provability.client_seed","style.fontSize":17,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:175}},{c:"Text",p:{name:"result-secret-label",y:-56,alpha:.5,text:"Result + Secret","style.fontSize":17,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:376}},{c:"Text",p:{y:142,alpha:.5,translatableText:"provability.final_result","style.fontSize":17,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:376}},{c:"Button",p:{name:"last-game-hash-btn",x:26,y:100,hoverImage:"EMPTY",pressImage:"EMPTY",disabledImage:"EMPTY",sndClick:"click",sndOver:"over"},":":[{c:"NineSlicePlane",p:{x:-82,y:-23,image:"ui/provability/input-gray.png",width:245,height:44,leftWidth:7,rightWidth:52,topHeight:7,bottomHeight:7},":":[{c:"Scissors",p:{rect:{x:0,y:0,w:193,h:50}},":":[{c:"Label",p:{name:"label",x:13,y:13,text:"012345678901234567890123456","style.fontSize":16,"style.align":"left","style.fill":"#000000","style.fontWeight":"lighter"}}]},{c:"Sprite",p:{x:115,y:3,"scale.x":5,"scale.y":.9,image:"ui/provability/input-fade.png"}}]}]},{c:"Button",p:{name:"last-game-final-result-btn",y:179,hoverImage:"EMPTY",pressImage:"EMPTY",disabledImage:"EMPTY",sndClick:"click",sndOver:"over"},":":[{c:"NineSlicePlane",p:{x:-189,y:-23,image:"ui/provability/input-yellow.png",width:378,height:80,leftWidth:7,rightWidth:52,topHeight:40,bottomHeight:6},":":[{c:"Scissors",p:{rect:{x:0,y:0,w:329,h:69}},":":[{c:"MultilineText",p:{name:"label",x:13,y:11,text:'{dymbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j",',"style.fontSize":16,"style.align":"left","style.fill":"#000000","style.fontWeight":"lighter",maxWidthLandscape:307,maxWidthPortrait:307,breakWords:!0}}]},{c:"Sprite",p:{x:242,y:48,"scale.x":5,"scale.y":.54,image:"ui/provability/input-fade-yellow.png"}}]}]},{c:"Button",p:{name:"last-game-result-btn",x:-107,y:-19,hoverImage:"EMPTY",pressImage:"EMPTY",disabledImage:"EMPTY",sndClick:"click",sndOver:"over"},":":[{c:"NineSlicePlane",p:{x:-82,y:-23,image:"ui/provability/input-gray.png",width:378,height:80,leftWidth:7,rightWidth:52,topHeight:40,bottomHeight:6},":":[{c:"Scissors",p:{rect:{x:0,y:0,w:329,h:66}},":":[{c:"MultilineText",p:{name:"label",x:13,y:11,text:'{dymbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j",',"style.fontSize":16,"style.align":"left","style.fill":"#000000","style.fontWeight":"lighter",maxWidthLandscape:307,maxWidthPortrait:307,breakWords:!0}}]},{c:"Sprite",p:{x:242,y:48,"scale.x":5,"scale.y":.54,image:"ui/provability/input-fade.png"}}]}]},{c:"NineSlicePlane",p:{name:"last-game-client-seed",x:-189,y:77,image:"ui/provability/label-gray.png",width:120,height:44,leftWidth:7,rightWidth:7,topHeight:7,bottomHeight:7},":":[{c:"Label",p:{name:"label",x:13,y:13,text:"3454","style.fontSize":16,"style.align":"left","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:100}}]}]}]},{c:"Trigger",p:{name:"orientation-trigger",state:!0,pow:1,damp:.999,alphaShift:0,yShift:-198,isApplyInteractivity:!1},":":[{c:"Trigger",p:{dataPath:"this.parent.parent.parent.parent.parent.isVerified",invert:!0,alphaShift:0,xShift:-105,isApplyInteractivity:!1},":":[{c:"Button",p:{name:"provability-verify",y:300,image:"ui/provability/verify-btn.png",hoverImage:"ui/provability/verify-btn-h.png",onClick:"this.parent.parent.parent.parent.parent.parent.onVerifyClick",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{verticalAlign:"center","style.fontWeight":"lighter"},":":[{c:"Text",p:{translatableText:"provability.verify","style.fontSize":23,verticalAlign:"center","style.fontWeight":"lighter",textTransform:1,maxWidth:149}}]}]}]},{c:"Trigger",p:{dataPath:"this.parent.parent.parent.parent.parent.isVerified"},":":[{c:"Trigger",p:{dataPath:"this.parent.parent.parent.parent.parent.parent.isVerificationSuccess"},":":[{c:"Text",p:{x:95,y:260,translatableText:"provability.messages.successful_verification","style.fontSize":17,"style.fill":"#0edc17","style.fontWeight":"lighter",textTransform:1,maxWidth:185}},{c:"MultilineText",p:{x:95,y:281,translatableText:"provability.messages.success_message","style.fontSize":15,"style.fontWeight":"lighter",maxWidthLandscape:186,maxWidthPortrait:186}}]},{c:"Trigger",p:{dataPath:"this.parent.parent.parent.parent.parent.parent.isVerificationSuccess",invert:!0},":":[{c:"Text",p:{x:95,y:260,translatableText:"provability.messages.failed_verification","style.fontSize":17,"style.fill":"#ff0303","style.fontWeight":"lighter",textTransform:1,maxWidth:185}},{c:"MultilineText",p:{x:95,y:281,translatableText:"provability.messages.error_message","style.fontSize":15,"style.fontWeight":"lighter",maxWidthLandscape:186,maxWidthPortrait:186}}]}]}]}]}]},{c:"Button",p:{name:"provability-close-btn-container",x:440,"pivot.x":32,"pivot.y":-32,image:"ui/close-btn.png",hoverImage:"ui/close-btn-h.png",pressImage:"ui/close-btn-p.png",disabledImage:"EMPTY",onClick:"this.parent.parent.hide",hotkey:27,sndClick:"click",sndOver:"over"}}]}]},"thing-games-utils/provability-seed":{c:"Container",p:{name:"thing-games-utils/provability-seed"},":":[{c:"Container",p:{name:"client-seed-controls","scale.x":.8,"scale.y":.8},":":[{c:"Container",p:{name:"1",x:-200,y:25},":":[{c:"Label",p:{y:-62,alpha:.5,translatableText:"provability.reel_count","style.fontSize":25,verticalAlign:"bottom",maxWidth:94,dataPath:"this.parent.name"}},{c:"NumberInput",p:{name:"clien-seed-input",max:9,textView:"provability-count-text",dataPath:"game.data.provability.clientSeed.0",wrapValue:!0},":":[{c:"Sprite",p:{"pivot.x":30,"pivot.y":22,image:"ui/provability/counter-bg.png"}}]},{c:"Button",p:{name:"provability-seed-decrease",y:40,rotation:-3.141592653589793,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.decrease",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}},{c:"Button",p:{name:"provability-seed-increase",y:-40,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.increase",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}}]},{c:"Container",p:{name:"2",x:-100,y:25},":":[{c:"Label",p:{y:-62,alpha:.5,translatableText:"provability.reel_count","style.fontSize":25,verticalAlign:"bottom",maxWidth:94,dataPath:"this.parent.name"}},{c:"NumberInput",p:{name:"clien-seed-input",max:9,textView:"provability-count-text",dataPath:"game.data.provability.clientSeed.1",wrapValue:!0},":":[{c:"Sprite",p:{"pivot.x":30,"pivot.y":22,image:"ui/provability/counter-bg.png"}}]},{c:"Button",p:{name:"provability-seed-decrease",y:40,rotation:-3.141592653589793,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.decrease",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}},{c:"Button",p:{name:"provability-seed-increase",y:-40,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.increase",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}}]},{c:"Container",p:{name:"3",y:25},":":[{c:"Label",p:{y:-62,alpha:.5,translatableText:"provability.reel_count","style.fontSize":25,verticalAlign:"bottom",maxWidth:94,dataPath:"this.parent.name"}},{c:"NumberInput",p:{name:"clien-seed-input",max:9,textView:"provability-count-text",dataPath:"game.data.provability.clientSeed.2",wrapValue:!0},":":[{c:"Sprite",p:{"pivot.x":30,"pivot.y":22,image:"ui/provability/counter-bg.png"}}]},{c:"Button",p:{name:"provability-seed-decrease",y:40,rotation:-3.141592653589793,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.decrease",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}},{c:"Button",p:{name:"provability-seed-increase",y:-40,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.increase",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}}]},{c:"Container",p:{name:"4",x:100,y:25},":":[{c:"Label",p:{y:-62,alpha:.5,translatableText:"provability.reel_count","style.fontSize":25,verticalAlign:"bottom",maxWidth:94,dataPath:"this.parent.name"}},{c:"NumberInput",p:{name:"clien-seed-input",max:9,textView:"provability-count-text",dataPath:"game.data.provability.clientSeed.3",wrapValue:!0},":":[{c:"Sprite",p:{"pivot.x":30,"pivot.y":22,image:"ui/provability/counter-bg.png"}}]},{c:"Button",p:{name:"provability-seed-decrease",y:40,rotation:-3.141592653589793,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.decrease",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}},{c:"Button",p:{name:"provability-seed-increase",y:-40,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.increase",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}}]},{c:"Container",p:{name:"5",x:200,y:25},":":[{c:"Label",p:{y:-62,alpha:.5,translatableText:"provability.reel_count","style.fontSize":25,verticalAlign:"bottom",maxWidth:94,dataPath:"this.parent.name"}},{c:"NumberInput",p:{name:"clien-seed-input",max:9,textView:"provability-count-text",dataPath:"game.data.provability.clientSeed.4",wrapValue:!0},":":[{c:"Sprite",p:{"pivot.x":30,"pivot.y":22,image:"ui/provability/counter-bg.png"}}]},{c:"Button",p:{name:"provability-seed-decrease",y:40,rotation:-3.141592653589793,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.decrease",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}},{c:"Button",p:{name:"provability-seed-increase",y:-40,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.increase",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}}]}]},{c:"Label",p:{name:"game-provability-tip",y:-70,alpha:.5,translatableText:"provability.enter_client_seed","style.fontSize":22,verticalAlign:"center","style.fontWeight":"lighter","style.leading":4,maxWidth:376,dataPath:"game.data.provability.seedLimits",refreshInterval:1e3}}]},"thing-games-utils/reality-check-popup":{c:"RealityCheckPopup",p:{name:"thing-games-utils/reality-check-popup",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop",interactive:!0,"scale.x":120,"scale.y":67.5,image:"WHITE",tint:0,timeline:{l:{close:15},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:.7,t:7,m:1,a:"this.stop"},{v:.7,t:15,m:1},{v:0,t:23,m:1,a:"this.stop"}]}]}}}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{close:20},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1,a:"this.stop"},{v:1,t:20},{v:0,t:30,a:"this.parent.hidePopup"}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1},{v:1,t:20},{v:0,t:30,a:"this.stop"}]}]}},":":[{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.4,isApplyInteractivity:!1},":":[{c:"Shape",p:{x:-255,y:-380,width:510,height:755,shapeFillColor:5460819}},{c:"Shape",p:{x:-255,y:-380,width:510,height:15,shapeFillColor:10987431}},{c:"Text",p:{y:-292,translatableText:"reality_check.reality_check","style.fontSize":41,verticalAlign:"center",maxWidth:446}},{c:"MultilineText",p:{y:-242,translatableText:"reality_check.description","style.fontSize":23,"style.leading":4,maxWidthLandscape:450,maxWidthPortrait:450,maxHeightLandscape:135,maxHeightPortrait:135}},{c:"Text",p:{x:-221,y:-90,translatableText:"reality_check.session_time","style.fontSize":29,"style.align":"left",verticalAlign:"center",maxWidth:233}},{c:"Label",p:{name:"sessionTimeLable",x:220,y:-90,translatableText:"reality_check.minutes","style.fontSize":29,"style.align":"right",verticalAlign:"center","style.fontWeight":"bold",maxWidth:200,dataPath:"this.parent.parent.parent.sessionTime",isNumeric:!0}},{c:"Shape",p:{x:-221,y:-60,width:440,height:2,shapeFillColor:10987431}},{c:"Text",p:{x:-221,y:-30,translatableText:"reality_check.bets","style.fontSize":29,"style.align":"left",verticalAlign:"center",maxWidth:135}},{c:"MoneyLabel",p:{name:"sessionBetsLable",x:220,y:-30,text:"%d %s","style.fontSize":29,"style.align":"right",verticalAlign:"center","style.fontWeight":"bold",maxWidth:200,dataPath:"this.parent.parent.parent.sessionBets",template:"%d %s",dataPath2:"data.currency",decimalsCountPath:"data.balanceDigitsCount"}},{c:"Shape",p:{x:-221,y:1,width:440,height:2,shapeFillColor:10987431}},{c:"Text",p:{x:-221,y:33,translatableText:"reality_check.win","style.fontSize":29,"style.align":"left",verticalAlign:"center",maxWidth:135}},{c:"MoneyLabel",p:{name:"sessionWonLable",x:220,y:32,text:"%d %s","style.fontSize":29,"style.align":"right",verticalAlign:"center","style.fontWeight":"bold",maxWidth:200,dataPath:"this.parent.parent.parent.sessionWin",template:"%d %s",dataPath2:"data.currency",decimalsCountPath:"data.balanceDigitsCount"}},{c:"Shape",p:{x:-221,y:65,width:440,height:2,shapeFillColor:10987431}},{c:"Text",p:{x:-221,y:94,translatableText:"reality_check.lose","style.fontSize":29,"style.align":"left",verticalAlign:"center",maxWidth:135}},{c:"MoneyLabel",p:{name:"sessionLoseLable",x:220,y:93,text:"%d %s","style.fontSize":29,"style.align":"right",verticalAlign:"center","style.fontWeight":"bold",maxWidth:200,dataPath:"this.parent.parent.parent.sessionLose",template:"%d %s",dataPath2:"data.currency",decimalsCountPath:"data.balanceDigitsCount"}},{c:"Button",p:{name:"rc-close-button",x:217,y:-327,image:"reality-check/rc-popup-close-btn.png",onClick:"this.parent.parent.parent.onContinue",sndClick:"click",sndOver:"over"}},{c:"Trigger",p:{y:-18,dataPath:"casinoOptions.history_url",pow:1,damp:0},":":[{c:"Button",p:{name:"rc-history-button",y:153,onClick:"SharedAPI.openHistory",sndClick:"click",sndOver:"over"},":":[{c:"Shape",p:{x:-220,width:440,height:61,shapeFillColor:10987431}},{c:"Text",p:{y:30,translatableText:"reality_check.view_history","style.fontSize":30,verticalAlign:"center",textTransform:1,maxWidth:420}}]}]},{c:"Button",p:{name:"rc-leave-button",y:215,onClick:"this.parent.parent.parent.onLeaveTheGame",sndClick:"click",sndOver:"over"},":":[{c:"Shape",p:{x:-220,width:440,height:61,shapeFillColor:10987431}},{c:"Text",p:{y:30,translatableText:"reality_check.leave_the_game","style.fontSize":30,verticalAlign:"center",textTransform:1,maxWidth:420}}]},{c:"Button",p:{name:"rc-continue-button",y:291,onClick:"this.parent.parent.parent.onContinue",sndClick:"click",sndOver:"over"},":":[{c:"Shape",p:{x:-220,width:440,height:66}},{c:"Text",p:{y:30,translatableText:"reality_check.continue","style.fontSize":30,verticalAlign:"center",textTransform:1,maxWidth:420}}]}]}]}]},"thing-games-utils/safari-arrow-up":{c:"SafariArrowUp",p:{name:"thing-games-utils/safari-arrow-up"},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"Sprite",p:{alpha:.75,interactive:!0,"scale.x":120,"scale.y":67.5,image:"WHITE",tint:0}}]},{c:"Resizer",p:{"scale.x":1.5,"scale.y":1.5,relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"MovieClip",p:{image:"ui/arrow-up.png",timeline:{l:{},p:.02,d:.85,f:[{n:"y",t:[{v:-35,t:0},{v:-35,t:25},{v:-57,t:36},{v:-57,t:52},{v:-35,t:72,j:0}]}]}}},{c:"MovieClip",p:{x:56,image:"ui/hand.png",timeline:{l:{},p:.012,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:1,t:13,m:1},{v:1,t:45,m:1},{v:0,t:59,m:1},{v:0,t:72,m:1,j:0}]},{n:"scale.y",t:[{v:2,t:0},{v:1,t:14,m:1},{v:1,t:47,m:1},{v:2,t:72,j:0,m:1}]},{n:"scale.x",t:[{v:2,t:0},{v:1,t:14,m:1},{v:1,t:47,m:1},{v:2,t:72,j:0,m:1}]},{n:"y",t:[{v:130,t:0},{v:130,t:1,m:2},{v:130,t:21},{v:-99,t:60},{v:130,t:72,j:0}]}]}}}]}]},"thing-games-utils/snd-mus-button":{c:"ClickOutsideTrigger",p:{name:"thing-games-utils/snd-mus-button",x:-45,y:45,onClickOutside:"this.#volume-show.hide"},":":[{c:"Trigger",p:{name:"volume-show","scale.x":1.3,"scale.y":1.3,pow:.10200000000000002,damp:.749,scaleShift:-.5100000000000003},":":[{c:"NineSlicePlane",p:{x:-141,y:-32,alpha:.96,interactive:!0,"scale.x":.8,"scale.y":.8,image:"ui/panel.png",width:215,height:420,leftWidth:38,rightWidth:38,topHeight:38,bottomHeight:38}},{c:"ProgressBar",p:{x:9,y:241,rotation:-3.141592653589793,interactive:!0,dataPath:"game.Sound.soundsVol",refreshInterval:1,afterSlide:"game.Sound.play`click",max:1,step:.01},":":[{c:"Sprite",p:{name:"bg",x:-22,alpha:.2,"scale.y":1.0101010101010102,image:"ui/bar-mask.png"}},{c:"Fill",p:{name:"bar",x:-22,image:"ui/bar-mask.png"}},{c:"Container",p:{name:"cap",x:14,y:-200}}]},{c:"ProgressBar",p:{x:-69,y:241,rotation:-3.141592653589793,interactive:!0,dataPath:"game.Sound.musicVol",refreshInterval:1,afterSlide:"game.Sound.play`click",max:1,step:.01},":":[{c:"Sprite",p:{name:"bg",x:-22,alpha:.2,"scale.y":1.0101010101010102,image:"ui/bar-mask.png"}},{c:"Fill",p:{name:"bar",x:-22,image:"ui/bar-mask.png"}},{c:"Container",p:{name:"cap",x:14,y:-200}}]},{c:"Trigger",p:{x:-13,y:271,dataPath:"game.Sound.soundEnabled",invert:!0,pow:.06,damp:.8,scaleShift:-.5},":":[{c:"Button",p:{name:"snd toggle btn",hoverImage:"EMPTY",pressImage:"EMPTY",onClick:"game.Sound.toggleSounds",sndClick:"click",sndOver:"over"},":":[{c:"MovieClip",p:{alpha:.6900000000000001,image:"ui/snd-off.png",isPlaying:!1,timeline:{l:{"btn-over":2,"btn-out":53},p:.02,d:.85,f:[{n:"alpha",t:[{v:.6900000000000001,t:0,m:1},{v:1,t:7,m:1,a:"this.stop"},{v:1,t:49,m:1},{v:.7,t:59,m:1,a:"this.stop"}]}]}}}]}]},{c:"Trigger",p:{x:-13,y:271,dataPath:"game.Sound.soundEnabled",pow:.06,damp:.8,scaleShift:-.5},":":[{c:"Button",p:{name:"snd toggle btn",hoverImage:"EMPTY",pressImage:"EMPTY",onClick:"game.Sound.toggleSounds",sndClick:"click",sndOver:"over"},":":[{c:"MovieClip",p:{alpha:.6900000000000001,image:"ui/snd-on.png",isPlaying:!1,timeline:{l:{"btn-over":2,"btn-out":53},p:.02,d:.85,f:[{n:"alpha",t:[{v:.6900000000000001,t:0,m:1},{v:1,t:7,m:1,a:"this.stop"},{v:1,t:49,m:1},{v:.7,t:59,m:1,a:"this.stop"}]}]}}}]}]},{c:"Trigger",p:{x:-91,y:271,dataPath:"game.Sound.musicEnabled",invert:!0,pow:.06,damp:.8,scaleShift:-.5},":":[{c:"Button",p:{name:"snd toggle btn",hoverImage:"EMPTY",pressImage:"EMPTY",onClick:"game.Sound.toggleMusic",sndClick:"click",sndOver:"over"},":":[{c:"MovieClip",p:{alpha:.6900000000000001,image:"ui/mus-off.png",isPlaying:!1,timeline:{l:{"btn-over":2,"btn-out":53},p:.02,d:.85,f:[{n:"alpha",t:[{v:.6900000000000001,t:0,m:1},{v:1,t:7,m:1,a:"this.stop"},{v:1,t:49,m:1},{v:.7,t:59,m:1,a:"this.stop"}]}]}}}]}]},{c:"Trigger",p:{x:-91,y:271,dataPath:"game.Sound.musicEnabled",pow:.06,damp:.8,scaleShift:-.5},":":[{c:"Button",p:{name:"snd toggle btn",hoverImage:"EMPTY",pressImage:"EMPTY",onClick:"game.Sound.toggleMusic",sndClick:"click",sndOver:"over"},":":[{c:"MovieClip",p:{alpha:.6900000000000001,image:"ui/mus-on.png",isPlaying:!1,timeline:{l:{"btn-over":2,"btn-out":53},p:.02,d:.85,f:[{n:"alpha",t:[{v:.6900000000000001,t:0,m:1},{v:1,t:7,m:1,a:"this.stop"},{v:1,t:49,m:1},{v:.7,t:59,m:1,a:"this.stop"}]}]}}}]}]}]},{c:"Button",p:{hoverImage:"EMPTY",pressImage:"EMPTY",disabledImage:"EMPTY",onClick:"all.volume-show.toggle",sndClick:"click",sndOver:"over"},":":[{c:"Trigger",p:{dataPath:"classes.MainMenu.anySoundEnabled",invert:!0,pow:.06,damp:.8,scaleShift:-.5},":":[{c:"MovieClip",p:{image:"ui/snd-b-off.png",isPlaying:!1,timeline:{l:{"btn-over":7,"btn-out":44},p:.02,d:.85,f:[{n:"image",t:[{v:"ui/snd-b-off.png",t:0,m:2},{v:"ui/snd-b-off-h.png",t:8,m:2,a:"this.stop"},{v:"ui/snd-b-off.png",t:45,m:2}]}]}}}]},{c:"Trigger",p:{dataPath:"classes.MainMenu.anySoundEnabled",pow:.06,damp:.8,scaleShift:-.5},":":[{c:"MovieClip",p:{image:"ui/snd-b-on.png",isPlaying:!1,timeline:{l:{"btn-out":44,"btn-over":7},p:.02,d:.85,f:[{n:"image",t:[{v:"ui/snd-b-on.png",t:0,m:2},{v:"ui/snd-b-on-h.png",t:8,m:2,a:"this.stop"},{v:"ui/snd-b-on.png",t:45,m:2}]}]}}}]},{c:"Shape",p:{name:"hit-area",x:-66,y:-56,alpha:.46,width:121,height:119,isItHitArea:!0}}]}]},"thing-games-utils/sure-question":{c:"Resizer",p:{name:"thing-games-utils/sure-question",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop","scale.x":192,"scale.y":108,timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:.01,t:0,m:1},{v:1,t:7,m:1}]}]}},":":[{c:"Button",p:{name:"easyCloseBtn",alpha:.7000000000000001,interactive:!1,"scale.x":.625,"scale.y":.625,image:"WHITE",tint:40,hoverImage:"WHITE",pressImage:"WHITE",disabledImage:"WHITE",hotkey:27,sndClick:"click",sndOver:"over"}}]}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]}]}},":":[{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{x:-200,y:-173,interactive:!0,image:"ui/panel.png",width:400,height:271,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25}},{c:"Text",p:{name:"title",y:-138,alpha:.8,text:"TITLE","style.fontSize":26,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:250}},{c:"MultilineText",p:{name:"message",y:-62,alpha:.7,text:"qw qwe qwe q weq weqwe qweqwe eqwe qwe qwe qwe qwe qwe qw eqw e","style.fontSize":22,verticalAlign:"center","style.fontWeight":"lighter",maxWidthLandscape:340,maxWidthPortrait:340,maxHeightLandscape:130,maxHeightPortrait:130}},{c:"Button",p:{name:"okBtn",x:100,y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"noBtn",x:-100,y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",text:"--","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Sprite",p:{name:"alert-icon",x:-197,y:-182,image:"ui/alert-icon.png"}}]}]}]},"thing-games-utils/sure-question700":{c:"Resizer",p:{name:"thing-games-utils/sure-question700",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop","scale.x":192,"scale.y":108,image:"WHITE",tint:40,timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:.7,t:7,m:1}]}]}}}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]}]}},":":[{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{x:-300,y:-173,alpha:.9,interactive:!0,image:"ui/panel.png",width:600,height:271,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25}},{c:"Text",p:{name:"title",y:-138,alpha:.8,text:"TITLE","style.fontSize":26,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:540}},{c:"MultilineText",p:{name:"message",y:-62,alpha:.7,text:"qw qwe qwe q weq weqwe qweqwe eqwe qwe qwe qwe qwe qwe qw eqw e","style.fontSize":22,verticalAlign:"center","style.fontWeight":"lighter",maxWidthLandscape:540,maxWidthPortrait:540,maxHeightLandscape:130,maxHeightPortrait:130}},{c:"Button",p:{name:"btn",x:-170,y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"btn",y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"btn",x:170,y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]}]}]}]},"ui/game-provability":{c:"Container",p:{name:"ui/game-provability"},":":[{c:"Container",p:{name:"client-seed-controls"},":":[{c:"Container",p:{},":":[{c:"NumberInput",p:{name:"clien-seed-input",y:35,max:16,textView:"provability-count-text",dataPath:"game.data.provability.clientSeed.0",wrapValue:!0},":":[{c:"Sprite",p:{"pivot.x":30,"pivot.y":22,image:"ui/provability/counter-bg.png"}}]},{c:"Button",p:{x:-43,y:35,rotation:-1.5707963267948966,"scale.x":.72,"scale.y":.72,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.decrease",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}},{c:"Button",p:{x:43,y:35,rotation:1.5707963267948966,"scale.x":.72,"scale.y":.72,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.increase",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}}]}]},{c:"Label",p:{name:"game-provability-tip",y:-26,translatableText:"plinko.provability","style.fontSize":20,verticalAlign:"center","style.leading":4,maxWidth:376,dataPath:"game.data.provability.seedLimits",refreshInterval:1e3}}]},"ui/html-popup":{c:"PrefabReference",p:{name:"ui/html-popup",prefabName:"thing-games-utils/html-popup"}},"ui/sure-question":{c:"PrefabReference",p:{name:"ui/sure-question",prefabName:"thing-games-utils/sure-question"}},"ui/ui-panel":{c:"Container",p:{name:"ui/ui-panel"},":":[{c:"Resizer",p:{name:"top-middle",relativeX:!0,xPos:.5},":":[{c:"OrientationTrigger",p:{landscapeY:16,portraitY:16,portraitAlpha:0},":":[{c:"Sprite",p:{y:57,"scale.x":.5,"scale.y":.5,"pivot.x":204,"pivot.y":118,image:"ui/logo.png"},":":[{c:"Trigger",p:{dataPath:"game.casinoOptions.ui.logo_visible",isApplyInteractivity:!1},":":[{c:"Sprite",p:{x:284,y:188,alpha:.4,"scale.x":.5,"scale.y":.5,image:"ui/brand-logo.png"}}]}]}]}]},{c:"Trigger",p:{name:"ios-safari-fix",dataPath:"game.isLandscapeSafariIos",invert:!0,pow:1,alphaShift:0,yShift:80,isApplyInteractivity:!1},":":[{c:"Trigger",p:{x:44,y:44,dataPath:"game.casinoOptions.ui.home_button",pow:1},":":[{c:"Button",p:{image:"ui/home.png",hoverImage:"ui/home-h.png",pressImage:"ui/home.png",disabledImage:"ui/home.png",onClick:"SharedAPI.gotoHome",sndClick:"click",sndOver:"over"}},{c:"Label",p:{name:"time-label",x:62,y:-3,text:"15:46","style.fontSize":22,"style.align":"left",verticalAlign:"center","style.letterSpacing":1,dataPath:"game.currentScene.currentTime",refreshInterval:120,counterSpeed:.259,decimalsCount:2}}]},{c:"Resizer",p:{name:"right-top",relativeX:!0,xPos:1,relativeY:!0},":":[{c:"Button",p:{x:-134,y:44,image:"ui/help-btn.png",hoverImage:"ui/help-btn-h.png",pressImage:"ui/help-btn.png",disabledImage:"EMPTY",onClick:"game.currentScene.showRules",sndClick:"click",sndOver:"over"}},{c:"Trigger",p:{dataPath:"all.provability-panel.data"},":":[{c:"Trigger",p:{x:-90,dataPath:"casinoOptions.history_url",pow:1,damp:0,alphaShift:0,xShift:90,isApplyInteractivity:!1},":":[{c:"Button",p:{name:"provability-btn",x:-224,y:44,image:"ui/provability/provability-btn.png",hoverImage:"ui/provability/provability-btn-h.png",pressImage:"ui/provability/provability-btn.png",disabledImage:"EMPTY",onClick:"all.provability-panel.toggle",sndClick:"click",sndOver:"over"}}]}]},{c:"Trigger",p:{dataPath:"casinoOptions.history_url",pow:1,damp:0},":":[{c:"Button",p:{name:"provability-btn",x:-224,y:44,image:"ui/history-btn.png",hoverImage:"ui/history-btn-h.png",pressImage:"ui/history-btn.png",disabledImage:"EMPTY",onClick:"SharedAPI.openHistory",sndClick:"click",sndOver:"over"}}]},{c:"PrefabReference",p:{x:-44,y:44,prefabName:"thing-games-utils/snd-mus-button"}}]}]},{c:"PrefabReference",p:{name:"provability-panel",y:5684341886080802e-29,prefabName:"thing-games-utils/provability-panel"}}]}},images:{"ui/provability/counter-bg.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/provability/counter-btn-d.png":{e:".png_90_90.webp",f_e:".f.png_80_90.png"},"ui/provability/counter-btn-h.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/counter-btn.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/input-fade-yellow.png":{e:".png_80_90.png"},"ui/provability/input-fade.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/input-gray.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/input-yellow.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/label-gray.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/provability/verify-btn-h.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/verify-btn.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"distortion_map.png":{e:".png_100_100.webp",f_e:".f.png"},"reality-check/rc-popup-close-btn.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"round_gradient.png":{e:".png_100_100.webp",f_e:".f.png_80_90.png"},"ui/alert-icon.png":{e:".png_80_90.png"},"ui/arrow-up.png":{e:".png_80_80.webp",f_e:".f.png_80_90.png"},"ui/bar-mask.png":{e:".png_100_100.webp",f_e:".f.png_80_90.png"},"ui/brand-logo.png":{e:".png_80_90.png"},"ui/close-btn-h.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/close-btn-p.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/close-btn.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/hand.png":{e:".png_80_90.png"},"ui/mus-off.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/mus-on.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/panel.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/scroller.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/snd-off.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/snd-on.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/spinner.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"WHITE_FOR_CANVAS.jpg":{e:".jpg_100_100.webp",f_e:".f.jpg"},"ui/play-btn-h.png":{e:".png_80_80.webp",f_e:".f.png_80_90.png"},"ui/play-btn.png":{e:".png_80_80.webp",f_e:".f.png_90_100.png"},"ui/profit-bg.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/provability-btn-h.png":{e:".png_80_90.png"},"ui/provability/provability-btn.png":{e:".png_80_90.png"},"ui/select-btn-d.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/select-btn-h.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/select-btn.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/small-btn-d.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/small-btn.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/snd-b-off-h.png":{e:".png_80_90.png"},"ui/snd-b-off.png":{e:".png_80_90.png"},"ui/snd-b-on-h.png":{e:".png_80_90.png"},"ui/snd-b-on.png":{e:".png_80_90.png"},"ui/spark.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/star.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/stars-pattern.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/target-overlay.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/target.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/tooltip-pointer.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/tooltip.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/win-panel.png":{e:".png_80_90.png"},"bg/bg.jpg":{e:".jpg_80_80.webp",f_e:".f.jpg"},"ui/arrow-tabl-left.png":{e:".png_80_80.webp",f_e:".f.png_80_90.png"},"ui/auto-icon.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/ball.png":{e:".png_80_80.webp",f_e:".f.png_80_90.png"},"ui/bet-btn-h.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/bet-btn.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/btn-long-h.png":{e:".png_80_80.webp",f_e:".f.png_80_90.png"},"ui/btn-long.png":{e:".png_80_80.webp",f_e:".f.png_80_90.png"},"ui/close.png":{e:".png_100_100.webp",f_e:".f.png_80_90.png"},"ui/counter-bg.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/counter-btn-h.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/counter-btn.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/fullscreen.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/help-btn-h.png":{e:".png_80_90.png"},"ui/help-btn.png":{e:".png_80_90.png"},"ui/history-btn-h.png":{e:".png_80_90.png"},"ui/history-btn.png":{e:".png_80_90.png"},"ui/hole.png":{e:".png_80_90.png"},"ui/home-h.png":{e:".png_80_90.png"},"ui/home.png":{e:".png_80_90.png"},"ui/light.png":{e:".png_80_90.png"},"ui/line.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/logo.png":{e:".png_90_100.png"},"ui/lvl-high-icon.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/lvl-low-icon.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/lvl-mid-icon.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/manual-icon.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/panel-ui.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/particle.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/pin.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"bg/bg-flowers.png":{e:".png_80_90.png"},"bg/bg-ui.png":{e:".png_100.webp",f_e:".f.png_90_100.png"}},resources:{},sounds:{"ball2/2":["ball2/2.ogg","ball2/2.aac",.320862],big_win:["big_win.ogg","big_win.aac",.56449],click:["click.ogg","click.aac"],"mus/bg":["mus/bg.ogg","mus/bg.aac",99.548367],over:["over.ogg","over.aac"],play:["play.ogg","play.aac",.771338],win_sound:["win_sound.ogg","win_sound.aac",.469093]},projectDesc:{mainScene:"root",renderResolution:2,renderResolutionMobile:1,dynamicStageSize:!0,preventUpscale:!1,screenOrientation:"auto",defaultFont:"'Roboto', Arial",soundFormats:["ogg","aac"],width:1920,height:1080,portraitWidth:607,portraitHeight:1080,webfontloader:{google:{families:["Roboto:400,700:cyrillic"]},timeout:6e3},loadOnDemandSounds:{},muteOnFocusLost:!0,version:"0.0.1",framesSkipLimit:10,embedLocales:!1,loadOnDemandTextures:{"ui/stars-pattern.png":8},autoFullscreenDesktop:!1,autoFullscreenMobile:!0,soundDefaultBitrate:64,soundBitrates:{},defaultLanguage:"en",fontHolderText:"ЯSфz",mipmap:!1,defaultMusVol:1,defaultSoundsVol:1,keepSoundWhilePageUpdate:!1,slotPhrasesPrefix:"phrases.",jpgQuality:95,pngQuality:[.95,1],errorPhrasesPrefix:"errors.",title:"plinko",id:"plinko.softswiss.com",icon:"../../shared/img/ui/logo.png",assetsDelimiter:"\t",libs:["thing-games-utils/common","thing-games-utils/casual","thing-games-utils/provability","../../shared"]},resourceImages:{}}},7119:(t,e,i)=>{"use strict";var r=i(9135),n=i(5222),a=i(2468),s=i(9443),o=i(9080),l=i(1233);class h extends l.NineSlicePlane{constructor(){super(r.A.getTexture("WHITE"),3,3,3,3)}}var u=i(4222),c=i(1233),p=2*Math.PI,d="\n\n\tprecision mediump float;\n\n\tattribute vec2 aVertexPosition;\n\tattribute float aColor;\n\tattribute vec2 aTextureCoord;\n\n\tuniform mat3 translationMatrix;\n\tuniform mat3 projectionMatrix;\n\tuniform vec4 uColor;\n\n\tvarying vec2 vUvs;\n\tvarying vec4 vColor;\n\n\tvoid main() {\n\n\tvUvs = aTextureCoord;\n\tvColor = uColor * aColor;\n\tgl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n}",f="\n\n\tprecision mediump float;\n\n\tvarying vec4 vColor;\n\tvarying vec2 vUvs;\n\n\tuniform sampler2D uSampler;\n\n\tvoid main() {\n\n\tgl_FragColor = texture2D(uSampler, vUvs) * vColor;\n}";class g extends c.Mesh{constructor(t){t||(t=new c.MeshMaterial(c.Texture.WHITE,{program:c.Program.from(d,f)})),super(new c.PlaneGeometry(2,2,2,2),t),this.geometry.addAttribute("aColor",[0,0,1,1],1)}refreshSize(){var t=this.geometry;t.segWidth=this.verticesX,t.segHeight=this.verticesY,t.width=this.texture.width,t.height=this.texture.height,t.build(),this._applied_verticesX=this.verticesX,this._applied_verticesY=this.verticesY,this.updateFilling(),this.fillUpdated=!1,this.updateTransparency()}cropLeftRight(t,e){var i=this.texture.width;(t/=i)<0&&(t=0),(e/=i)<0&&(e=0),this.scale.x=Math.min(1,1-t-e),this.xRepeat=this.scale.x,this.xShift=t}cropTopBottom(t,e){var i=this.texture.height;(t/=i)<0&&(t=0),(e/=i)<0&&(e=0),this.scale.y=Math.min(1,1-t-e),this.yRepeat=this.scale.y,this.yShift=t}update(){0!==this.xShiftSpeed&&(this.xShift+=this.xShiftSpeed,s.A.isCanvasMode&&(this._xShift>2?this._xShift-=2:this._xShift<-2&&(this._xShift+=2))),0!==this.yShiftSpeed&&(this.yShift+=this.yShiftSpeed,s.A.isCanvasMode&&(this._yShift>2?this._yShift-=2:this._yShift<-2&&(this._yShift+=2))),0!==this.xWaveSpeed&&(this.xWavePhase+=this.xWaveSpeed,this._xWavePhase>p?this._xWavePhase-=p:this._xWavePhase<0&&(this._xWavePhase+=p)),0!==this.yWaveSpeed&&(this.yWavePhase+=this.yWaveSpeed,this._yWavePhase>p?this._yWavePhase-=p:this._yWavePhase<0&&(this._yWavePhase+=p)),super.update()}set texture(t){t!==super.texture&&(this.meshResized=this.meshResized||super.texture.width!==t.width||super.texture.height!==t.height,super.texture=t)}get texture(){return super.texture}render(t){this.validateFill(),super.render(t)}_renderCanvas(t){this.validateFill(),super._renderCanvas(t)}validateFill(){this.meshResized&&(this.refreshSize(),this.meshResized=!1),this.fillUpdated&&(this.updateFilling(),this.fillUpdated=!1),this.transparencyUpdated&&this.updateTransparency()}calculateVertices(){this.meshResized&&(this.refreshSize(),this.meshResized=!1),super.calculateVertices()}set transparentTop(t){this._transparentTop!==t&&(this._transparentTop=t,this.transparencyUpdated=!0)}get transparentTop(){return this._transparentTop}set transparentBottom(t){this._transparentBottom!==t&&(this._transparentBottom=t,this.transparencyUpdated=!0)}get transparentBottom(){return this._transparentBottom}set transparentLeft(t){this._transparentLeft!==t&&(this._transparentLeft=t,this.transparencyUpdated=!0)}get transparentLeft(){return this._transparentLeft}set transparentRight(t){this._transparentRight!==t&&(this._transparentRight=t,this.transparencyUpdated=!0)}get transparentRight(){return this._transparentRight}set alpha(t){super.alpha!==t&&(this.transparencyUpdated=!0,super.alpha=t)}get alpha(){return super.alpha}set tintR(t){super.tintR!==t&&(this.transparencyUpdated=!0,super.tintR=t)}get tintR(){return super.tintR}set verticesX(t){this._verticesX!==t&&(this._verticesX=t,this.meshResized=!0)}get verticesX(){return this._verticesX}set verticesY(t){this._verticesY!==t&&(this._verticesY=t,this.meshResized=!0)}get verticesY(){return this._verticesY}updateTransparency(){var t=this.verticesX*this.verticesY,e=this.geometry.buffers[3];e.data.length!==t&&(e.data=new Float32Array(t));for(var i=e.data,r=0;r<t;r++)i[r]=1;if(this.transparentTop)for(var n=this.verticesX-1;n>=0;n--)i[n]=0;if(this.transparentBottom)for(var a=t-this.verticesX;a<t;a++)i[a]=0;if(this.transparentLeft)for(var s=0;s<t;s+=this.verticesX)i[s]=0;if(this.transparentRight)for(var o=this.verticesX-1;o<t;o+=this.verticesX)i[o]=0;e.update(),this.transparencyUpdated=!1}updateFilling(){var t,e,i=this.uvBuffer.data,r=0;e=this._yShift;var n=this.verticesX-1,a=this.verticesY-1,s=this._xRepeat/n,o=this._yRepeat/a,l=this._xWaveStep/n,h=this._yWaveStep/a;if(0!==this._xWaveAmp||0!==this._yWaveAmp)for(var u=this._yWavePhase,c=0;c<=a;c++){t=this._xShift+Math.sin(u)*this._yWaveAmp;for(var p=this._xWavePhase,d=0;d<=n;d++)i[r++]=t,i[r++]=e+Math.sin(p)*this._xWaveAmp,t+=s,p+=l;u+=h,e+=o}else for(var f=0;f<=a;f++){t=this._xShift;for(var g=0;g<=n;g++)i[r++]=t,i[r++]=e,t+=s;e+=o}this.uvBuffer.update()}get xRepeat(){return this._xRepeat}set xRepeat(t){this._xRepeat!==t&&(this._xRepeat=t,this.fillUpdated=!0)}get xShift(){return this._xShift}set xShift(t){this._xShift!==t&&(this._xShift=t,this.fillUpdated=!0)}get xWaveAmp(){return this._xWaveAmp}set xWaveAmp(t){this._xWaveAmp!==t&&(this._xWaveAmp=t,this.fillUpdated=!0)}get xWaveStep(){return this._xWaveStep}set xWaveStep(t){this._xWaveStep!==t&&(this._xWaveStep=t,this.fillUpdated=!0)}get xWavePhase(){return this._xWavePhase}set xWavePhase(t){this._xWavePhase!==t&&(this._xWavePhase=t,this.fillUpdated=!0)}get yRepeat(){return this._yRepeat}set yRepeat(t){this._yRepeat!==t&&(this._yRepeat=t,this.fillUpdated=!0)}get yShift(){return this._yShift}set yShift(t){this._yShift!==t&&(this._yShift=t,this.fillUpdated=!0)}get yWaveAmp(){return this._yWaveAmp}set yWaveAmp(t){this._yWaveAmp!==t&&(this._yWaveAmp=t,this.fillUpdated=!0)}get yWaveStep(){return this._yWaveStep}set yWaveStep(t){this._yWaveStep!==t&&(this._yWaveStep=t,this.fillUpdated=!0)}get yWavePhase(){return this._yWavePhase}set yWavePhase(t){this._yWavePhase!==t&&(this._yWavePhase=t,this.fillUpdated=!0)}}var m=i(1233),A=0,v=1,y=2,_=3,b=4;class x extends m.Graphics{init(){super.init(),this._drawThing(),this._hitAreaCache=null,this.isItHitArea&&this.parent&&this.applyHitAreaToParent()}_drawThing(){this.clear(),!this.isItHitArea&&(this.lineStyle(this.shapeLineWidth,this.shapeLineColor,this.shapeLineAlpha,this.shapeLineAlignment),this.beginFill(this.shapeFillColor,this.shapeFillAlpha),this.drawThing(),this.endFill())}drawThing(){var t;switch(this.shape){case v:this.drawRoundedRect(0,0,this.width,this.height,this.shapeRadius);break;case A:this.drawRect(0,0,this.width,this.height);break;case y:this.drawCircle(0,0,this.shapeRadius);break;case _:this.drawEllipse(0,0,this.width,this.height);break;case b:if(this._shapePoints.length>2){for(var e of(t=[],this._shapePoints))t.push(e.x,e.y);this.drawPolygon(t)}}}getHitareaShape(){if(!this._hitAreaCache)switch(this.shape){case v:this._hitAreaCache=new m.RoundedRectangle(this.x,this.y,this.width,this.height,this.shapeRadius);break;case A:this._hitAreaCache=new m.Rectangle(this.x,this.y,this.width,this.height);break;case y:this._hitAreaCache=new m.Circle(this.x,this.y,this.shapeRadius);break;case _:this._hitAreaCache=new m.Ellipse(this.x,this.y,this.width,this.height);break;case b:if(this._shapePoints.length>2){var t=[];for(var e of this._shapePoints)t.push(e.x+this.x,e.y+this.y);this._hitAreaCache=new m.Polygon(t)}}return this._hitAreaCache}applyHitAreaToParent(){this.parent.hitArea=this.getHitareaShape(),this.visible=!1}onRemove(){super.onRemove(),this.clear(),this.isItHitArea&&this.parent&&(this.parent.hitArea=null)}set shape(t){this._shape=t,this.__deserialized&&this._drawThing()}get shape(){return this._shape}set width(t){this._width=t,this.__deserialized&&this._drawThing()}get width(){return this._width}set height(t){this._height=t,this.__deserialized&&this._drawThing()}get height(){return this._height}set shapeRadius(t){this._shapeRadius=t,this.__deserialized&&this._drawThing()}get shapeRadius(){return this._shapeRadius}set shapeLineColor(t){this._lColor=t,this.__deserialized&&this._drawThing()}get shapeLineColor(){return this._lColor}set shapeFillColor(t){this._fColor=t,this.__deserialized&&this._drawThing()}get shapeFillColor(){return this._fColor}set shapeFillAlpha(t){this._fAlpha=t,this.__deserialized&&this._drawThing()}get shapeFillAlpha(){return this._fAlpha}set shapeLineAlpha(t){this._lAlpha=t,this.__deserialized&&this._drawThing()}get shapeLineAlpha(){return this._lAlpha}set shapeLineWidth(t){this._lWidth=t,this.__deserialized&&this._drawThing()}get shapeLineWidth(){return this._lWidth}set shapeLineAlignment(t){this._lAlignment=t,this.__deserialized&&this._drawThing()}get shapeLineAlignment(){return this._lAlignment}}var T=new(i(1233).Point);function E(t,e){t instanceof x||t instanceof h?t.height=e:t.texture&&(t.scale.y=e/t.texture.height,t instanceof g&&(t.yRepeat=t.scale.y))}class S extends n.A{constructor(){super()}init(){super.init(),this.scrolling=!1,this.currentInterval=0,this.showedVal=void 0,this.bar=this.findChildByName("bar"),this.cap=this.findChildByName("cap"),this.buttonMode=this.interactive,this.on("pointerdown",this.onDown),this._applyBgHeight()}get height(){return this._height||200}set height(t){this._height!==t&&(this._height=t,this.applyValue(this.showedVal||0),this._applyBgHeight())}_applyBgHeight(){var t=this.getChildByName("bg");t&&E(t,this._height)}onRemove(){super.onRemove(),this._height=void 0,this.bar=null,this.cap=null,this.removeListener("pointerdown",this.onDown)}onDown(){this.isCanBePressed&&(this.scrolling=!0)}update(){if(this.scrolling)if(s.A.mouse.click){var t=this.toLocal(s.A.mouse,s.A.stage,T,!0).y/this._height;t<0?t=0:t>1&&(t=1);var e=this.min+t*(this.max-this.min);this.step>0&&(e=Math.round(e/this.step)*this.step),this.applyValue(e),this.dataPath&&(0,a.W)(this.dataPath,e,this)}else this.scrolling=!1,this.afterSlide&&(0,u.A)(this.afterSlide,this);else if(this.currentInterval<=0&&this.dataPath){var i=(0,a.A)(this.dataPath,this);i||0===i?(i>this.max&&(i=this.max),i<this.min&&(i=this.min),i!==this.showedVal&&(this.visible=!0,this.applyValue(i))):(this.showedVal=void 0,this.visible=!1),this.currentInterval=this.refreshInterval}else this.currentInterval--;super.update()}applyValue(t){t!==this.showedVal&&this.onChanged&&(0,u.A)(this.onChanged,this),this.showedVal=t;var e=(t-this.min)/(this.max-this.min);this.bar&&E(this.bar,this._height*e),this.cap&&(this.cap.y=this.capMargin+(this._height-2*this.capMargin)*e)}refreshNow(){this.currentInterval=0}}var w=i(1233),P=new w.Point,I=new w.Point;class R extends n.A{_disposeMaskScissor(){this.mask&&(this.removeChild(this.mask),this.mask=null,this.appliedCanvasMaskX=null)}set enabled(t){this._enabled=t,this.hitArea=t?new w.Rectangle:null}get enabled(){return this._enabled}_applyScissorHitArea(){if(this.hitArea){var t,e=this.rect;P.x=e.x,P.y=e.y,I.x=e.w+e.x,I.y=e.h+e.y,this.toGlobal(P,P),this.toGlobal(I,I),this.hitArea.x=e.x,this.hitArea.y=e.y,this.hitArea.width=e.w,this.hitArea.height=e.h,I.x<P.x&&(t=I.x,I.x=P.x,P.x=t),I.y<P.y&&(t=I.y,I.y=P.y,P.y=t)}}_renderCanvas(t){super._renderCanvas(t),this._enabled?(this.mask||(this.mask=new w.Graphics,this.addChild(this.mask)),this.appliedCanvasMaskX===this.rect.x&&this.appliedCanvasMaskY===this.rect.y&&this.appliedCanvasMaskW===this.rect.w&&this.appliedCanvasMaskH===this.rect.h||(this.mask.clear(),this.mask.beginFill(0,1),this.mask.drawRect(this.rect.x,this.rect.y,this.rect.w,this.rect.h),this.mask.endFill(),this.appliedCanvasMaskX=this.rect.x,this.appliedCanvasMaskY=this.rect.y,this.appliedCanvasMaskW=this.rect.w,this.appliedCanvasMaskH=this.rect.h),this._applyScissorHitArea()):this._disposeMaskScissor()}render(t){var e,i,r,n=this._enabled;if(n){e=t.gl,t.batch.flush(),(i=e.isEnabled(e.SCISSOR_TEST))&&(r=e.getParameter(e.SCISSOR_BOX)),e.enable(e.SCISSOR_TEST);var a=t.resolution;this._applyScissorHitArea(),s.A._isCanvasRotated?e.scissor(I.x*a,(s.A.W-I.y)*a,(P.x-I.x)*a,(I.y-P.y)*a):e.scissor(P.x*a,(s.A.H-I.y)*a,(I.x-P.x)*a,(I.y-P.y)*a)}super.render(t),t.batch.flush(),n&&(i?e.scissor.apply(e,r):e.disable(e.SCISSOR_TEST))}enable(){this.enabled=!0}disable(){this.enabled=!1}onRemove(){super.onRemove(),this._disposeMaskScissor()}}class C extends n.A{init(){super.init(),this.needApplyLayout=!0,this._applyLayout()}update(){super.update(),this.needApplyLayout&&(this._applyLayout(!0),this.needApplyLayout=!1)}_applyLayout(t){var e=s.A.W-2*this.getMarginLeftRight(),i=this.getMarginLeftRight(),r=s.A.isMobile.any?this.maxWidthMobile:this.maxWidthDesktop;r>0&&e>r&&(i+=Math.round((e-r)/2),e=r);var n=s.A.H-this.getMarginTop()-this.getMarginBottom();if(this.x=i+this.containerMargin||0,this.y=this.getMarginTop()+this.containerMargin||0,this.bgNineSlicePlanePath){var o=(0,a.A)(this.bgNineSlicePlanePath,this);o&&(o.x=-this.containerMargin,o.y=-this.containerMargin,o.width=e,o.height=n)}if(this.scrollBarPath){var l=(0,a.A)(this.scrollBarPath,this);l&&(l.x=e-this.containerMargin,l.height=n-this.scrollBarBottomMargin)}if(this.scrollLayerPath){var h=(0,a.A)(this.scrollLayerPath,this);if(h){var u=h.visibleArea;if(u.w=e-2*this.containerMargin,u.h=n-2*this.containerMargin,h.fullArea.w=u.w,h.parent instanceof R){var c=h.parent.rect;c.w=u.w,c.h=u.h}var p=h.getChildByName("centralized-content");if(p&&(p.x=Math.round(u.w/2)),t){var d=h.findChildByName("bottom-edge");d&&(d.visible=!1,h.fullArea.h=h.toLocal(d,d.parent).y)}}}}getMarginLeftRight(){return(s.A.isPortrait?this.marginLeftRightPortrait:this.marginLeftRight)||0}getMarginTop(){return(s.A.isPortrait?this.marginTopPortrait:this.marginTop)||0}getMarginBottom(){return(s.A.isPortrait?this.marginBottomPortrait:this.marginBottom)||0}_onRenderResize(){this._applyLayout(),this.needApplyLayout=!0}}var O=i(6711),M=i(5622);class B{init(t,e,i,r){this.target=t,this.fieldName=e.n,this.timeline=e.t,this.pow=i,this.damper=r,this.reset()}reset(){this.time=0,this.currentFrame=this.timeline[0],this.currentFrame.hasOwnProperty("r")&&(this.time+=Math.round(Math.random()*this.currentFrame.r)),this.val=this.currentFrame.v,this.targetVal=this.val,this.speed=0,this.target[this.fieldName]=this.val}goto(t,e){if(this.time=t,this.currentFrame=e,1===e.m){var i=e.t-this.time;this.speed=i>0?(e.v-this.val)/i:0}else 2===e.m&&(this.speed=0)}update(){var t=this.currentFrame;if(this.time===t.t){var e;if(t.hasOwnProperty("a")&&(e=t.a),1!==t.m&&2!==t.m||(this.val=t.v),this.time=t.j,t.hasOwnProperty("r")&&(this.time+=Math.round(Math.random()*t.r)),0===t.m&&(this.speed+=(t.v-this.val)*this.pow,this.val+=this.speed,this.speed*=this.damper),t.hasOwnProperty("s")&&(this.speed=t.s),this.currentFrame=t=t.n,1===t.m){var i=t.t-this.time;this.speed=i>0?(t.v-this.val)/i:0}!!e&&(0,u.A)(e,this.target)}else 0===t.m?(this.speed+=(t.v-this.val)*this.pow,this.val+=this.speed,this.speed*=this.damper):1===t.m?this.val+=this.speed:3===t.m?(this.speed+=t.g,this.val+=this.speed,this.val>=t.v&&(this.val=t.v,this.speed*=-t.b)):4===t.m&&(this.speed-=t.g,this.val+=this.speed,this.val<=t.v&&(this.val=t.v,this.speed*=-t.b));this.time++,this.target[this.fieldName]=this.val}}class D extends O.A{constructor(){super(),this.fieldPlayers=[]}update(){if(this.isPlaying)if(this.delay>0)this.delay--;else{if(this._goToLabelNextFrame){var t=this._timelineData.l[this._goToLabelNextFrame];this._goToLabelNextFrame=!1;for(var e=this.fieldPlayers.length,i=0;i<e;i++)this.fieldPlayers[i].goto(t.t,t.n[i])}for(var r of this.fieldPlayers)r.update()}super.update()}static _findNextKeyframe(t,e){var i;for(var r of t){if(r.t>e)return r;i=r}return i}static _findPreviousKeyframe(t,e){var i;for(var r of t){if(r.t>e)return i;i=r}return i}static _deserializeTimelineData(t){var e=t.f.map((t=>{var e=t.t.map((t=>{var e=Object.assign({},t);return e.hasOwnProperty("j")||(e.j=e.t),e.hasOwnProperty("m")||(e.m=0),e}));for(var i of e)i.n=D._findNextKeyframe(e,i.j);return{n:t.n,t:e}})),i={},r=function(){var r=t.l[n],a=e.map((t=>D._findNextKeyframe(t.t,r-1)));i[n]={t:r,n:a}};for(var n in t.l)r();return{l:i,p:t.p,d:t.d,f:e}}_disposePlayers(){for(;this.fieldPlayers.length>0;)M.A.dispose(this.fieldPlayers.pop())}set timeline(t){if(this._goToLabelNextFrame=!1,this._disposePlayers(),null!==t){if(!L.has(t)){var e=D._deserializeTimelineData(t);!0&&L.set(t,e),t=e}else t=L.get(t);this._timelineData=t;for(var i=t.p,r=t.d,n=t.f,a=0;a<n.length;a++){var s=M.A.create(B);s.init(this,n[a],i,r),this.fieldPlayers.push(s)}}else this._timelineData=null}resetTimeline(){for(var t of this.fieldPlayers)t.reset()}hasLabel(t){return this._timelineData.l.hasOwnProperty(t)}gotoLabel(t){this._goToLabelNextFrame=t,this.play()}gotoRandomLabel(){var t=arguments[Math.floor(Math.random()*arguments.length)];t&&this.gotoLabel(t)}gotoLabelIf(t,e,i){!(0,a.A)(e,this)!=!i&&this.gotoLabel(t)}play(){this.isPlaying=!0}stop(){this.isPlaying=!1}playRecursive(){for(var t of(this.isPlaying=!0,this.findChildrenByType(D)))t.isPlaying=!0}stopRecursive(){for(var t of(this.isPlaying=!1,this.findChildrenByType(D)))t.isPlaying=!1}}var L=new WeakMap;n.A.prototype.gotoLabelRecursive=function(t){for(var e of(this instanceof D&&this.hasLabel(t)&&(this.delay=0,this.gotoLabel(t)),this.children))e.gotoLabelRecursive(t)};var k=i(1233),N=new k.Point,F=new k.Point,G=new k.Point;class U extends D{init(){super.init(),this.applySize()}set image(t){super.image=t,this.applySize()}get image(){return super.image}applySize(){if(this.texture!==k.Texture.EMPTY){var t=this.texture.frame;this.pivot.x=0,this.pivot.y=0,F.x=0,F.y=0;var e=s.A.stage;this.toLocal(F,e,N),t.x=Math.max(0,Math.floor(this.texture.baseTexture.width/2+N.x)),t.y=Math.max(0,Math.floor(this.texture.baseTexture.height/2+N.y)),F.x=s.A.W,F.y=s.A.H,this.toLocal(F,e,G),t.width=Math.min(this.texture.baseTexture.width,Math.ceil(G.x)+this.texture.baseTexture.width/2)-t.x,t.height=Math.min(this.texture.baseTexture.height,Math.ceil(G.y)+this.texture.baseTexture.height/2)-t.y,this.pivot.x=(this.texture.baseTexture.width-t.width)/2-t.x,this.pivot.y=(this.texture.baseTexture.height-t.height)/2-t.y,1&t.width&&(t.right===this.texture.baseTexture.width&&(t.x--,this.pivot.x+=.5),t.width++),1&t.height&&(t.bottom===this.texture.baseTexture.height&&(t.y--,this.pivot.y+=.5),t.height++),this.texture.updateUvs()}}_onRenderResize(){this.applySize()}static recalculateAllBGCropping(){for(var t of s.A.stage.findChildrenByType(U))t.applySize()}}var H=i(4049),X=16,j=17,W=6,V=1,Y=.8,z=3,q=0,Q=0;class Z extends O.A{init(){super.init(),this.path=null,this.alpha=0,this.appearingPhase=0,q++,this.ballId=q}static getBallSize(t,e){return(t-2*(e*=z)-W)/2/X}setPinsDistance(t,e,i){this.table=i;var r=Z.getBallSize(t,e);this.ballSize=r,this.scale.x=this.scale.y=r;var n=X*r;this.pinToBallCollizionRadius=e*z+n,this.pinToBallCollizionRadiusQ=this.pinToBallCollizionRadius*this.pinToBallCollizionRadius}update(){super.update(),this.appearingPhase<1?(this.appearingPhase+=.03,this.appearingPhase>1&&(this.appearingPhase=1),this.alpha=this.appearingPhase,this.scale.x=this.scale.y=this.ballSize*(.5+.5*this.appearingPhase),this.y=(j-X)*this.scale.x):this.path&&this.processBallLogic()}processBallLogic(){if(this.keepBallInServerPath(),this.processPinCollisions(),this.y>this.table.targets[0].y){var t,e=1e5,i=this.path[this.path.length-1],r=(i.min+i.max)/2;for(var n of this.table.targets){var a=Math.abs(r-n.x);a<e&&(e=a,t=n)}t.gotoLabelRecursive("ball-touch"),t.findChildByName("spawner").spawn(),this._playBallSound(1,this.finalPitch);var o=this.table;this.remove();var l=o.findChildrenByType(Z).length;s.A.currentScene.onBallFinish(this.rollResult,l,this.ballId)}}keepBallInServerPath(){if(this.path){var t,e=0;for(var i of this.table.lines){if(i.y>this.y){t=this.path[e];break}e++}t=t||this.path[this.path.length-1],this.x<t.min?(this.xSpeed=0,this.x=t.min):this.x>t.max&&(this.xSpeed=0,this.x=t.max)}}_playBallSound(t=1,e=1){this.ballId>=Q&&(Q=this.ballId),this.ballId>=Q-1&&(this.ballId===Q-1&&(t/=2),H.A.play("ball2/2",t,1,0,!0))}processPinCollisions(){var t=1;for(var e of this.table.lines){var i=e.y-this.y;if(Math.abs(i)<this.pinToBallCollizionRadius)for(var n of e.children){var a=n.x-this.x;if(Math.abs(a)<this.pinToBallCollizionRadius){var s=a*a+i*i;if(s<this.pinToBallCollizionRadiusQ){var o=Math.atan2(i,a),l=Math.atan2(this.ySpeed,this.xSpeed),h=o-l,u=l+h,c=Math.sqrt(this.xSpeed*this.xSpeed+this.ySpeed*this.ySpeed);c>5&&n.addChild(r.A.loadPrefab("pin-light")),c>1&&this._playBallSound(.07*c,t);var p=Math.sqrt(s),d=this.pinToBallCollizionRadius-p;d>0&&(c-=Math.min(V,d));var f=c*(1-Math.max(0,Math.abs(Math.cos(h)))*(1-Y));this.xSpeed=-Math.cos(u)*f,this.ySpeed=-Math.sin(u)*f;var g=Math.cos(o),m=Math.sin(o);if(this.x=n.x-g*this.pinToBallCollizionRadius,this.y=e.y-m*this.pinToBallCollizionRadius,e.y>this.y)return this.ySpeed+=g*g*V,void(this.xSpeed-=m*g*V)}return void(this.ySpeed+=V)}}t*=1.0594}this.ySpeed+=V,this.finalPitch=t}setBallData(t){this.findChildByName("particles-spawner").enable(),this.rollResult=t;var e=1;this.path=t.game.outcome.map(((t,i)=>{var r,n=this.table.lines[i];return r=t?{min:n.children[e].x+.2+Math.random(),max:n.children[e+1].x-.2-Math.random()}:{max:n.children[e].x-.2-Math.random(),min:n.children[e-1].x+.2+Math.random()},e+=t?1:0,r}))}}var K,J,$,tt=i(874),et=i(1232),it=i(808),rt=i(1707),nt=i(5055);function at(t){return t.type===J.literal}function st(t){return t.type===J.argument}function ot(t){return t.type===J.number}function lt(t){return t.type===J.date}function ht(t){return t.type===J.time}function ut(t){return t.type===J.select}function ct(t){return t.type===J.plural}function pt(t){return t.type===J.pound}function dt(t){return t.type===J.tag}function ft(t){return!(!t||"object"!=typeof t||t.type!==$.number)}function gt(t){return!(!t||"object"!=typeof t||t.type!==$.dateTime)}(function(t){t[t.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",t[t.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",t[t.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",t[t.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",t[t.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",t[t.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",t[t.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",t[t.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",t[t.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",t[t.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",t[t.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",t[t.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",t[t.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",t[t.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",t[t.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",t[t.INVALID_TAG=23]="INVALID_TAG",t[t.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",t[t.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",t[t.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(K||(K={})),function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag"}(J||(J={})),function(t){t[t.number=0]="number",t[t.dateTime=1]="dateTime"}($||($={}));var mt=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,At=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function vt(t){var e={};return t.replace(At,(function(t){var i=t.length;switch(t[0]){case"G":e.era=4===i?"long":5===i?"narrow":"short";break;case"y":e.year=2===i?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][i-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][i-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=4===i?"short":5===i?"narrow":"short";break;case"e":if(i<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][i-4];break;case"c":if(i<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][i-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][i-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][i-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][i-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][i-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][i-1];break;case"s":e.second=["numeric","2-digit"][i-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=i<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),e}var yt=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function _t(t){if(0===t.length)throw new Error("Number skeleton cannot be empty");for(var e=t.split(yt).filter((function(t){return t.length>0})),i=[],r=0,n=e;r<n.length;r++){var a=n[r].split("/");if(0===a.length)throw new Error("Invalid number skeleton");for(var s=a[0],o=a.slice(1),l=0,h=o;l<h.length;l++){if(0===h[l].length)throw new Error("Invalid number skeleton")}i.push({stem:s,options:o})}return i}function bt(t){return t.replace(/^(.*?)-/,"")}var xt=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,Tt=/^(@+)?(\+|#+)?[rs]?$/g,Et=/(\*)(0+)|(#+)(0+)|(0+)/g,St=/^(0+)$/;function wt(t){var e={};return"r"===t[t.length-1]?e.roundingPriority="morePrecision":"s"===t[t.length-1]&&(e.roundingPriority="lessPrecision"),t.replace(Tt,(function(t,i,r){return"string"!=typeof r?(e.minimumSignificantDigits=i.length,e.maximumSignificantDigits=i.length):"+"===r?e.minimumSignificantDigits=i.length:"#"===i[0]?e.maximumSignificantDigits=i.length:(e.minimumSignificantDigits=i.length,e.maximumSignificantDigits=i.length+("string"==typeof r?r.length:0)),""})),e}function Pt(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function It(t){var e;if("E"===t[0]&&"E"===t[1]?(e={notation:"engineering"},t=t.slice(2)):"E"===t[0]&&(e={notation:"scientific"},t=t.slice(1)),e){var i=t.slice(0,2);if("+!"===i?(e.signDisplay="always",t=t.slice(2)):"+?"===i&&(e.signDisplay="exceptZero",t=t.slice(2)),!St.test(t))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=t.length}return e}function Rt(t){var e={},i=Pt(t);return i||e}function Ct(t){for(var e={},i=0,r=t;i<r.length;i++){var n=r[i];switch(n.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=n.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=bt(n.options[0]);continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=(0,nt.__assign)((0,nt.__assign)((0,nt.__assign)({},e),{notation:"scientific"}),n.options.reduce((function(t,e){return(0,nt.__assign)((0,nt.__assign)({},t),Rt(e))}),{}));continue;case"engineering":e=(0,nt.__assign)((0,nt.__assign)((0,nt.__assign)({},e),{notation:"engineering"}),n.options.reduce((function(t,e){return(0,nt.__assign)((0,nt.__assign)({},t),Rt(e))}),{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(n.options[0]);continue;case"integer-width":if(n.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");n.options[0].replace(Et,(function(t,i,r,n,a,s){if(i)e.minimumIntegerDigits=r.length;else{if(n&&a)throw new Error("We currently do not support maximum integer digits");if(s)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(St.test(n.stem))e.minimumIntegerDigits=n.stem.length;else if(xt.test(n.stem)){if(n.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");n.stem.replace(xt,(function(t,i,r,n,a,s){return"*"===r?e.minimumFractionDigits=i.length:n&&"#"===n[0]?e.maximumFractionDigits=n.length:a&&s?(e.minimumFractionDigits=a.length,e.maximumFractionDigits=a.length+s.length):(e.minimumFractionDigits=i.length,e.maximumFractionDigits=i.length),""}));var a=n.options[0];"w"===a?e=(0,nt.__assign)((0,nt.__assign)({},e),{trailingZeroDisplay:"stripIfInteger"}):a&&(e=(0,nt.__assign)((0,nt.__assign)({},e),wt(a)))}else if(Tt.test(n.stem))e=(0,nt.__assign)((0,nt.__assign)({},e),wt(n.stem));else{var s=Pt(n.stem);s&&(e=(0,nt.__assign)((0,nt.__assign)({},e),s));var o=It(n.stem);o&&(e=(0,nt.__assign)((0,nt.__assign)({},e),o))}}return e}var Ot,Mt={AX:["H"],BQ:["H"],CP:["H"],CZ:["H"],DK:["H"],FI:["H"],ID:["H"],IS:["H"],ML:["H"],NE:["H"],RU:["H"],SE:["H"],SJ:["H"],SK:["H"],AS:["h","H"],BT:["h","H"],DJ:["h","H"],ER:["h","H"],GH:["h","H"],IN:["h","H"],LS:["h","H"],PG:["h","H"],PW:["h","H"],SO:["h","H"],TO:["h","H"],VU:["h","H"],WS:["h","H"],"001":["H","h"],AL:["h","H","hB"],TD:["h","H","hB"],"ca-ES":["H","h","hB"],CF:["H","h","hB"],CM:["H","h","hB"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],LU:["H","h","hB"],NP:["H","h","hB"],PF:["H","h","hB"],SC:["H","h","hB"],SM:["H","h","hB"],SN:["H","h","hB"],TF:["H","h","hB"],VA:["H","h","hB"],CY:["h","H","hb","hB"],GR:["h","H","hb","hB"],CO:["h","H","hB","hb"],DO:["h","H","hB","hb"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],NA:["h","H","hB","hb"],PA:["h","H","hB","hb"],PR:["h","H","hB","hb"],VE:["h","H","hB","hb"],AC:["H","h","hb","hB"],AI:["H","h","hb","hB"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CC:["H","h","hb","hB"],CK:["H","h","hb","hB"],CX:["H","h","hb","hB"],DG:["H","h","hb","hB"],FK:["H","h","hb","hB"],GB:["H","h","hb","hB"],GG:["H","h","hb","hB"],GI:["H","h","hb","hB"],IE:["H","h","hb","hB"],IM:["H","h","hb","hB"],IO:["H","h","hb","hB"],JE:["H","h","hb","hB"],LT:["H","h","hb","hB"],MK:["H","h","hb","hB"],MN:["H","h","hb","hB"],MS:["H","h","hb","hB"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],PN:["H","h","hb","hB"],SH:["H","h","hb","hB"],SX:["H","h","hb","hB"],TA:["H","h","hb","hB"],ZA:["H","h","hb","hB"],"af-ZA":["H","h","hB","hb"],AR:["H","h","hB","hb"],CL:["H","h","hB","hb"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],EA:["H","h","hB","hb"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],GT:["H","h","hB","hb"],HN:["H","h","hB","hb"],IC:["H","h","hB","hb"],KG:["H","h","hB","hb"],KM:["H","h","hB","hb"],LK:["H","h","hB","hb"],MA:["H","h","hB","hb"],MX:["H","h","hB","hb"],NI:["H","h","hB","hb"],PY:["H","h","hB","hb"],SV:["H","h","hB","hb"],UY:["H","h","hB","hb"],JP:["H","h","K"],AD:["H","hB"],AM:["H","hB"],AO:["H","hB"],AT:["H","hB"],AW:["H","hB"],BE:["H","hB"],BF:["H","hB"],BJ:["H","hB"],BL:["H","hB"],BR:["H","hB"],CG:["H","hB"],CI:["H","hB"],CV:["H","hB"],DE:["H","hB"],EE:["H","hB"],FR:["H","hB"],GA:["H","hB"],GF:["H","hB"],GN:["H","hB"],GP:["H","hB"],GW:["H","hB"],HR:["H","hB"],IL:["H","hB"],IT:["H","hB"],KZ:["H","hB"],MC:["H","hB"],MD:["H","hB"],MF:["H","hB"],MQ:["H","hB"],MZ:["H","hB"],NC:["H","hB"],NL:["H","hB"],PM:["H","hB"],PT:["H","hB"],RE:["H","hB"],RO:["H","hB"],SI:["H","hB"],SR:["H","hB"],ST:["H","hB"],TG:["H","hB"],TR:["H","hB"],WF:["H","hB"],YT:["H","hB"],BD:["h","hB","H"],PK:["h","hB","H"],AZ:["H","hB","h"],BA:["H","hB","h"],BG:["H","hB","h"],CH:["H","hB","h"],GE:["H","hB","h"],LI:["H","hB","h"],ME:["H","hB","h"],RS:["H","hB","h"],UA:["H","hB","h"],UZ:["H","hB","h"],XK:["H","hB","h"],AG:["h","hb","H","hB"],AU:["h","hb","H","hB"],BB:["h","hb","H","hB"],BM:["h","hb","H","hB"],BS:["h","hb","H","hB"],CA:["h","hb","H","hB"],DM:["h","hb","H","hB"],"en-001":["h","hb","H","hB"],FJ:["h","hb","H","hB"],FM:["h","hb","H","hB"],GD:["h","hb","H","hB"],GM:["h","hb","H","hB"],GU:["h","hb","H","hB"],GY:["h","hb","H","hB"],JM:["h","hb","H","hB"],KI:["h","hb","H","hB"],KN:["h","hb","H","hB"],KY:["h","hb","H","hB"],LC:["h","hb","H","hB"],LR:["h","hb","H","hB"],MH:["h","hb","H","hB"],MP:["h","hb","H","hB"],MW:["h","hb","H","hB"],NZ:["h","hb","H","hB"],SB:["h","hb","H","hB"],SG:["h","hb","H","hB"],SL:["h","hb","H","hB"],SS:["h","hb","H","hB"],SZ:["h","hb","H","hB"],TC:["h","hb","H","hB"],TT:["h","hb","H","hB"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],VC:["h","hb","H","hB"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],ZM:["h","hb","H","hB"],BO:["H","hB","h","hb"],EC:["H","hB","h","hb"],ES:["H","hB","h","hb"],GQ:["H","hB","h","hb"],PE:["H","hB","h","hb"],AE:["h","hB","hb","H"],"ar-001":["h","hB","hb","H"],BH:["h","hB","hb","H"],DZ:["h","hB","hb","H"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],HK:["h","hB","hb","H"],IQ:["h","hB","hb","H"],JO:["h","hB","hb","H"],KW:["h","hB","hb","H"],LB:["h","hB","hb","H"],LY:["h","hB","hb","H"],MO:["h","hB","hb","H"],MR:["h","hB","hb","H"],OM:["h","hB","hb","H"],PH:["h","hB","hb","H"],PS:["h","hB","hb","H"],QA:["h","hB","hb","H"],SA:["h","hB","hb","H"],SD:["h","hB","hb","H"],SY:["h","hB","hb","H"],TN:["h","hB","hb","H"],YE:["h","hB","hb","H"],AF:["H","hb","hB","h"],LA:["H","hb","hB","h"],CN:["H","hB","hb","h"],LV:["H","hB","hb","h"],TL:["H","hB","hb","h"],"zu-ZA":["H","hB","hb","h"],CD:["hB","H"],IR:["hB","H"],"hi-IN":["hB","h","H"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"te-IN":["hB","h","H"],KH:["hB","h","H","hb"],"ta-IN":["hB","h","hb","H"],BN:["hb","hB","h","H"],MY:["hb","hB","h","H"],ET:["hB","hb","h","H"],"gu-IN":["hB","hb","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],TW:["hB","hb","h","H"],KE:["hB","hb","H","h"],MM:["hB","hb","H","h"],TZ:["hB","hb","H","h"],UG:["hB","hb","H","h"]};function Bt(t,e){for(var i="",r=0;r<t.length;r++){var n=t.charAt(r);if("j"===n){for(var a=0;r+1<t.length&&t.charAt(r+1)===n;)a++,r++;var s=1+(1&a),o=a<2?1:3+(a>>1),l="a",h=Dt(e);for("H"!=h&&"k"!=h||(o=0);o-- >0;)i+=l;for(;s-- >0;)i=h+i}else i+="J"===n?"H":n}return i}function Dt(t){var e=t.hourCycle;if(void 0===e&&t.hourCycles&&t.hourCycles.length&&(e=t.hourCycles[0]),e)switch(e){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var i,r=t.language;return"root"!==r&&(i=t.maximize().region),(Mt[i||""]||Mt[r||""]||Mt["".concat(r,"-001")]||Mt["001"])[0]}var Lt=new RegExp("^".concat(mt.source,"*")),kt=new RegExp("".concat(mt.source,"*$"));function Nt(t,e){return{start:t,end:e}}var Ft=!!String.prototype.startsWith,Gt=!!String.fromCodePoint,Ut=!!Object.fromEntries,Ht=!!String.prototype.codePointAt,Xt=!!String.prototype.trimStart,jt=!!String.prototype.trimEnd,Wt=!!Number.isSafeInteger?Number.isSafeInteger:function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=9007199254740991},Vt=!0;try{Vt="a"===(null===(Ot=$t("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===Ot?void 0:Ot[0])}catch(Va){Vt=!1}var Yt,zt=Ft?function(t,e,i){return t.startsWith(e,i)}:function(t,e,i){return t.slice(i,i+e.length)===e},qt=Gt?String.fromCodePoint:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i,r="",n=t.length,a=0;n>a;){if((i=t[a++])>1114111)throw RangeError(i+" is not a valid code point");r+=i<65536?String.fromCharCode(i):String.fromCharCode(55296+((i-=65536)>>10),i%1024+56320)}return r},Qt=Ut?Object.fromEntries:function(t){for(var e={},i=0,r=t;i<r.length;i++){var n=r[i],a=n[0],s=n[1];e[a]=s}return e},Zt=Ht?function(t,e){return t.codePointAt(e)}:function(t,e){var i=t.length;if(!(e<0||e>=i)){var r,n=t.charCodeAt(e);return n<55296||n>56319||e+1===i||(r=t.charCodeAt(e+1))<56320||r>57343?n:r-56320+(n-55296<<10)+65536}},Kt=Xt?function(t){return t.trimStart()}:function(t){return t.replace(Lt,"")},Jt=jt?function(t){return t.trimEnd()}:function(t){return t.replace(kt,"")};function $t(t,e){return new RegExp(t,e)}if(Vt){var te=$t("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Yt=function(t,e){var i;return te.lastIndex=e,null!==(i=te.exec(t)[1])&&void 0!==i?i:""}}else Yt=function(t,e){for(var i=[];;){var r=Zt(t,e);if(void 0===r||ae(r)||se(r))break;i.push(r),e+=r>=65536?2:1}return qt.apply(void 0,i)};var ee=function(){function t(t,e){void 0===e&&(e={}),this.message=t,this.position={offset:0,line:1,column:1},this.ignoreTag=!!e.ignoreTag,this.locale=e.locale,this.requiresOtherClause=!!e.requiresOtherClause,this.shouldParseSkeletons=!!e.shouldParseSkeletons}return t.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},t.prototype.parseMessage=function(t,e,i){for(var r=[];!this.isEOF();){var n=this.char();if(123===n){if((a=this.parseArgument(t,i)).err)return a;r.push(a.val)}else{if(125===n&&t>0)break;if(35!==n||"plural"!==e&&"selectordinal"!==e){if(60===n&&!this.ignoreTag&&47===this.peek()){if(i)break;return this.error(K.UNMATCHED_CLOSING_TAG,Nt(this.clonePosition(),this.clonePosition()))}if(60===n&&!this.ignoreTag&&ie(this.peek()||0)){if((a=this.parseTag(t,e)).err)return a;r.push(a.val)}else{var a;if((a=this.parseLiteral(t,e)).err)return a;r.push(a.val)}}else{var s=this.clonePosition();this.bump(),r.push({type:J.pound,location:Nt(s,this.clonePosition())})}}}return{val:r,err:null}},t.prototype.parseTag=function(t,e){var i=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:J.literal,value:"<".concat(r,"/>"),location:Nt(i,this.clonePosition())},err:null};if(this.bumpIf(">")){var n=this.parseMessage(t+1,e,!0);if(n.err)return n;var a=n.val,s=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!ie(this.char()))return this.error(K.INVALID_TAG,Nt(s,this.clonePosition()));var o=this.clonePosition();return r!==this.parseTagName()?this.error(K.UNMATCHED_CLOSING_TAG,Nt(o,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:J.tag,value:r,children:a,location:Nt(i,this.clonePosition())},err:null}:this.error(K.INVALID_TAG,Nt(s,this.clonePosition())))}return this.error(K.UNCLOSED_TAG,Nt(i,this.clonePosition()))}return this.error(K.INVALID_TAG,Nt(i,this.clonePosition()))},t.prototype.parseTagName=function(){var t=this.offset();for(this.bump();!this.isEOF()&&ne(this.char());)this.bump();return this.message.slice(t,this.offset())},t.prototype.parseLiteral=function(t,e){for(var i=this.clonePosition(),r="";;){var n=this.tryParseQuote(e);if(n)r+=n;else{var a=this.tryParseUnquoted(t,e);if(a)r+=a;else{var s=this.tryParseLeftAngleBracket();if(!s)break;r+=s}}}var o=Nt(i,this.clonePosition());return{val:{type:J.literal,value:r,location:o},err:null}},t.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&re(this.peek()||0)?null:(this.bump(),"<")},t.prototype.tryParseQuote=function(t){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===t||"selectordinal"===t)break;return null;default:return null}this.bump();var e=[this.char()];for(this.bump();!this.isEOF();){var i=this.char();if(39===i){if(39!==this.peek()){this.bump();break}e.push(39),this.bump()}else e.push(i);this.bump()}return qt.apply(void 0,e)},t.prototype.tryParseUnquoted=function(t,e){if(this.isEOF())return null;var i=this.char();return 60===i||123===i||35===i&&("plural"===e||"selectordinal"===e)||125===i&&t>0?null:(this.bump(),qt(i))},t.prototype.parseArgument=function(t,e){var i=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(K.EXPECT_ARGUMENT_CLOSING_BRACE,Nt(i,this.clonePosition()));if(125===this.char())return this.bump(),this.error(K.EMPTY_ARGUMENT,Nt(i,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(K.MALFORMED_ARGUMENT,Nt(i,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(K.EXPECT_ARGUMENT_CLOSING_BRACE,Nt(i,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:J.argument,value:r,location:Nt(i,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(K.EXPECT_ARGUMENT_CLOSING_BRACE,Nt(i,this.clonePosition())):this.parseArgumentOptions(t,e,r,i);default:return this.error(K.MALFORMED_ARGUMENT,Nt(i,this.clonePosition()))}},t.prototype.parseIdentifierIfPossible=function(){var t=this.clonePosition(),e=this.offset(),i=Yt(this.message,e),r=e+i.length;return this.bumpTo(r),{value:i,location:Nt(t,this.clonePosition())}},t.prototype.parseArgumentOptions=function(t,e,i,r){var n,a=this.clonePosition(),s=this.parseIdentifierIfPossible().value,o=this.clonePosition();switch(s){case"":return this.error(K.EXPECT_ARGUMENT_TYPE,Nt(a,o));case"number":case"date":case"time":this.bumpSpace();var l=null;if(this.bumpIf(",")){this.bumpSpace();var h=this.clonePosition();if((A=this.parseSimpleArgStyleIfPossible()).err)return A;if(0===(d=Jt(A.val)).length)return this.error(K.EXPECT_ARGUMENT_STYLE,Nt(this.clonePosition(),this.clonePosition()));l={style:d,styleLocation:Nt(h,this.clonePosition())}}if((v=this.tryParseArgumentClose(r)).err)return v;var u=Nt(r,this.clonePosition());if(l&&zt(null==l?void 0:l.style,"::",0)){var c=Kt(l.style.slice(2));if("number"===s)return(A=this.parseNumberSkeletonFromString(c,l.styleLocation)).err?A:{val:{type:J.number,value:i,location:u,style:A.val},err:null};if(0===c.length)return this.error(K.EXPECT_DATE_TIME_SKELETON,u);var p=c;this.locale&&(p=Bt(c,this.locale));var d={type:$.dateTime,pattern:p,location:l.styleLocation,parsedOptions:this.shouldParseSkeletons?vt(p):{}};return{val:{type:"date"===s?J.date:J.time,value:i,location:u,style:d},err:null}}return{val:{type:"number"===s?J.number:"date"===s?J.date:J.time,value:i,location:u,style:null!==(n=null==l?void 0:l.style)&&void 0!==n?n:null},err:null};case"plural":case"selectordinal":case"select":var f=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(K.EXPECT_SELECT_ARGUMENT_OPTIONS,Nt(f,(0,nt.__assign)({},f)));this.bumpSpace();var g=this.parseIdentifierIfPossible(),m=0;if("select"!==s&&"offset"===g.value){if(!this.bumpIf(":"))return this.error(K.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Nt(this.clonePosition(),this.clonePosition()));var A;if(this.bumpSpace(),(A=this.tryParseDecimalInteger(K.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,K.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return A;this.bumpSpace(),g=this.parseIdentifierIfPossible(),m=A.val}var v,y=this.tryParsePluralOrSelectOptions(t,s,e,g);if(y.err)return y;if((v=this.tryParseArgumentClose(r)).err)return v;var _=Nt(r,this.clonePosition());return"select"===s?{val:{type:J.select,value:i,options:Qt(y.val),location:_},err:null}:{val:{type:J.plural,value:i,options:Qt(y.val),offset:m,pluralType:"plural"===s?"cardinal":"ordinal",location:_},err:null};default:return this.error(K.INVALID_ARGUMENT_TYPE,Nt(a,o))}},t.prototype.tryParseArgumentClose=function(t){return this.isEOF()||125!==this.char()?this.error(K.EXPECT_ARGUMENT_CLOSING_BRACE,Nt(t,this.clonePosition())):(this.bump(),{val:!0,err:null})},t.prototype.parseSimpleArgStyleIfPossible=function(){for(var t=0,e=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var i=this.clonePosition();if(!this.bumpUntil("'"))return this.error(K.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Nt(i,this.clonePosition()));this.bump();break;case 123:t+=1,this.bump();break;case 125:if(!(t>0))return{val:this.message.slice(e.offset,this.offset()),err:null};t-=1;break;default:this.bump()}}return{val:this.message.slice(e.offset,this.offset()),err:null}},t.prototype.parseNumberSkeletonFromString=function(t,e){var i=[];try{i=_t(t)}catch(Ir){return this.error(K.INVALID_NUMBER_SKELETON,e)}return{val:{type:$.number,tokens:i,location:e,parsedOptions:this.shouldParseSkeletons?Ct(i):{}},err:null}},t.prototype.tryParsePluralOrSelectOptions=function(t,e,i,r){for(var n,a=!1,s=[],o=new Set,l=r.value,h=r.location;;){if(0===l.length){var u=this.clonePosition();if("select"===e||!this.bumpIf("="))break;var c=this.tryParseDecimalInteger(K.EXPECT_PLURAL_ARGUMENT_SELECTOR,K.INVALID_PLURAL_ARGUMENT_SELECTOR);if(c.err)return c;h=Nt(u,this.clonePosition()),l=this.message.slice(u.offset,this.offset())}if(o.has(l))return this.error("select"===e?K.DUPLICATE_SELECT_ARGUMENT_SELECTOR:K.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,h);"other"===l&&(a=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===e?K.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:K.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Nt(this.clonePosition(),this.clonePosition()));var d=this.parseMessage(t+1,e,i);if(d.err)return d;var f=this.tryParseArgumentClose(p);if(f.err)return f;s.push([l,{value:d.val,location:Nt(p,this.clonePosition())}]),o.add(l),this.bumpSpace(),l=(n=this.parseIdentifierIfPossible()).value,h=n.location}return 0===s.length?this.error("select"===e?K.EXPECT_SELECT_ARGUMENT_SELECTOR:K.EXPECT_PLURAL_ARGUMENT_SELECTOR,Nt(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(K.MISSING_OTHER_CLAUSE,Nt(this.clonePosition(),this.clonePosition())):{val:s,err:null}},t.prototype.tryParseDecimalInteger=function(t,e){var i=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(i=-1);for(var n=!1,a=0;!this.isEOF();){var s=this.char();if(!(s>=48&&s<=57))break;n=!0,a=10*a+(s-48),this.bump()}var o=Nt(r,this.clonePosition());return n?Wt(a*=i)?{val:a,err:null}:this.error(e,o):this.error(t,o)},t.prototype.offset=function(){return this.position.offset},t.prototype.isEOF=function(){return this.offset()===this.message.length},t.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},t.prototype.char=function(){var t=this.position.offset;if(t>=this.message.length)throw Error("out of bound");var e=Zt(this.message,t);if(void 0===e)throw Error("Offset ".concat(t," is at invalid UTF-16 code unit boundary"));return e},t.prototype.error=function(t,e){return{val:null,err:{kind:t,message:this.message,location:e}}},t.prototype.bump=function(){if(!this.isEOF()){var t=this.char();10===t?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=t<65536?1:2)}},t.prototype.bumpIf=function(t){if(zt(this.message,t,this.offset())){for(var e=0;e<t.length;e++)this.bump();return!0}return!1},t.prototype.bumpUntil=function(t){var e=this.offset(),i=this.message.indexOf(t,e);return i>=0?(this.bumpTo(i),!0):(this.bumpTo(this.message.length),!1)},t.prototype.bumpTo=function(t){if(this.offset()>t)throw Error("targetOffset ".concat(t," must be greater than or equal to the current offset ").concat(this.offset()));for(t=Math.min(t,this.message.length);;){var e=this.offset();if(e===t)break;if(e>t)throw Error("targetOffset ".concat(t," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},t.prototype.bumpSpace=function(){for(;!this.isEOF()&&ae(this.char());)this.bump()},t.prototype.peek=function(){if(this.isEOF())return null;var t=this.char(),e=this.offset(),i=this.message.charCodeAt(e+(t>=65536?2:1));return null!=i?i:null},t}();function ie(t){return t>=97&&t<=122||t>=65&&t<=90}function re(t){return ie(t)||47===t}function ne(t){return 45===t||46===t||t>=48&&t<=57||95===t||t>=97&&t<=122||t>=65&&t<=90||183==t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8255&&t<=8256||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}function ae(t){return t>=9&&t<=13||32===t||133===t||t>=8206&&t<=8207||8232===t||8233===t}function se(t){return t>=33&&t<=35||36===t||t>=37&&t<=39||40===t||41===t||42===t||43===t||44===t||45===t||t>=46&&t<=47||t>=58&&t<=59||t>=60&&t<=62||t>=63&&t<=64||91===t||92===t||93===t||94===t||96===t||123===t||124===t||125===t||126===t||161===t||t>=162&&t<=165||166===t||167===t||169===t||171===t||172===t||174===t||176===t||177===t||182===t||187===t||191===t||215===t||247===t||t>=8208&&t<=8213||t>=8214&&t<=8215||8216===t||8217===t||8218===t||t>=8219&&t<=8220||8221===t||8222===t||8223===t||t>=8224&&t<=8231||t>=8240&&t<=8248||8249===t||8250===t||t>=8251&&t<=8254||t>=8257&&t<=8259||8260===t||8261===t||8262===t||t>=8263&&t<=8273||8274===t||8275===t||t>=8277&&t<=8286||t>=8592&&t<=8596||t>=8597&&t<=8601||t>=8602&&t<=8603||t>=8604&&t<=8607||8608===t||t>=8609&&t<=8610||8611===t||t>=8612&&t<=8613||8614===t||t>=8615&&t<=8621||8622===t||t>=8623&&t<=8653||t>=8654&&t<=8655||t>=8656&&t<=8657||8658===t||8659===t||8660===t||t>=8661&&t<=8691||t>=8692&&t<=8959||t>=8960&&t<=8967||8968===t||8969===t||8970===t||8971===t||t>=8972&&t<=8991||t>=8992&&t<=8993||t>=8994&&t<=9e3||9001===t||9002===t||t>=9003&&t<=9083||9084===t||t>=9085&&t<=9114||t>=9115&&t<=9139||t>=9140&&t<=9179||t>=9180&&t<=9185||t>=9186&&t<=9254||t>=9255&&t<=9279||t>=9280&&t<=9290||t>=9291&&t<=9311||t>=9472&&t<=9654||9655===t||t>=9656&&t<=9664||9665===t||t>=9666&&t<=9719||t>=9720&&t<=9727||t>=9728&&t<=9838||9839===t||t>=9840&&t<=10087||10088===t||10089===t||10090===t||10091===t||10092===t||10093===t||10094===t||10095===t||10096===t||10097===t||10098===t||10099===t||10100===t||10101===t||t>=10132&&t<=10175||t>=10176&&t<=10180||10181===t||10182===t||t>=10183&&t<=10213||10214===t||10215===t||10216===t||10217===t||10218===t||10219===t||10220===t||10221===t||10222===t||10223===t||t>=10224&&t<=10239||t>=10240&&t<=10495||t>=10496&&t<=10626||10627===t||10628===t||10629===t||10630===t||10631===t||10632===t||10633===t||10634===t||10635===t||10636===t||10637===t||10638===t||10639===t||10640===t||10641===t||10642===t||10643===t||10644===t||10645===t||10646===t||10647===t||10648===t||t>=10649&&t<=10711||10712===t||10713===t||10714===t||10715===t||t>=10716&&t<=10747||10748===t||10749===t||t>=10750&&t<=11007||t>=11008&&t<=11055||t>=11056&&t<=11076||t>=11077&&t<=11078||t>=11079&&t<=11084||t>=11085&&t<=11123||t>=11124&&t<=11125||t>=11126&&t<=11157||11158===t||t>=11159&&t<=11263||t>=11776&&t<=11777||11778===t||11779===t||11780===t||11781===t||t>=11782&&t<=11784||11785===t||11786===t||11787===t||11788===t||11789===t||t>=11790&&t<=11798||11799===t||t>=11800&&t<=11801||11802===t||11803===t||11804===t||11805===t||t>=11806&&t<=11807||11808===t||11809===t||11810===t||11811===t||11812===t||11813===t||11814===t||11815===t||11816===t||11817===t||t>=11818&&t<=11822||11823===t||t>=11824&&t<=11833||t>=11834&&t<=11835||t>=11836&&t<=11839||11840===t||11841===t||11842===t||t>=11843&&t<=11855||t>=11856&&t<=11857||11858===t||t>=11859&&t<=11903||t>=12289&&t<=12291||12296===t||12297===t||12298===t||12299===t||12300===t||12301===t||12302===t||12303===t||12304===t||12305===t||t>=12306&&t<=12307||12308===t||12309===t||12310===t||12311===t||12312===t||12313===t||12314===t||12315===t||12316===t||12317===t||t>=12318&&t<=12319||12320===t||12336===t||64830===t||64831===t||t>=65093&&t<=65094}function oe(t){t.forEach((function(t){if(delete t.location,ut(t)||ct(t))for(var e in t.options)delete t.options[e].location,oe(t.options[e].value);else ot(t)&&ft(t.style)||(lt(t)||ht(t))&&gt(t.style)?delete t.style.location:dt(t)&&oe(t.children)}))}function le(t,e){void 0===e&&(e={}),e=(0,nt.__assign)({shouldParseSkeletons:!0,requiresOtherClause:!0},e);var i=new ee(t,e).parse();if(i.err){var r=SyntaxError(K[i.err.kind]);throw r.location=i.err.location,r.originalMessage=i.err.message,r}return(null==e?void 0:e.captureLocation)||oe(i.val),i.val}function he(t,e){var i=e&&e.cache?e.cache:_e,r=e&&e.serializer?e.serializer:Ae;return(e&&e.strategy?e.strategy:fe)(t,{cache:i,serializer:r})}function ue(t){return null==t||"number"==typeof t||"boolean"==typeof t}function ce(t,e,i,r){var n=ue(r)?r:i(r),a=e.get(n);return void 0===a&&(a=t.call(this,r),e.set(n,a)),a}function pe(t,e,i){var r=Array.prototype.slice.call(arguments,3),n=i(r),a=e.get(n);return void 0===a&&(a=t.apply(this,r),e.set(n,a)),a}function de(t,e,i,r,n){return i.bind(e,t,r,n)}function fe(t,e){return de(t,this,1===t.length?ce:pe,e.cache.create(),e.serializer)}function ge(t,e){return de(t,this,pe,e.cache.create(),e.serializer)}function me(t,e){return de(t,this,ce,e.cache.create(),e.serializer)}var Ae=function(){return JSON.stringify(arguments)};function ve(){this.cache=Object.create(null)}ve.prototype.get=function(t){return this.cache[t]},ve.prototype.set=function(t,e){this.cache[t]=e};var ye,_e={create:function(){return new ve}},be={variadic:ge,monadic:me};(function(t){t.MISSING_VALUE="MISSING_VALUE",t.INVALID_VALUE="INVALID_VALUE",t.MISSING_INTL_API="MISSING_INTL_API"})(ye||(ye={}));var xe,Te=function(t){function e(e,i,r){var n=t.call(this,e)||this;return n.code=i,n.originalMessage=r,n}return(0,nt.__extends)(e,t),e.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},e}(Error),Ee=function(t){function e(e,i,r,n){return t.call(this,'Invalid values for "'.concat(e,'": "').concat(i,'". Options are "').concat(Object.keys(r).join('", "'),'"'),ye.INVALID_VALUE,n)||this}return(0,nt.__extends)(e,t),e}(Te),Se=function(t){function e(e,i,r){return t.call(this,'Value for "'.concat(e,'" must be of type ').concat(i),ye.INVALID_VALUE,r)||this}return(0,nt.__extends)(e,t),e}(Te),we=function(t){function e(e,i){return t.call(this,'The intl string context variable "'.concat(e,'" was not provided to the string "').concat(i,'"'),ye.MISSING_VALUE,i)||this}return(0,nt.__extends)(e,t),e}(Te);function Pe(t){return t.length<2?t:t.reduce((function(t,e){var i=t[t.length-1];return i&&i.type===xe.literal&&e.type===xe.literal?i.value+=e.value:t.push(e),t}),[])}function Ie(t){return"function"==typeof t}function Re(t,e,i,r,n,a,s){if(1===t.length&&at(t[0]))return[{type:xe.literal,value:t[0].value}];for(var o=[],l=0,h=t;l<h.length;l++){var u=h[l];if(at(u))o.push({type:xe.literal,value:u.value});else if(pt(u))"number"==typeof a&&o.push({type:xe.literal,value:i.getNumberFormat(e).format(a)});else{var c=u.value;if(!n||!(c in n))throw new we(c,s);var p=n[c];if(st(u))p&&"string"!=typeof p&&"number"!=typeof p||(p="string"==typeof p||"number"==typeof p?String(p):""),o.push({type:"string"==typeof p?xe.literal:xe.object,value:p});else if(lt(u)){var d="string"==typeof u.style?r.date[u.style]:gt(u.style)?u.style.parsedOptions:void 0;o.push({type:xe.literal,value:i.getDateTimeFormat(e,d).format(p)})}else if(ht(u)){d="string"==typeof u.style?r.time[u.style]:gt(u.style)?u.style.parsedOptions:r.time.medium;o.push({type:xe.literal,value:i.getDateTimeFormat(e,d).format(p)})}else if(ot(u)){(d="string"==typeof u.style?r.number[u.style]:ft(u.style)?u.style.parsedOptions:void 0)&&d.scale&&(p*=d.scale||1),o.push({type:xe.literal,value:i.getNumberFormat(e,d).format(p)})}else{if(dt(u)){var f=u.children,g=u.value,m=n[g];if(!Ie(m))throw new Se(g,"function",s);var A=m(Re(f,e,i,r,n,a).map((function(t){return t.value})));Array.isArray(A)||(A=[A]),o.push.apply(o,A.map((function(t){return{type:"string"==typeof t?xe.literal:xe.object,value:t}})))}if(ut(u)){if(!(v=u.options[p]||u.options.other))throw new Ee(u.value,p,Object.keys(u.options),s);o.push.apply(o,Re(v.value,e,i,r,n))}else if(ct(u)){var v;if(!(v=u.options["=".concat(p)])){if(!Intl.PluralRules)throw new Te('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',ye.MISSING_INTL_API,s);var y=i.getPluralRules(e,{type:u.pluralType}).select(p-(u.offset||0));v=u.options[y]||u.options.other}if(!v)throw new Ee(u.value,p,Object.keys(u.options),s);o.push.apply(o,Re(v.value,e,i,r,n,p-(u.offset||0)))}else;}}}return Pe(o)}function Ce(t,e){return e?(0,nt.__assign)((0,nt.__assign)((0,nt.__assign)({},t||{}),e||{}),Object.keys(t).reduce((function(i,r){return i[r]=(0,nt.__assign)((0,nt.__assign)({},t[r]),e[r]||{}),i}),{})):t}function Oe(t,e){return e?Object.keys(t).reduce((function(i,r){return i[r]=Ce(t[r],e[r]),i}),(0,nt.__assign)({},t)):t}function Me(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,i){t[e]=i}}}}}function Be(t){return void 0===t&&(t={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:he((function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return new((t=Intl.NumberFormat).bind.apply(t,(0,nt.__spreadArray)([void 0],e,!1)))}),{cache:Me(t.number),strategy:be.variadic}),getDateTimeFormat:he((function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return new((t=Intl.DateTimeFormat).bind.apply(t,(0,nt.__spreadArray)([void 0],e,!1)))}),{cache:Me(t.dateTime),strategy:be.variadic}),getPluralRules:he((function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return new((t=Intl.PluralRules).bind.apply(t,(0,nt.__spreadArray)([void 0],e,!1)))}),{cache:Me(t.pluralRules),strategy:be.variadic})}}(function(t){t[t.literal=0]="literal",t[t.object=1]="object"})(xe||(xe={}));const De=function(){function t(e,i,r,n){var a=this;if(void 0===i&&(i=t.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(t){var e=a.formatToParts(t);if(1===e.length)return e[0].value;var i=e.reduce((function(t,e){return t.length&&e.type===xe.literal&&"string"==typeof t[t.length-1]?t[t.length-1]+=e.value:t.push(e.value),t}),[]);return i.length<=1?i[0]||"":i},this.formatToParts=function(t){return Re(a.ast,a.locales,a.formatters,a.formats,t,void 0,a.message)},this.resolvedOptions=function(){return{locale:a.resolvedLocale.toString()}},this.getAst=function(){return a.ast},this.locales=i,this.resolvedLocale=t.resolveLocale(i),"string"==typeof e){if(this.message=e,!t.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=t.__parse(e,{ignoreTag:null==n?void 0:n.ignoreTag,locale:this.resolvedLocale})}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Oe(t.formats,r),this.formatters=n&&n.formatters||Be(this.formatterCache)}return Object.defineProperty(t,"defaultLocale",{get:function(){return t.memoizedDefaultLocale||(t.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),t.memoizedDefaultLocale},enumerable:!1,configurable:!0}),t.memoizedDefaultLocale=null,t.resolveLocale=function(t){var e=Intl.NumberFormat.supportedLocalesOf(t);return e.length>0?new Intl.Locale(e[0]):new Intl.Locale("string"==typeof t?t:t[0])},t.__parse=le,t.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},t}();var Le,ke,Ne;function Fe(t){return t.type===ke.number}function Ge(t){return t.type===ke.date}function Ue(t){return t.type===ke.time}function He(t){return t.type===ke.select}function Xe(t){return t.type===ke.plural}function je(t){return t.type===ke.tag}function We(t){return!(!t||"object"!=typeof t||t.type!==Ne.number)}function Ve(t){return!(!t||"object"!=typeof t||t.type!==Ne.dateTime)}(function(t){t[t.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",t[t.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",t[t.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",t[t.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",t[t.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",t[t.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",t[t.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",t[t.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",t[t.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",t[t.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",t[t.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",t[t.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",t[t.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",t[t.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",t[t.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",t[t.INVALID_TAG=23]="INVALID_TAG",t[t.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",t[t.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",t[t.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(Le||(Le={})),function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag"}(ke||(ke={})),function(t){t[t.number=0]="number",t[t.dateTime=1]="dateTime"}(Ne||(Ne={}));var Ye=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,ze=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function qe(t){var e={};return t.replace(ze,(function(t){var i=t.length;switch(t[0]){case"G":e.era=4===i?"long":5===i?"narrow":"short";break;case"y":e.year=2===i?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][i-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][i-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=4===i?"long":5===i?"narrow":"short";break;case"e":if(i<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][i-4];break;case"c":if(i<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][i-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][i-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][i-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][i-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][i-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][i-1];break;case"s":e.second=["numeric","2-digit"][i-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=i<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),e}var Qe=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function Ze(t){if(0===t.length)throw new Error("Number skeleton cannot be empty");for(var e=t.split(Qe).filter((function(t){return t.length>0})),i=[],r=0,n=e;r<n.length;r++){var a=n[r].split("/");if(0===a.length)throw new Error("Invalid number skeleton");for(var s=a[0],o=a.slice(1),l=0,h=o;l<h.length;l++){if(0===h[l].length)throw new Error("Invalid number skeleton")}i.push({stem:s,options:o})}return i}function Ke(t){return t.replace(/^(.*?)-/,"")}var Je=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,$e=/^(@+)?(\+|#+)?[rs]?$/g,ti=/(\*)(0+)|(#+)(0+)|(0+)/g,ei=/^(0+)$/;function ii(t){var e={};return"r"===t[t.length-1]?e.roundingPriority="morePrecision":"s"===t[t.length-1]&&(e.roundingPriority="lessPrecision"),t.replace($e,(function(t,i,r){return"string"!=typeof r?(e.minimumSignificantDigits=i.length,e.maximumSignificantDigits=i.length):"+"===r?e.minimumSignificantDigits=i.length:"#"===i[0]?e.maximumSignificantDigits=i.length:(e.minimumSignificantDigits=i.length,e.maximumSignificantDigits=i.length+("string"==typeof r?r.length:0)),""})),e}function ri(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function ni(t){var e;if("E"===t[0]&&"E"===t[1]?(e={notation:"engineering"},t=t.slice(2)):"E"===t[0]&&(e={notation:"scientific"},t=t.slice(1)),e){var i=t.slice(0,2);if("+!"===i?(e.signDisplay="always",t=t.slice(2)):"+?"===i&&(e.signDisplay="exceptZero",t=t.slice(2)),!ei.test(t))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=t.length}return e}function ai(t){var e={},i=ri(t);return i||e}function si(t){for(var e={},i=0,r=t;i<r.length;i++){var n=r[i];switch(n.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=n.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=Ke(n.options[0]);continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=(0,nt.__assign)((0,nt.__assign)((0,nt.__assign)({},e),{notation:"scientific"}),n.options.reduce((function(t,e){return(0,nt.__assign)((0,nt.__assign)({},t),ai(e))}),{}));continue;case"engineering":e=(0,nt.__assign)((0,nt.__assign)((0,nt.__assign)({},e),{notation:"engineering"}),n.options.reduce((function(t,e){return(0,nt.__assign)((0,nt.__assign)({},t),ai(e))}),{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(n.options[0]);continue;case"rounding-mode-floor":e.roundingMode="floor";continue;case"rounding-mode-ceiling":e.roundingMode="ceil";continue;case"rounding-mode-down":e.roundingMode="trunc";continue;case"rounding-mode-up":e.roundingMode="expand";continue;case"rounding-mode-half-even":e.roundingMode="halfEven";continue;case"rounding-mode-half-down":e.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":e.roundingMode="halfExpand";continue;case"integer-width":if(n.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");n.options[0].replace(ti,(function(t,i,r,n,a,s){if(i)e.minimumIntegerDigits=r.length;else{if(n&&a)throw new Error("We currently do not support maximum integer digits");if(s)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(ei.test(n.stem))e.minimumIntegerDigits=n.stem.length;else if(Je.test(n.stem)){if(n.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");n.stem.replace(Je,(function(t,i,r,n,a,s){return"*"===r?e.minimumFractionDigits=i.length:n&&"#"===n[0]?e.maximumFractionDigits=n.length:a&&s?(e.minimumFractionDigits=a.length,e.maximumFractionDigits=a.length+s.length):(e.minimumFractionDigits=i.length,e.maximumFractionDigits=i.length),""}));var a=n.options[0];"w"===a?e=(0,nt.__assign)((0,nt.__assign)({},e),{trailingZeroDisplay:"stripIfInteger"}):a&&(e=(0,nt.__assign)((0,nt.__assign)({},e),ii(a)))}else if($e.test(n.stem))e=(0,nt.__assign)((0,nt.__assign)({},e),ii(n.stem));else{var s=ri(n.stem);s&&(e=(0,nt.__assign)((0,nt.__assign)({},e),s));var o=ni(n.stem);o&&(e=(0,nt.__assign)((0,nt.__assign)({},e),o))}}return e}var oi,li={"001":["H","h"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["H","h","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["H","hB","h","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["H","h","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["H","hB","h","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["H","h","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["H","h","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["H","h","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["H","h","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["H","hB","h","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["H","h","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["H","h","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["H","h","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function hi(t,e){for(var i="",r=0;r<t.length;r++){var n=t.charAt(r);if("j"===n){for(var a=0;r+1<t.length&&t.charAt(r+1)===n;)a++,r++;var s=1+(1&a),o=a<2?1:3+(a>>1),l="a",h=ui(e);for("H"!=h&&"k"!=h||(o=0);o-- >0;)i+=l;for(;s-- >0;)i=h+i}else i+="J"===n?"H":n}return i}function ui(t){var e=t.hourCycle;if(void 0===e&&t.hourCycles&&t.hourCycles.length&&(e=t.hourCycles[0]),e)switch(e){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var i,r=t.language;return"root"!==r&&(i=t.maximize().region),(li[i||""]||li[r||""]||li["".concat(r,"-001")]||li["001"])[0]}var ci=new RegExp("^".concat(Ye.source,"*")),pi=new RegExp("".concat(Ye.source,"*$"));function di(t,e){return{start:t,end:e}}var fi=!!String.prototype.startsWith&&"_a".startsWith("a",1),gi=!!String.fromCodePoint,mi=!!Object.fromEntries,Ai=!!String.prototype.codePointAt,vi=!!String.prototype.trimStart,yi=!!String.prototype.trimEnd,_i=!!Number.isSafeInteger?Number.isSafeInteger:function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=9007199254740991},bi=!0;try{bi="a"===(null===(oi=Ri("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===oi?void 0:oi[0])}catch(Va){bi=!1}var xi,Ti=fi?function(t,e,i){return t.startsWith(e,i)}:function(t,e,i){return t.slice(i,i+e.length)===e},Ei=gi?String.fromCodePoint:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i,r="",n=t.length,a=0;n>a;){if((i=t[a++])>1114111)throw RangeError(i+" is not a valid code point");r+=i<65536?String.fromCharCode(i):String.fromCharCode(55296+((i-=65536)>>10),i%1024+56320)}return r},Si=mi?Object.fromEntries:function(t){for(var e={},i=0,r=t;i<r.length;i++){var n=r[i],a=n[0],s=n[1];e[a]=s}return e},wi=Ai?function(t,e){return t.codePointAt(e)}:function(t,e){var i=t.length;if(!(e<0||e>=i)){var r,n=t.charCodeAt(e);return n<55296||n>56319||e+1===i||(r=t.charCodeAt(e+1))<56320||r>57343?n:r-56320+(n-55296<<10)+65536}},Pi=vi?function(t){return t.trimStart()}:function(t){return t.replace(ci,"")},Ii=yi?function(t){return t.trimEnd()}:function(t){return t.replace(pi,"")};function Ri(t,e){return new RegExp(t,e)}if(bi){var Ci=Ri("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");xi=function(t,e){var i;return Ci.lastIndex=e,null!==(i=Ci.exec(t)[1])&&void 0!==i?i:""}}else xi=function(t,e){for(var i=[];;){var r=wi(t,e);if(void 0===r||Li(r)||ki(r))break;i.push(r),e+=r>=65536?2:1}return Ei.apply(void 0,i)};var Oi=function(){function t(t,e){void 0===e&&(e={}),this.message=t,this.position={offset:0,line:1,column:1},this.ignoreTag=!!e.ignoreTag,this.locale=e.locale,this.requiresOtherClause=!!e.requiresOtherClause,this.shouldParseSkeletons=!!e.shouldParseSkeletons}return t.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},t.prototype.parseMessage=function(t,e,i){for(var r=[];!this.isEOF();){var n=this.char();if(123===n){if((a=this.parseArgument(t,i)).err)return a;r.push(a.val)}else{if(125===n&&t>0)break;if(35!==n||"plural"!==e&&"selectordinal"!==e){if(60===n&&!this.ignoreTag&&47===this.peek()){if(i)break;return this.error(Le.UNMATCHED_CLOSING_TAG,di(this.clonePosition(),this.clonePosition()))}if(60===n&&!this.ignoreTag&&Mi(this.peek()||0)){if((a=this.parseTag(t,e)).err)return a;r.push(a.val)}else{var a;if((a=this.parseLiteral(t,e)).err)return a;r.push(a.val)}}else{var s=this.clonePosition();this.bump(),r.push({type:ke.pound,location:di(s,this.clonePosition())})}}}return{val:r,err:null}},t.prototype.parseTag=function(t,e){var i=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:ke.literal,value:"<".concat(r,"/>"),location:di(i,this.clonePosition())},err:null};if(this.bumpIf(">")){var n=this.parseMessage(t+1,e,!0);if(n.err)return n;var a=n.val,s=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Mi(this.char()))return this.error(Le.INVALID_TAG,di(s,this.clonePosition()));var o=this.clonePosition();return r!==this.parseTagName()?this.error(Le.UNMATCHED_CLOSING_TAG,di(o,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:ke.tag,value:r,children:a,location:di(i,this.clonePosition())},err:null}:this.error(Le.INVALID_TAG,di(s,this.clonePosition())))}return this.error(Le.UNCLOSED_TAG,di(i,this.clonePosition()))}return this.error(Le.INVALID_TAG,di(i,this.clonePosition()))},t.prototype.parseTagName=function(){var t=this.offset();for(this.bump();!this.isEOF()&&Di(this.char());)this.bump();return this.message.slice(t,this.offset())},t.prototype.parseLiteral=function(t,e){for(var i=this.clonePosition(),r="";;){var n=this.tryParseQuote(e);if(n)r+=n;else{var a=this.tryParseUnquoted(t,e);if(a)r+=a;else{var s=this.tryParseLeftAngleBracket();if(!s)break;r+=s}}}var o=di(i,this.clonePosition());return{val:{type:ke.literal,value:r,location:o},err:null}},t.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&Bi(this.peek()||0)?null:(this.bump(),"<")},t.prototype.tryParseQuote=function(t){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===t||"selectordinal"===t)break;return null;default:return null}this.bump();var e=[this.char()];for(this.bump();!this.isEOF();){var i=this.char();if(39===i){if(39!==this.peek()){this.bump();break}e.push(39),this.bump()}else e.push(i);this.bump()}return Ei.apply(void 0,e)},t.prototype.tryParseUnquoted=function(t,e){if(this.isEOF())return null;var i=this.char();return 60===i||123===i||35===i&&("plural"===e||"selectordinal"===e)||125===i&&t>0?null:(this.bump(),Ei(i))},t.prototype.parseArgument=function(t,e){var i=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Le.EXPECT_ARGUMENT_CLOSING_BRACE,di(i,this.clonePosition()));if(125===this.char())return this.bump(),this.error(Le.EMPTY_ARGUMENT,di(i,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(Le.MALFORMED_ARGUMENT,di(i,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Le.EXPECT_ARGUMENT_CLOSING_BRACE,di(i,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:ke.argument,value:r,location:di(i,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Le.EXPECT_ARGUMENT_CLOSING_BRACE,di(i,this.clonePosition())):this.parseArgumentOptions(t,e,r,i);default:return this.error(Le.MALFORMED_ARGUMENT,di(i,this.clonePosition()))}},t.prototype.parseIdentifierIfPossible=function(){var t=this.clonePosition(),e=this.offset(),i=xi(this.message,e),r=e+i.length;return this.bumpTo(r),{value:i,location:di(t,this.clonePosition())}},t.prototype.parseArgumentOptions=function(t,e,i,r){var n,a=this.clonePosition(),s=this.parseIdentifierIfPossible().value,o=this.clonePosition();switch(s){case"":return this.error(Le.EXPECT_ARGUMENT_TYPE,di(a,o));case"number":case"date":case"time":this.bumpSpace();var l=null;if(this.bumpIf(",")){this.bumpSpace();var h=this.clonePosition();if((A=this.parseSimpleArgStyleIfPossible()).err)return A;if(0===(d=Ii(A.val)).length)return this.error(Le.EXPECT_ARGUMENT_STYLE,di(this.clonePosition(),this.clonePosition()));l={style:d,styleLocation:di(h,this.clonePosition())}}if((v=this.tryParseArgumentClose(r)).err)return v;var u=di(r,this.clonePosition());if(l&&Ti(null==l?void 0:l.style,"::",0)){var c=Pi(l.style.slice(2));if("number"===s)return(A=this.parseNumberSkeletonFromString(c,l.styleLocation)).err?A:{val:{type:ke.number,value:i,location:u,style:A.val},err:null};if(0===c.length)return this.error(Le.EXPECT_DATE_TIME_SKELETON,u);var p=c;this.locale&&(p=hi(c,this.locale));var d={type:Ne.dateTime,pattern:p,location:l.styleLocation,parsedOptions:this.shouldParseSkeletons?qe(p):{}};return{val:{type:"date"===s?ke.date:ke.time,value:i,location:u,style:d},err:null}}return{val:{type:"number"===s?ke.number:"date"===s?ke.date:ke.time,value:i,location:u,style:null!==(n=null==l?void 0:l.style)&&void 0!==n?n:null},err:null};case"plural":case"selectordinal":case"select":var f=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Le.EXPECT_SELECT_ARGUMENT_OPTIONS,di(f,(0,nt.__assign)({},f)));this.bumpSpace();var g=this.parseIdentifierIfPossible(),m=0;if("select"!==s&&"offset"===g.value){if(!this.bumpIf(":"))return this.error(Le.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,di(this.clonePosition(),this.clonePosition()));var A;if(this.bumpSpace(),(A=this.tryParseDecimalInteger(Le.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Le.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return A;this.bumpSpace(),g=this.parseIdentifierIfPossible(),m=A.val}var v,y=this.tryParsePluralOrSelectOptions(t,s,e,g);if(y.err)return y;if((v=this.tryParseArgumentClose(r)).err)return v;var _=di(r,this.clonePosition());return"select"===s?{val:{type:ke.select,value:i,options:Si(y.val),location:_},err:null}:{val:{type:ke.plural,value:i,options:Si(y.val),offset:m,pluralType:"plural"===s?"cardinal":"ordinal",location:_},err:null};default:return this.error(Le.INVALID_ARGUMENT_TYPE,di(a,o))}},t.prototype.tryParseArgumentClose=function(t){return this.isEOF()||125!==this.char()?this.error(Le.EXPECT_ARGUMENT_CLOSING_BRACE,di(t,this.clonePosition())):(this.bump(),{val:!0,err:null})},t.prototype.parseSimpleArgStyleIfPossible=function(){for(var t=0,e=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var i=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Le.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,di(i,this.clonePosition()));this.bump();break;case 123:t+=1,this.bump();break;case 125:if(!(t>0))return{val:this.message.slice(e.offset,this.offset()),err:null};t-=1;break;default:this.bump()}}return{val:this.message.slice(e.offset,this.offset()),err:null}},t.prototype.parseNumberSkeletonFromString=function(t,e){var i=[];try{i=Ze(t)}catch(Ir){return this.error(Le.INVALID_NUMBER_SKELETON,e)}return{val:{type:Ne.number,tokens:i,location:e,parsedOptions:this.shouldParseSkeletons?si(i):{}},err:null}},t.prototype.tryParsePluralOrSelectOptions=function(t,e,i,r){for(var n,a=!1,s=[],o=new Set,l=r.value,h=r.location;;){if(0===l.length){var u=this.clonePosition();if("select"===e||!this.bumpIf("="))break;var c=this.tryParseDecimalInteger(Le.EXPECT_PLURAL_ARGUMENT_SELECTOR,Le.INVALID_PLURAL_ARGUMENT_SELECTOR);if(c.err)return c;h=di(u,this.clonePosition()),l=this.message.slice(u.offset,this.offset())}if(o.has(l))return this.error("select"===e?Le.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Le.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,h);"other"===l&&(a=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===e?Le.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Le.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,di(this.clonePosition(),this.clonePosition()));var d=this.parseMessage(t+1,e,i);if(d.err)return d;var f=this.tryParseArgumentClose(p);if(f.err)return f;s.push([l,{value:d.val,location:di(p,this.clonePosition())}]),o.add(l),this.bumpSpace(),l=(n=this.parseIdentifierIfPossible()).value,h=n.location}return 0===s.length?this.error("select"===e?Le.EXPECT_SELECT_ARGUMENT_SELECTOR:Le.EXPECT_PLURAL_ARGUMENT_SELECTOR,di(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(Le.MISSING_OTHER_CLAUSE,di(this.clonePosition(),this.clonePosition())):{val:s,err:null}},t.prototype.tryParseDecimalInteger=function(t,e){var i=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(i=-1);for(var n=!1,a=0;!this.isEOF();){var s=this.char();if(!(s>=48&&s<=57))break;n=!0,a=10*a+(s-48),this.bump()}var o=di(r,this.clonePosition());return n?_i(a*=i)?{val:a,err:null}:this.error(e,o):this.error(t,o)},t.prototype.offset=function(){return this.position.offset},t.prototype.isEOF=function(){return this.offset()===this.message.length},t.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},t.prototype.char=function(){var t=this.position.offset;if(t>=this.message.length)throw Error("out of bound");var e=wi(this.message,t);if(void 0===e)throw Error("Offset ".concat(t," is at invalid UTF-16 code unit boundary"));return e},t.prototype.error=function(t,e){return{val:null,err:{kind:t,message:this.message,location:e}}},t.prototype.bump=function(){if(!this.isEOF()){var t=this.char();10===t?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=t<65536?1:2)}},t.prototype.bumpIf=function(t){if(Ti(this.message,t,this.offset())){for(var e=0;e<t.length;e++)this.bump();return!0}return!1},t.prototype.bumpUntil=function(t){var e=this.offset(),i=this.message.indexOf(t,e);return i>=0?(this.bumpTo(i),!0):(this.bumpTo(this.message.length),!1)},t.prototype.bumpTo=function(t){if(this.offset()>t)throw Error("targetOffset ".concat(t," must be greater than or equal to the current offset ").concat(this.offset()));for(t=Math.min(t,this.message.length);;){var e=this.offset();if(e===t)break;if(e>t)throw Error("targetOffset ".concat(t," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},t.prototype.bumpSpace=function(){for(;!this.isEOF()&&Li(this.char());)this.bump()},t.prototype.peek=function(){if(this.isEOF())return null;var t=this.char(),e=this.offset(),i=this.message.charCodeAt(e+(t>=65536?2:1));return null!=i?i:null},t}();function Mi(t){return t>=97&&t<=122||t>=65&&t<=90}function Bi(t){return Mi(t)||47===t}function Di(t){return 45===t||46===t||t>=48&&t<=57||95===t||t>=97&&t<=122||t>=65&&t<=90||183==t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8255&&t<=8256||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}function Li(t){return t>=9&&t<=13||32===t||133===t||t>=8206&&t<=8207||8232===t||8233===t}function ki(t){return t>=33&&t<=35||36===t||t>=37&&t<=39||40===t||41===t||42===t||43===t||44===t||45===t||t>=46&&t<=47||t>=58&&t<=59||t>=60&&t<=62||t>=63&&t<=64||91===t||92===t||93===t||94===t||96===t||123===t||124===t||125===t||126===t||161===t||t>=162&&t<=165||166===t||167===t||169===t||171===t||172===t||174===t||176===t||177===t||182===t||187===t||191===t||215===t||247===t||t>=8208&&t<=8213||t>=8214&&t<=8215||8216===t||8217===t||8218===t||t>=8219&&t<=8220||8221===t||8222===t||8223===t||t>=8224&&t<=8231||t>=8240&&t<=8248||8249===t||8250===t||t>=8251&&t<=8254||t>=8257&&t<=8259||8260===t||8261===t||8262===t||t>=8263&&t<=8273||8274===t||8275===t||t>=8277&&t<=8286||t>=8592&&t<=8596||t>=8597&&t<=8601||t>=8602&&t<=8603||t>=8604&&t<=8607||8608===t||t>=8609&&t<=8610||8611===t||t>=8612&&t<=8613||8614===t||t>=8615&&t<=8621||8622===t||t>=8623&&t<=8653||t>=8654&&t<=8655||t>=8656&&t<=8657||8658===t||8659===t||8660===t||t>=8661&&t<=8691||t>=8692&&t<=8959||t>=8960&&t<=8967||8968===t||8969===t||8970===t||8971===t||t>=8972&&t<=8991||t>=8992&&t<=8993||t>=8994&&t<=9e3||9001===t||9002===t||t>=9003&&t<=9083||9084===t||t>=9085&&t<=9114||t>=9115&&t<=9139||t>=9140&&t<=9179||t>=9180&&t<=9185||t>=9186&&t<=9254||t>=9255&&t<=9279||t>=9280&&t<=9290||t>=9291&&t<=9311||t>=9472&&t<=9654||9655===t||t>=9656&&t<=9664||9665===t||t>=9666&&t<=9719||t>=9720&&t<=9727||t>=9728&&t<=9838||9839===t||t>=9840&&t<=10087||10088===t||10089===t||10090===t||10091===t||10092===t||10093===t||10094===t||10095===t||10096===t||10097===t||10098===t||10099===t||10100===t||10101===t||t>=10132&&t<=10175||t>=10176&&t<=10180||10181===t||10182===t||t>=10183&&t<=10213||10214===t||10215===t||10216===t||10217===t||10218===t||10219===t||10220===t||10221===t||10222===t||10223===t||t>=10224&&t<=10239||t>=10240&&t<=10495||t>=10496&&t<=10626||10627===t||10628===t||10629===t||10630===t||10631===t||10632===t||10633===t||10634===t||10635===t||10636===t||10637===t||10638===t||10639===t||10640===t||10641===t||10642===t||10643===t||10644===t||10645===t||10646===t||10647===t||10648===t||t>=10649&&t<=10711||10712===t||10713===t||10714===t||10715===t||t>=10716&&t<=10747||10748===t||10749===t||t>=10750&&t<=11007||t>=11008&&t<=11055||t>=11056&&t<=11076||t>=11077&&t<=11078||t>=11079&&t<=11084||t>=11085&&t<=11123||t>=11124&&t<=11125||t>=11126&&t<=11157||11158===t||t>=11159&&t<=11263||t>=11776&&t<=11777||11778===t||11779===t||11780===t||11781===t||t>=11782&&t<=11784||11785===t||11786===t||11787===t||11788===t||11789===t||t>=11790&&t<=11798||11799===t||t>=11800&&t<=11801||11802===t||11803===t||11804===t||11805===t||t>=11806&&t<=11807||11808===t||11809===t||11810===t||11811===t||11812===t||11813===t||11814===t||11815===t||11816===t||11817===t||t>=11818&&t<=11822||11823===t||t>=11824&&t<=11833||t>=11834&&t<=11835||t>=11836&&t<=11839||11840===t||11841===t||11842===t||t>=11843&&t<=11855||t>=11856&&t<=11857||11858===t||t>=11859&&t<=11903||t>=12289&&t<=12291||12296===t||12297===t||12298===t||12299===t||12300===t||12301===t||12302===t||12303===t||12304===t||12305===t||t>=12306&&t<=12307||12308===t||12309===t||12310===t||12311===t||12312===t||12313===t||12314===t||12315===t||12316===t||12317===t||t>=12318&&t<=12319||12320===t||12336===t||64830===t||64831===t||t>=65093&&t<=65094}function Ni(t){t.forEach((function(t){if(delete t.location,He(t)||Xe(t))for(var e in t.options)delete t.options[e].location,Ni(t.options[e].value);else Fe(t)&&We(t.style)||(Ge(t)||Ue(t))&&Ve(t.style)?delete t.style.location:je(t)&&Ni(t.children)}))}function Fi(t,e){void 0===e&&(e={}),e=(0,nt.__assign)({shouldParseSkeletons:!0,requiresOtherClause:!0},e);var i=new Oi(t,e).parse();if(i.err){var r=SyntaxError(Le[i.err.kind]);throw r.location=i.err.location,r.originalMessage=i.err.message,r}return(null==e?void 0:e.captureLocation)||Ni(i.val),i.val}var Gi=i(4497),Ui=i.n(Gi);async function Hi(t,e){(0,it.shouldPolyfill)()&&await Promise.all([i.e(553),i.e(182)]).then(i.bind(i,2182)),(0,rt.shouldPolyfill)()&&await Promise.all([i.e(553),i.e(31)]).then(i.bind(i,7031));var r=tt.A.getCurrentLanguageId().split("-")[0];(0,et.shouldPolyfill)(r)&&(await i.e(854).then(i.bind(i,1854)),/bg|de|el|en|es|fi|fr|id|it|ja|ko|nl|nn|pl|pt|ro|ru|sv|th|tr|vi|zh$/.test(r)?await i(2679)(`./${r}`):await i.e(412).then(i.t.bind(i,6412,23))),Xi(t,e)}function Xi(t,e){var i={getNumberFormat:Ui()(((t,e)=>new Intl.NumberFormat(t,e))),getDateTimeFormat:Ui()(((t,e)=>new Intl.DateTimeFormat(t,e))),getPluralRules:Ui()(((t,e)=>new Intl.PluralRules(t,e)))},r=Ui()(e);tt.A.messageProcessor=(e,n,a)=>{var s="object"==typeof n&&null!==n?n:{count:isNaN(n)?10:n};return new t(r(e),tt.A.getCurrentLanguageId(),void 0,{formatters:i}).format(s)}}Hi(De,Fi);var ji=i(9649),Wi=i(4894),Vi=i(3800),Yi=i(4381),zi=i(4051),qi=i(4418),Qi=i(1233),Zi=60;class Ki{init(){s.A.pixiApp.renderer.textureGC&&(s.A.pixiApp.renderer.textureGC.mode=Qi.GC_MODES.AUTO,s.A.pixiApp.renderer.textureGC.maxIdle=Zi,s.A.pixiApp.renderer.textureGC.run())}}const Ji=new Ki;var $i=i(2449),tr=i.n($i),er=i(230);s.A.isMobile.any||(er.projectDesc.screenOrientation="landscape");class ir extends ji.A{init(){if(super.init(),Ji.init(),location.href.includes("enableSeleniumInterface")&&i.e(338).then(i.bind(i,5338)).then((t=>{t.default(s.A)})),s.A.isMobile.any){var t=new(tr()),e=0;function r(){var i=Date.now();i-4e3>e&&(e=i,t.enable())}function n(){s.A.addOnClickOnce(r)}document.addEventListener("touchend",n),document.addEventListener("click",n)}}onShow(){var t=s.A.isMobile.any?"main-mobile":"main-desktop";s.A.showScene(r.A.hasScene(t)?t:"main");var e=s.A.settings.getItem("isIntroShowedBefore");qi.A.isReplayMode()||!r.A.hasScene("intro")||e&&!s.A.Sound.isSoundsLockedByBrowser||(s.A.showScene("intro"),s.A.settings.setItem("isIntroShowedBefore",!0)),s.A.casinoOptions.show_paytable&&r.A.hasScene("paytable")&&s.A.showScene("paytable")}}var rr,nr=i(684),ar=i(9401);class sr extends n.A{init(){if(rr=s.A.pixiApp.renderer.plugins.interaction,super.init(),this.onStageDown=this.onStageDown.bind(this),this.handlerAdded=!1,this._insideContainers=[this],this.additionalContainers)for(var t of this.additionalContainers.split(",")){var e=(0,a.A)(t,this);this._insideContainers.push(e)}}onRemove(){super.onRemove(),this.removeHandler()}onStageDown(t){if(s.A.time-this.time>1)this.removeHandler();else if(t.target)for(var e=t.target;e;){if(this._insideContainers.indexOf(e)>=0)return;if(e===s.A.stage)return void this.fire();e=e.parent}else this.fire()}fire(){this.onClickOutside&&(0,u.A)(this.onClickOutside,this)}_onDisableByTrigger(){this.removeHandler()}update(){this.handlerAdded||(this.handlerAdded=!0,rr.on("pointerdown",this.onStageDown)),this.time=s.A.time,super.update()}removeHandler(){this.handlerAdded&&(this.handlerAdded=!1,rr.removeListener("pointerdown",this.onStageDown))}}class or extends Wi.A{init(){super.init(),this.phase=0}hide(){this.phase=0}update(){super.update(),this.y-=1,this.phase--,this.phase<=0?(this.alpha-=.05,this.alpha<=0&&this.remove()):this.alpha<.95&&(this.alpha+=.2)}static flyText(t,e=null,i=null,n="flytext",o=0,l){"number"!=typeof e&&(e=s.A.W/2),"number"!=typeof i&&(i=s.A.H/2);var h=r.A.loadPrefab(n);h.text=t,h.phase=6*t.length+o;var u=h.width/2+5;return e<u&&(e=u),e>s.A.W-u&&(e=s.A.W-u),h.alpha=0,h.x=e,h.y=i,l?"string"==typeof l&&(l=(0,a.A)(l,s.A.currentContainer)):l=s.A.currentContainer,l.addChild(h),h}}class lr extends n.A{init(){super.init(),this.needApplyLayout=!0,this._applyLayout()}update(){super.update(),this.needApplyLayout&&(this._applyLayout(),this.needApplyLayout=!1)}_applyLayout(){var t=s.A.W-2*this.marginLeftRight,e=this.marginLeftRight,i=s.A.isMobile.any?this.maxWidthMobile:this.maxWidthDesktop;i>0&&t>i&&(e+=Math.round((t-i)/2),t=i);var r=s.A.H-2*this.marginTopBottom;if(this.bgNineSlicePlanePath){var n=(0,a.A)(this.bgNineSlicePlanePath,this);this.x=e+this.containerMargin,this.y=this.marginTopBottom+this.containerMargin,n&&(n.x=-this.containerMargin,n.y=-this.containerMargin,n.width=t,n.height=r)}if(this.scrollBarPath){var o=(0,a.A)(this.scrollBarPath,this);o&&(o.x=t-this.containerMargin,o.height=r-this.scrollBarBottomMargin)}if(this.scrollLayerPath){var l=(0,a.A)(this.scrollLayerPath,this);if(l){var h=l.visibleArea;h.w=t-2*this.containerMargin,h.h=r-2*this.containerMargin}}}_onRenderResize(){this._applyLayout(),this.isMobileLandscape=!s.A.isPortrait&&s.A.isMobile.any}}var hr=560,ur=500,cr=30,pr=52,dr=174;class fr extends n.A{init(){super.init(),this.riskButtons=[s.A.currentScene.all["high-risk-btn"],s.A.currentScene.all["medium-risk-btn"],s.A.currentScene.all["low-risk-btn"]],this.lines=[],this.targets=[],this.tooltip=this.getChildByName("tooltip"),this.pinsContainer=this.getChildByName("pinsContainer"),this.hole=this.getChildByName("hole"),this.linesButtons=s.A.currentScene.findChildrenByName("lines-button"),this.hideTooltip(),this.colors={center:{r:this.centerR,g:this.centerG},low:{r:this.lowR,g:this.lowG},medium:{r:this.mediumR,g:this.mediumG},high:{r:this.highR,g:this.highG}}}update(){super.update(),this.targets.indexOf(ar.A.overredButton||ar.A.downedButton)>=0?this.showTooltip(ar.A.overredButton||ar.A.downedButton):s.A.isMobile.any&&!s.A.mouse.click||this.hideTooltip()}showTooltip(t){this.tooltip.target!==t&&(this.tooltip.visible=!0,this.tooltip.x=t.x,this.tooltip.x<-dr&&(this.tooltip.x=-dr),this.tooltip.x>dr&&(this.tooltip.x=dr),this.tooltip.profit=t.payout*s.A.currentScene.getBet(),this.tooltip.chance=t.chance,this.tooltip.getChildByName("pointer").x=t.x-this.tooltip.x)}hideTooltip(){this.tooltip.visible=!1,this.tooltip.target=null}initializePaytable(){this.setRiskMode(s.A.settings.getItem("riskMode","low")),this.setLinesCount(s.A.settings.getItem("linesCount",8))}setRiskMode(t){for(var e of(this.riskMode=t,s.A.settings.setItem("riskMode",t),this._applyPaytable(),this.riskButtons))e.name.startsWith(t)?e.disable():e.enable()}setLinesCount(t){for(var e of(this._releaseTable(),this.linesCount=t,s.A.settings.setItem("linesCount",t),this.linesButtons)){var i=e.getChildByName("label");i.text==t?(e.disable(),i.style.fill="#1e4e79"):(e.enable(),i.style.fill="#c6d6e3")}this._generateTable()}launchBall(){this.ballWaitingPath=r.A.loadPrefab("ball"),this.ballWaitingPath.setPinsDistance(this.pinsDistance,this.pinRadius,this),this.getChildByName("ballsContainer").addChildAt(this.ballWaitingPath,0)}setBallData(t){var e=this.ballWaitingPath.ballId;return this.ballWaitingPath.setBallData(t),this.ballWaitingPath=null,e}onRemove(){super.onRemove(),this._releaseTable()}_generateTable(){var t=ur/(this.linesCount+1),e=t,i=(hr-e-cr)/(this.linesCount-.5);this.pinsDistance=t,this.pinRadius=Math.max(.5,Math.min(1,.02*t));var n=Z.getBallSize(this.pinsDistance,this.pinRadius);this.hole.scale.x=n,this.hole.scale.y=n;for(var a=0;a<this.linesCount;a++){var s=r.A.loadPrefab("container");s.y=Math.round(e),e+=i;for(var o=-Math.round((a+2)*t/2),l=a+3;l>0;l--){var h=r.A.loadPrefab("pin");h.x=Math.round(o),h.scale.x=this.pinRadius,h.scale.y=this.pinRadius,o+=t,s.addChild(h)}this.lines.push(s),this.pinsContainer.addChild(s)}for(var u=Math.min(1,t/pr),c=-(ur-pr*u)/2,p=this.linesCount;p>=0;p--){var d=r.A.loadPrefab("ball-target");d.x=Math.round(c),c+=t,d.y=hr,d.scale.x=u,d.scale.y=u,this.pinsContainer.addChild(d),this.targets.push(d)}this._applyPaytable()}_applyPaytable(){for(var t=this.targets.length-1;t>=0;t--){var e=this.targets[t],i=e.findChildByName("label"),r=e.findChildByName("body"),n=s.A.data.initData.paytable[this.linesCount],a=n[this.riskMode][t];i.text="×"+a,e.payout=a,e.chance=n.chances[t];var o=2*Math.abs(e.x)/ur;r.tintR=Math.min(255,this.colors[this.riskMode].r*o+this.colors.center.r*(1-o)),r.tintG=Math.min(255,this.colors[this.riskMode].g*o+this.colors.center.g*(1-o))}}_releaseTable(){for(;this.lines.length>0;)this.lines.pop().remove();for(;this.targets.length>0;)this.targets.pop().remove()}}var gr=i(4319),mr=null,Ar=1;function vr(){mr||(mr=s.A.pixiApp.view.getBoundingClientRect(),Ar=mr.width/s.A.W)}class yr extends o.A{init(){this.bouncingBounds=!1,super.init(),this.currentHtmlScale=0,this.currentHtmlOpacity=0,this.interactive=!0,this._overlayIntervalUpdate=this._overlayIntervalUpdate.bind(this),this._scripts=[]}onRemove(){super.onRemove(),this._releaseHtmlDiv()}update(){mr=null,vr(),this.handleScroll&&this._htmlDiv&&(this._htmlDiv.scrollHeight>this._htmlDiv.clientHeight?this.fullArea.h=Math.max(this.visibleArea.h,Math.floor(this._htmlDiv.scrollHeight/Ar-1)):this.fullArea.h=this.visibleArea.h),super.update(),this.latestTime=s.A.time,this.handleScroll&&this._htmlDiv&&(this._htmlDiv.scrollTop=-this.y*Ar,this.y=-Math.round(this._htmlDiv.scrollTop/Ar)),this._updateHtmlOpacity()}_updateHtmlOpacity(){var t=this.worldVisible&&this._htmlContent&&this.isCanBePressed&&Math.abs(this.worldTransform.a)>.1&&!this._isHtmlContentInvalidated?this.worldAlpha:0;this.currentHtmlOpacity=(0,gr.CR)(this.currentHtmlOpacity,t,this.fadeSpeed)}_overlayIntervalUpdate(){s.A.time-this.latestTime>1&&this._updateHtmlOpacity(),this.worldVisible||this._releaseHtmlDiv()}_releaseHtmlDiv(){this._htmlDiv&&(this._htmlDiv.remove(),this._htmlDiv=null,clearInterval(this._overlayInterval),this._isHtmlContentInvalidated=!1,this.currentHtmlScale=0,this.currentHtmlOpacity=0);for(var t=0;t<(null===(e=this._scripts)||void 0===e?void 0:e.length);t++){var e;this._scripts[t].remove()}this._scripts=[]}render(t){this._renderHtmlContainer(),super.render(t)}_renderCanvas(t){this._renderHtmlContainer(),super._renderCanvas(t)}_renderHtmlContainer(){if(this.currentHtmlOpacity>.001){if(!this._htmlDiv){this._htmlDiv=document.createElement("div"),this._htmlDiv.style.position="fixed",this._htmlDiv.innerHTML=this._htmlContent,this._htmlDiv.style.overflow="hidden",this._htmlDiv.style.zIndex=this.zIndex,this._htmlDiv.style.transformOrigin="0 0",this._applyClassName(),this.handleScroll&&(this._htmlDiv.style.pointerEvents="none",this._htmlDiv.style.overflow="auto");for(var t=0;t<(null===(e=this.domScripts)||void 0===e?void 0:e.length);t++){var e,i=this.domScripts[t],r=document.createElement("script");r.textContent=i,this._scripts.push(r)}document.body.appendChild(this._htmlDiv);for(var n=0;n<this._scripts.length;n++)document.body.appendChild(this._scripts[n]);this._isHtmlContentInvalidated=!1,this._overlayInterval=setInterval(this._overlayIntervalUpdate,1e3/60)}this._htmlDiv.style.opacity=this.currentHtmlOpacity,mr=null,vr(),this._htmlDiv.style.left=mr.left+Math.round(this.parent.worldTransform.tx)*Ar/s.A.stage.scale.x+"px",this._htmlDiv.style.top=mr.top+Math.round(this.parent.worldTransform.ty)*Ar/s.A.stage.scale.x+"px",this._htmlDiv.style.width=this.visibleArea.w*Ar+"px",this._htmlDiv.style.height=this.visibleArea.h*Ar+"px",Math.abs(this.currentHtmlScale-this.worldTransform.a)>.001&&(this.currentHtmlScale=this.worldTransform.a,this._htmlDiv.style.transform="scale("+(this.currentHtmlScale/s.A.stage.scale.x).toFixed(3)+")")}else this._releaseHtmlDiv()}_onRenderResize(){this._applyClassName()}_applyClassName(){this._htmlDiv&&(this._htmlDiv.className=this.className+(s.A.isPortrait?" portrait-":" landscape-")+this.className,this.handleScroll&&this._htmlDiv.classList.add("casino-modal-scroll"))}get innerHTML(){return this._htmlContent}set innerHTML(t){this._htmlContent!==t&&(this._isHtmlContentInvalidated=!!this._htmlDiv,this._htmlContent=t)}get domScripts(){return this._domScripts}set domScripts(t){this._domScripts!==t&&(this._domScripts=t)}}class _r extends D{setY(t,e=!1){this.yTo=t,e&&(this.y=t,this.gotoLabelRecursive("no-animation"))}update(){this.ySpeed+=.05*(this.yTo-this.y),this.ySpeed*=.74,super.update()}getData(){return this.data}setData(t){this.data=t,t.win>0?this.getChildByName("lose-bg").remove():(0===t.win&&(this.getChildByName("lose-bg").image="EMPTY"),this.getChildByName("win-bg").remove())}startRemoving(){this.gotoLabelRecursive("remove")}}class br extends n.A{static delay(t,e,i=s.A.currentContainer){if(!(e<=0)){var r=M.A.create(br);return r.delay=e,r.callback=t,i.addChild(r),r}t()}constructor(){super(),this.visible=!1}skip(){this.callback(),this.callback=null,this.remove()}update(){this.delay--,this.delay<1&&(this.callback(),this.remove())}}class xr extends n.A{constructor(){super(),this._removedChildren=[]}init(){super.init(),this.initialAlpha=this.alpha,this.initialScale=this.scale.x,this.initialX=this.x,this.initialY=this.y,this.qSpeed=0,this.triggering=!1,this._processedState=void 0,this.applyInstantly(),this.lastUpdateTime=s.A.time}getState(){return!!this.invert==!(0,a.A)(this.dataPath,this)}applyInstantly(){this.dataPath?this._state=this.getState():this._state=!!this.invert,this._state?this.q=0:this.q=1,this.qSpeed=0,this.updatePhase(),this.interactiveChildren=this._state||!this.isApplyInteractivity}show(){this._state=!0,this.interactiveChildren=!0,this.triggering=!0}set state(t){t?this.show():this.hide()}get state(){return this._state}hide(){this._state=!1,this.isApplyInteractivity&&(this.interactiveChildren=!1),this.triggering=!0,this.forAllChildren(Tr)}toggle(){this._state?this.hide():this.show()}updatePhase(){var t=this._state?0:1;if(1===this.pow||Math.abs(t-this.q)<.002&&Math.abs(this.qSpeed)<.002?(this.triggering=!1,this.q=t):(this.qSpeed+=(t-this.q)*this.pow,this.qSpeed*=this.damp,this.q+=this.qSpeed),this.alpha=this.initialAlpha+this.q*this.alphaShift,0!==this.scaleShift){var e=this.initialScale+this.q*this.scaleShift;this.scale.x=e,this.scale.y=e}this.visible=this.alpha>.015&&Math.abs(this.scale.x)>.0015,!this.visible&&!this._state&&this.initialAlpha+this.alphaShift<=.015&&(this.triggering=!1,this.q=t),0!==this.xShift&&(this.x=this.initialX+this.q*this.xShift),0!==this.yShift&&(this.y=this.initialY+this.q*this.yShift)}update(){if(this.dataPath){var t=this.getState();this._state!==t&&this.toggle()}this.triggering&&(this.updatePhase(),!this._state&&s.A.time-this.lastUpdateTime>1&&this.applyInstantly()),this.visible&&super.update(),this._processedState!==this._state&&(this._processedState=this._state,this._processedState?this.onEnable&&(0,u.A)(this.onEnable,this):this.onDisable&&(0,u.A)(this.onDisable,this)),this.lastUpdateTime=s.A.time}}var Tr=t=>{t._onDisableByTrigger&&t._onDisableByTrigger()},Er=i(9087);class Sr{static fetch(t,e,i="json",r){var n=Er.A.promise(((t,n)=>{fetch(e,r).then((t=>t[i]())).then(t).catch(n)}),t);return n.name="Request: "+e,n}}class wr extends n.A{constructor(){super(),this.onWheel=this.onWheel.bind(this)}onWheel(t){if(this.isCanBePressed){var e=0,i=s.A.mouseEventToGlobalXY(t);this.hitArea?(this.toLocal(i,void 0,i),this.hitArea.contains(i.x,i.y)&&(e=t.deltaY,t.stopPropagation(),t.preventDefault())):this.getBounds().contains(i.x,i.y)&&(e=t.deltaY,t.stopPropagation(),t.preventDefault()),e<0?this.canIncrease?this.increase():this.ySpeed=-1:e>0&&(this.canDecrease?this.decrease():this.ySpeed=1)}}init(){super.init(),this.currentInterval=0,this.showedVal=void 0,this.defaultValue=this.value,this.on("pointerdown",this.onDown),this.buttonMode=!0,this.cursor="ns-resize",this.dragging=!1,this.ySpeed=0,this._currentTextField=null,this._prevTextField=null,this.valuesList?this.setValuesList(this.valuesList.split(",").map((t=>parseFloat(t)))):this._values=null,this.resetValue(),document.addEventListener("wheel",this.onWheel,!0)}onRemove(){super.onRemove(),this._prevTextField=null,this._currentTextField=null,document.removeEventListener("wheel",this.onWheel,!0)}get canDecrease(){return this.value>this.min||this.wrapValue}get canIncrease(){return this.value<this.max||this.wrapValue}get canDecreaseVisual(){return(this.value>this.min||this.wrapValue)&&this.isCanBePressed}get canIncreaseVisual(){return(this.value<this.max||this.wrapValue)&&this.isCanBePressed}setValuesList(t){this._values=t,this.min=this._values[0],this.max=this._values[this._values.length-1]}formatValue(t){return zi.A.formatMoney(t,this.decimalsCount)}update(){if(this.currentInterval<=0&&this.dataPath){var t=(0,a.A)(this.dataPath,this);this.setValue(t),this.currentInterval=this.refreshInterval}else this.currentInterval--;if(this.value!==this.showedVal){var e,i;if(this._prevTextField&&(this._prevTextField.remove(),this._currentTextField.y=0),this._prevTextField=this._currentTextField,this.textView?(this._currentTextField=r.A.loadPrefab(this.textView),e=this._currentTextField instanceof Wi.A?this._currentTextField:this._currentTextField.findChildrenByType(Wi.A)[0]):(e=r.A._loadClassInstanceById("Text"),this._currentTextField=e),this._prevTextField)i=this.wrapValue?this.showedVal<this.value&&!(this.showedVal===this.min&&this.value===this.max)||this.showedVal===this.max&&this.value===this.min:this.showedVal<this.value,this._currentTextField.y=i?this._prevTextField.height:-this._prevTextField.height,this._currentTextField.y+=this._prevTextField.y;else this._currentTextField.y=0;this._currentTextField.x=0,e.text=this.formatValue(this.value),this.addChild(this._currentTextField),this.showedVal=this.value}if(this.dragging)if(s.A.mouse.click){for(var n=.5*this._currentTextField.height,o=s.A.mouse.y-this.startDragY;o>n;){if(!this.canDecrease){this.startDragY=s.A.mouse.y;break}this.decrease(),o-=2*n,this.startDragY+=2*n}for(;o<-n;){if(!this.canIncrease){this.startDragY=s.A.mouse.y;break}this.increase(),o+=2*n,this.startDragY-=2*n}this.ySpeed+=.1*(s.A.mouse.y-this.prevDragY),this.prevDragY=s.A.mouse.y}else this.dragging=!1;this._currentTextField&&(this.ySpeed+=-.15*this._currentTextField.y,this.ySpeed*=.7,this._currentTextField.y+=this.ySpeed,this._currentTextField.alpha=1-Math.abs(this._currentTextField.y/this._currentTextField.height)),this._prevTextField&&(this._prevTextField.y+=this.ySpeed,this._prevTextField.alpha=1-this._currentTextField.alpha,Math.abs(this._prevTextField.y)>=this._prevTextField.height-4&&(this._prevTextField.remove(),this._prevTextField=null)),super.update()}onDown(){this.dragging=!0,this.prevDragY=s.A.mouse.y,this.startDragY=this.prevDragY}resetValue(){this.setValue(this.defaultValue)}increase(t){if(this._values){var e=this._values;this.wrapValue?this.setValue(e[(e.indexOf(this.value)+1)%e.length]):this.setValue(e[Math.min(e.indexOf(this.value)+1,e.length-1)])}else this.setValue(this.value+(t||this.step))}decrease(t){if(this._values){var e=this._values;this.wrapValue?this.setValue(e[(e.indexOf(this.value)-1)%e.length]):this.setValue(e[Math.max(e.indexOf(this.value)-1,0)])}else this.setValue(this.value-(t||this.step))}_modValue(t){var e=this.max-this.min+1;return((t-this.min)%e+e)%e+this.min}setValue(t){t<this.min?t=this.wrapValue?this._modValue(t):this.min:t>this.max&&(t=this.wrapValue?this._modValue(t):this.max),t!==this.value&&(this.dataPath&&(0,a.W)(this.dataPath,t,this),this.value=t,this.onChanged&&(0,u.A)(this.onChanged,this))}refreshNow(){this.currentInterval=0}}function Pr(t,e,i,r){return new(i||(i=Promise))((function(n,a){function s(t){try{l(r.next(t))}catch(t){a(t)}}function o(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,o)}l((r=r.apply(t,e||[])).next())}))}function Ir(t,e){var i,r,n,a,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,r&&(n=2&a[0]?r.return:a[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,a[1])).done)return n;switch(r=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){s.label=a[1];break}if(6===a[0]&&s.label<n[1]){s.label=n[1],n=a;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(a);break}n[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{i=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}var Rr=function(t){};function Cr(t){Rr(t)}(function(){(console.warn||console.log).apply(console,arguments)}).bind("[clipboard-polyfill]");var Or,Mr,Br,Dr,Lr="undefined"==typeof navigator?void 0:navigator,kr=null==Lr?void 0:Lr.clipboard,Nr=(null===(Or=null==kr?void 0:kr.read)||void 0===Or||Or.bind(kr),null===(Mr=null==kr?void 0:kr.readText)||void 0===Mr||Mr.bind(kr),null===(Br=null==kr?void 0:kr.write)||void 0===Br||Br.bind(kr),null===(Dr=null==kr?void 0:kr.writeText)||void 0===Dr?void 0:Dr.bind(kr)),Fr="undefined"==typeof window?void 0:window,Gr=(null==Fr||Fr.ClipboardItem,Fr);function Ur(){return"undefined"==typeof ClipboardEvent&&void 0!==Gr.clipboardData&&void 0!==Gr.clipboardData.setData}var Hr=function(){this.success=!1};function Xr(t,e,i){for(var r in Cr("listener called"),t.success=!0,e){var n=e[r],a=i.clipboardData;a.setData(r,n),"text/plain"===r&&a.getData(r)!==n&&(Cr("setting text/plain failed"),t.success=!1)}i.preventDefault()}function jr(t){var e=new Hr,i=Xr.bind(this,e,t);document.addEventListener("copy",i);try{document.execCommand("copy")}finally{document.removeEventListener("copy",i)}return e.success}function Wr(t,e){Vr(t);var i=jr(e);return Yr(),i}function Vr(t){var e=document.getSelection();if(e){var i=document.createRange();i.selectNodeContents(t),e.removeAllRanges(),e.addRange(i)}}function Yr(){var t=document.getSelection();t&&t.removeAllRanges()}function zr(t){return Pr(this,void 0,void 0,(function(){var e;return Ir(this,(function(i){if(e="text/plain"in t,Ur()){if(!e)throw new Error("No `text/plain` value was specified.");if(r=t["text/plain"],Gr.clipboardData.setData("Text",r))return[2,!0];throw new Error("Copying failed, possibly because the user rejected it.")}var r;return jr(t)?(Cr("regular execCopy worked"),[2,!0]):navigator.userAgent.indexOf("Edge")>-1?(Cr('UA "Edge" => assuming success'),[2,!0]):Wr(document.body,t)?(Cr("copyUsingTempSelection worked"),[2,!0]):function(t){var e=document.createElement("div");e.setAttribute("style","-webkit-user-select: text !important"),e.textContent="temporary element",document.body.appendChild(e);var i=Wr(e,t);return document.body.removeChild(e),i}(t)?(Cr("copyUsingTempElem worked"),[2,!0]):function(t){Cr("copyTextUsingDOM");var e=document.createElement("div");e.setAttribute("style","-webkit-user-select: text !important");var i=e;e.attachShadow&&(Cr("Using shadow DOM."),i=e.attachShadow({mode:"open"}));var r=document.createElement("span");r.innerText=t,i.appendChild(r),document.body.appendChild(e),Vr(r);var n=document.execCommand("copy");return Yr(),document.body.removeChild(e),n}(t["text/plain"])?(Cr("copyTextUsingDOM worked"),[2,!0]):[2,!1]}))}))}function qr(t){return Pr(this,void 0,void 0,(function(){return Ir(this,(function(e){if(Nr)return Cr("Using `navigator.clipboard.writeText()`."),[2,Nr(t)];if(!zr(function(t){var e={};return e["text/plain"]=t,e}(t)))throw new Error("writeText() failed");return[2]}))}))}(function(){function t(t,e){var i;for(var r in void 0===e&&(e={}),this.types=Object.keys(t),this._items={},t){var n=t[r];this._items[r]="string"==typeof n?Qr(r,n):n}this.presentationStyle=null!==(i=null==e?void 0:e.presentationStyle)&&void 0!==i?i:"unspecified"}t.prototype.getType=function(t){return Pr(this,void 0,void 0,(function(){return Ir(this,(function(e){return[2,this._items[t]]}))}))}})();function Qr(t,e){return new Blob([e],{type:t})}class Zr extends xr{get isItMobile(){return s.A.isMobile.any}init(){s.A.data.provability={clientSeed:[]},this.data=null;var t=this.findChildByName("client-seed-controls");this.clientSeedInputs=t.findChildrenByType(wr),this.slotLeftBorder=this.findChildByName("slot-left-border"),this.randomizeClientSeed(),super.init()}onRemove(){super.onRemove(),this.shiftForSpinTrigger=null,this.clientSeedInputs=null,this.slotLeftBorder=null}show(){super.show(),this._applyLayout(),this.isHidedForSpin=!1}hideProvabilityForSpin(){this.isItMobile?s.A.all.popupsLayer.hideAll():this.isHidedForSpin=!0}showProvabilityAfterSpin(){this.isItMobile?s.A.all.popupsLayer.showProvability():this.isHidedForSpin=!1}get isProvabilityEnabled(){return this.data}_applyTextToButton(t,e){var i=this.findChildByName(t);i.findChildByName("label").text=e,i instanceof ar.A&&(i.callback=()=>{this.copyTextToClipboard(e)})}copyTextToClipboard(t){qr(t).then((()=>{or.flyText((0,tt.A)("provability.copied_to_clipboard"),s.A.mouse.x,s.A.mouse.y-30,void 0,-90)}))}applyResult(t){t&&t.extra_data&&t.extra_data.provable_data&&(this.randomizeClientSeed(),this.data=t.extra_data.provable_data,this.isVerified=!1,this._applyTextToButton("next-game-hash-btn",this.data[0].hash),this.data[1]&&(this._applyTextToButton("last-game-hash-btn",this.data[1].hash),this._applyTextToButton("last-game-final-result-btn",this.data[1].result),this._applyTextToButton("last-game-result-btn",this.data[1].secret),this._applyTextToButton("last-game-client-seed",this.data[1].client_seed)))}randomizeClientSeed(){for(var t of(s.A.data.provability.clientSeed=[],this.clientSeedInputs))(0,a.W)(t.dataPath,Math.floor(t.min+Math.random()*(t.max-t.min)),t)}onVerifyClick(){Sr.fetch(this,s.A.casinoOptions.provable_fair.verify_url,"json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:this.data[1].secret,client_seed:this.data[1].client_seed})}).then((t=>{t&&(this.isVerified=!0,this.isVerificationSuccess=t.hash===this.data[1].hash)}))}_applyLayout(){var t=s.A.W,e=s.A.H,i=this.isItMobile&&!s.A.isPortrait;this.pow=this.isItMobile?1:.1,this.isItMobile||(t=Math.round(.5*e)-100);var r=this.findChildrenByName("orientation-trigger");for(var n of r)i?n.hide():n.show();this.findChildByName("provability-close-btn-container").x=t;var a=this.findChildByName("provability-background");a&&(a.pivot.x=100,a.width=t+100,a.height=e);var o,l=this.findChildByName("provability-container");l&&(l.x=Math.round(t/2),l.y=Math.round(e/2),o=i?Math.min((t-600)/800,e/600):this.isItMobile?Math.min(t/440,(e-310)/1080):Math.min(t/440,e/1080),l.scale.x=o,l.scale.y=o);var h=(0,tt.A)("provability.hash"),u=(0,tt.A)("provability.result"),c=(0,tt.A)("provability.secret"),p=this.findChildByName("hash-result-secret-label"),d=this.findChildByName("hash-result-secret-label2"),f=this.findChildByName("result-secret-label");p.text=d.text=h+" ("+u+" + "+c+")",f.text=u+" + "+c;var g=this.findChildByName("shift-for-spin");if(g&&!this.isItMobile&&a){var m=s.A.W/2-650;g.xShift=Math.min(m-(a.width-a.pivot.x),0),g.state=!!g.state}}static getCurrentClientSeed(){return Number(s.A.data.provability.clientSeed.join(""))||0}_onRenderResize(){this._applyLayout()}}var Kr=i(6113),Jr=!1,$r="application/json",tn={};class en{constructor(t){this.setCasinoOptions(t)}setCasinoOptions(t){tn={},this.currentGameId=t.identifier,this.apiUrl=t.api,this.rulesUrl=t.rules_url,this.lobbyUrl=t.lobby_launch_url,this.headers={"Content-Type":$r},this.headers[t.csrfTokenHeaderName]=t.csrfTokenHeaderValue,on()&&Jr&&Jr.initialize()}requestRules(){return fetch(this.rulesUrl,{headers:{Accept:$r}}).then(rn)}addRoundSeriesId(t){var e,i=null===(e=window)||void 0===e||null===(e=e.extraData)||void 0===e?void 0:e.round_series_id;return i&&(t&&t.extra_data?(t.extra_data=t.extra_data||{},t.extra_data.round_series_id=i):t.extra_data={round_series_id:i}),t}requestURL(t,e,i){var r={method:e?"POST":"GET",headers:this.headers};if(e&&(null==Jr||!Jr.isPlaybackActive)){if(this.addRoundSeriesId(e),r.body=JSON.stringify(e),tn[r.body]){var n=Promise.resolve(tn[r.body]);return tn[r.body]=null,n}tn[r.body]=null}if(on()&&null!=Jr&&Jr.isPlaybackActive){var a=null==Jr?void 0:Jr.getItem(e);return Promise.resolve(a)}return new Promise(((n,a)=>{sn(t,r,(s=>(this.additionalResponseProcessing(s,t,e,i),rn(s).then((async e=>{if(!i&&on()&&Jr){var n={command:"init"};this.addRoundSeriesId(n);var a=JSON.stringify(n);await(null==Jr?void 0:Jr.addItem(r,e,t,{method:"POST",headers:this.headers,body:a}))}return e})).then(n).catch(a))),a)}))}request(t,e){return this.requestURL(this.apiUrl,t,e)}prepareRequest(t){var e=JSON.stringify(t);tn.hasOwnProperty(e)||(this.request(t).then((t=>{tn.hasOwnProperty(e)||(tn[e]=t)})),delete tn[e])}additionalResponseProcessing(t,e,i,r){this.verifyDigest(t,e),r||this.addSentryBreadcrumb(t,e,i)}async addSentryBreadcrumb(t,e,i){try{if(!Kr.T||!Sentry)return;var r=await t.clone().json();r.options&&(r.options="{...}"),Sentry.addBreadcrumb({type:"info",category:"api.response",data:{url:e,request:JSON.stringify(i),response:JSON.stringify(r)},level:Sentry.Severity.Info})}catch(n){return}}async verifyDigest(t,e){if(t.headers.has("digest"))try{var i=t.headers.get("digest"),[r,n]=i.split("=");if(!n)return;var a=atob(n),s=await t.clone().text();a!==await this.generateDigest(r,s)&&Kr.T&&Sentry.withScope((i=>{i.setExtra("request-url",e),i.setExtra("x-request-id",t.headers.get("x-request-id")),i.setExtra("responseText",s.substring(0,199e3)),Sentry.captureException(new Error("Response checksum mismatch"))}))}catch(Ir){return}}async generateDigest(t,e){var i=(new TextEncoder).encode(e),r=await crypto.subtle.digest(t,i),n=Array.from(new Uint8Array(r)).map((t=>t.toString(16).padStart(2,"0"))).join("");return n}}var rn=t=>t.json(),nn=!1,an=[];function sn(t,e,i,r){if(nn)an.push(Array.from(arguments));else{nn=!0;var n=!1,a=()=>{n||(nn=!1,an.length&&sn.apply(null,an.shift()),n=!0)};fetch(t,e).then((t=>{a(),i(t)})).catch((t=>{a(),r(t)}))}}function on(){return window.location.origin.indexOf("dev.bgaming-system")>-1||!1}var ln=(s.A.isMobile.apple.phone||s.A.isMobile.apple.ipod)&&navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS");function hn(){try{return window.self!==window.top}catch(Ir){return!0}}s.A.isIosSafari=ln;var un,cn,pn,dn=hn(),fn="",gn=!s.A.isPortrait,mn=document.body.style,An=.9;function vn(){un=document.createElement("div"),cn=Math.min(screen.width,screen.height),un.style.height=cn+3e3+"px",un.style.width="100%",un.style.position="absolute",document.body.appendChild(un),window.addEventListener("touchend",(function(){s.A.isPortrait&&!s.A.isNeedScrollTopIosSafari&&(clearTimeout(pn),pn=setTimeout((()=>{un.style.height=window.innerHeight+"px",this.setTimeout((()=>s.A.onResize()))}),100))}))}ln&&setInterval((function(){if(s.A.currentContainer&&s.A.casinoOptions.ui.full_screen_prompt){s.A.isLandscapeSafariIos=!s.A.isPortrait,(s.A.isLandscapeSafariIos||gn)&&(cn=Math.min(screen.width,screen.height),s.A.isNeedScrollTopIosSafari=window.innerHeight<cn*An,gn=!s.A.isPortrait);var t=`${s.A.isNeedScrollTopIosSafari} ${s.A.isPortrait}`;fn!==t&&(fn=t,dn?s.A.isNeedScrollTopIosSafari?s.A.pixiApp.renderer.view.style.touchAction="auto":s.A.pixiApp.renderer.view.style.removeProperty("touch-action"):(un||vn(),document.documentElement.style.position="static",mn.position="static",s.A.isNeedScrollTopIosSafari?(s.A.pixiApp.renderer.plugins.interaction.autoPreventDefault=!1,un.style.zIndex=1e3,un.style.height=cn+3e3+"px",mn.overflow="unset",mn.height=cn+3e3+"px",document.documentElement.style.height="100%",document.documentElement.style.overflow="unset",setTimeout((()=>{window.scrollTo(0,2),window.scrollTo(0,0)}),80)):(s.A.pixiApp.renderer.plugins.interaction.autoPreventDefault=!0,un.style.zIndex=-1,mn.overflow="hidden",mn.height="100%",document.documentElement.style.height="100%",document.documentElement.style.overflow="hidden"),un.style.display=s.A.isPortrait?"none":"inline")),s.A.isPortrait&&0!==window.scrollY&&window.scrollTo(0,0),!dn&&s.A.isNeedScrollTopIosSafari&&(s.A.currentFader||s.A.isPortrait||"thing-games-utils/safari-arrow-up"===s.A.currentContainer.name||s.A.showModal("thing-games-utils/safari-arrow-up"))}}),100);class yn{isLogOutEnabled=!1;logOutTriggerInterval=0;isPopupActive=!1;popupTriggeredTime=0;sessionStart=Date.now();get isNeedToShowPopup(){var t=wn.isActive();return!(this.isPopupActive||!this.isLogOutEnabled||t)&&(0!==this.logOutTriggerInterval&&(this.sessionTime>this.logOutTriggerInterval&&this.timeFromLastPopupShown>=this.logOutTriggerInterval))}get sessionTime(){return Date.now()-this.sessionStart}get timeFromLastPopupShown(){return Date.now()-this.popupTriggeredTime}get timeToNextTrigger(){var t=Math.max(this.logOutTriggerInterval-this.timeFromLastPopupShown,0);return this.isLogOutEnabled?t:-1}}const _n=yn;class bn{constructor(){this.model=new _n,this.checkTimeoutId=void 0}isActive(){return this.model.isPopupActive}initialize(){this.checkBounded=this.checkForReality.bind(this),Yi.A.addListener(((t,e,i)=>this._gameEventHandler(t,e,i)))}startSession(t=216e6){this.model.sessionStart=Date.now(),this.model.popupTriggeredTime=Date.now(),this.model.logOutTriggerInterval=t,this.model.isLogOutEnabled=void 0!==t&&t>0,this._scheduleLogOutCheck()}updateLogOutLastPopupTriggeredTime(){this.model.popupTriggeredTime=Date.now()}clearLogOutSchedule(){var t;void 0!==this.checkTimeoutId&&null!==(t=this.model)&&void 0!==t&&t.isLogOutEnabled&&clearTimeout(this.checkTimeoutId)}checkForReality(){if(this.model.isNeedToShowPopup){this.model.isPopupActive=!0;var t=(0,tt.A)("log_out");s.A.showQuestion("",t,"buttons.ok",(()=>{s.A.SharedAPI.gotoHome()}))}this._scheduleLogOutCheck()}_scheduleLogOutCheck(){if(this.clearLogOutSchedule(),this.model.isLogOutEnabled){var t=this.model.timeToNextTrigger;this.checkTimeoutId=setTimeout(this.checkBounded,t)}}_gameEventHandler(t,e,i){switch(t){case Vi.A.GAME_INITIALIZED:this.startSession(this._logOutInterval);break;case Vi.A.FINISH_SPIN_ANIMATIONS:case Vi.A.FINISH_ROUND_ANIMATIONS:this.checkForReality();break;case Vi.A.PRE_PLAY:this.clearLogOutSchedule(),this.updateLogOutLastPopupTriggeredTime()}}get _logOutInterval(){var t;return(null===(t=s.A.casinoOptions)||void 0===t||null===(t=t.license_rules)||void 0===t||null===(t=t.log_out)||void 0===t?void 0:t.interval)||0}}const xn=new bn;class Tn{isRealityCheckEnabled=!1;realityCheckTriggerInterval=0;isPopupActive=!1;popupTriggeredTime=0;sessionStart=Date.now();userOverallBet=0;userOverallWin=0;get isNeedToShowPopup(){var t=xn.isActive();return!(this.isPopupActive||!this.isRealityCheckEnabled||t)&&(0!==this.realityCheckTriggerInterval&&(this.sessionTime>this.realityCheckTriggerInterval&&this.timeFromLastPopupShown>=this.realityCheckTriggerInterval))}get userOverallLose(){return Math.max(this.userOverallBet-this.userOverallWin,0)}get sessionTime(){return Date.now()-this.sessionStart}get timeFromLastPopupShown(){return Date.now()-this.popupTriggeredTime}get timeToNextTrigger(){var t=Math.max(this.realityCheckTriggerInterval-this.timeFromLastPopupShown,0);return this.isRealityCheckEnabled?t:-1}}const En=Tn;class Sn{constructor(){this.model=new En,this.checkTimeoutId=void 0}isActive(){return this.model.isPopupActive}initialize(){this.checkBounded=this.checkForReality.bind(this),Yi.A.addListener(((t,e,i)=>this._gameEventHandler(t,e,i)))}startSession(t=216e6){this.model.sessionStart=Date.now(),this.model.popupTriggeredTime=Date.now(),this.model.userOverallBet=0,this.model.userOverallWin=0,this.model.realityCheckTriggerInterval=t,this.model.isRealityCheckEnabled=void 0!==t&&t>0,this._scheduleRealityCheck()}restartRealityCheckSession(){this.model.sessionStart=Date.now(),this.model.popupTriggeredTime=Date.now(),this._scheduleRealityCheck()}updateRealityCheckLastPopupTriggeredTime(){this.model.popupTriggeredTime=Date.now()}clearRealityCheckSchedule(){var t;void 0!==this.checkTimeoutId&&null!==(t=this.model)&&void 0!==t&&t.isRealityCheckEnabled&&clearTimeout(this.checkTimeoutId)}checkForReality(){this.model.isNeedToShowPopup&&(this.model.isPopupActive=!0,s.A.showModal("thing-games-utils/reality-check-popup",(()=>{this.model.isPopupActive=!1,xn.checkForReality(),this.model.popupTriggeredTime=Date.now()}))),this._scheduleRealityCheck()}updateSessionBet(t){t>0&&(this.model.userOverallBet+=t)}updateSessionWin(t){t>0&&(this.model.userOverallWin+=t)}_scheduleRealityCheck(){if(this.clearRealityCheckSchedule(),this.model.isRealityCheckEnabled){var t=this.model.timeToNextTrigger;this.checkTimeoutId=setTimeout(this.checkBounded,t)}}_gameEventHandler(t,e,i){switch(t){case Vi.A.GAME_INITIALIZED:this.startSession(this._realityCheckInterval);break;case Vi.A.FINISH_SPIN_ANIMATIONS:case Vi.A.FINISH_ROUND_ANIMATIONS:this.checkForReality();break;case Vi.A.PRE_PLAY:this.clearRealityCheckSchedule(),this.updateRealityCheckLastPopupTriggeredTime();break;case Vi.A.PLAY:this.updateSessionBet(s.A.data.balanceChargedForSpin),this.updateSessionWin(i.win)}}get _realityCheckInterval(){var t;return(null===(t=s.A.casinoOptions)||void 0===t||null===(t=t.license_rules)||void 0===t||null===(t=t.reality_check)||void 0===t?void 0:t.interval)||0}}const wn=new Sn;var Pn=i(1233),In=i(230),Rn={finish:"close",check_card:"gamble"},Cn={command:"init"},On=new URLSearchParams(window.location.search).get("lang");function Mn(){s.A.casinoOptions=window.__OPTIONS__,On&&(s.A.casinoOptions.rules_url=s.A.casinoOptions.rules_url.replace("/"+s.A.casinoOptions.locale+"/","/"+On+"/"),s.A.casinoOptions.locale=On),s.A.casinoOptions.ui.logo_visible="hidden"!==s.A.casinoOptions.ui.logo,s.A.casinoOptions.ui.isTinyAutospinsDialog="tiny"===s.A.casinoOptions.ui.autospins_dialog,s.A.casinoOptions.ui.isAutospinAvailable="disable"!==s.A.casinoOptions.ui.autospins_dialog,Pn.utils.isMobile.any&&(s.A.casinoOptions.ui.home_button=!0),s.A.casinoOptions.actions.return||(s.A.casinoOptions.ui.home_button=!1),s.A.casinoOptions.history_url=s.A.casinoOptions.actions.history&&s.A.casinoOptions.actions.history.link}Mn(),wn.initialize(),xn.initialize();var Bn,Dn,Ln,kn=new en(s.A.casinoOptions);function Nn(){Dn=Date.now()}var Fn=5e3;function Gn(){if(s.A.casinoOptions.replay)return!1;if(Ln)Nn();else if(Date.now()>Dn+Fn-500)return!0}function Un(t){s.A.data.lastDataWithBalanceForBalanceChecking&&(isNaN(s.A.data.lastDataWithBalanceForBalanceChecking.balance)?"object"!=typeof s.A.data.lastDataWithBalanceForBalanceChecking.balance||isNaN(s.A.data.lastDataWithBalanceForBalanceChecking.balance.wallet)||(s.A.data.lastDataWithBalanceForBalanceChecking.balance.wallet=t):s.A.data.lastDataWithBalanceForBalanceChecking.balance=t,s.A.data.latestReceivedBalance=t,s.A.currentScene&&s.A.currentScene.refreshBalanceFast&&s.A.currentScene.refreshBalanceFast())}function Hn(t){var e=t.balance;return"object"==typeof e&&(e=e.wallet),e}function Xn(t){return t&&!isNaN(Hn(t))}class jn{constructor(){jn.instance=this,s.A.SharedAPI=this,this.isRequestCommandAvailable=this.isRequestCommandAvailable.bind(this),s.A.__APIBalanceUpdateInterval&&clearInterval(s.A.__APIBalanceUpdateInterval),s.A.__APIBalanceUpdateInterval=setInterval((()=>{Gn()&&this.request({command:"init",options:{balance:!0}},null,!0).then((t=>{if(Gn()&&t){var e=Hn(t);"number"==typeof e&&e!==s.A.data.latestReceivedBalance&&Un(e)}})).finally((()=>{Nn()}))}),1e3),this.onApiReady()}restartGame(t){Vn(t)}initCurrency(t,e){var i=t.options.currency,r=i.subunits,n=Math.log10(r);this.subUnits=r,jn.subunitsDigitsCount=n;var o,l=t=>{var e=(t/r).toString(),i=e.split("."),n=e.split("e");return i.length>1&&n.length>1?i[1].split("e")[0].replace(/0+$/gm,"").length+Math.abs(+n[1]):i.length>1?i[1].replace(/0+$/gm,"").length:n.length>1?Math.abs(+n[1]):0};Array.isArray(e)||(e=[e]);var h=(()=>{var e=t.options.paytable||t.options.paytables||t.paytable||{},i=Object.values(e).flat(1/0);return i.length&&isNaN(i[0])&&(i=i.map((t=>Object.values(t))).flat(1/0)),i})(),u=h.map((t=>e.map((e=>(e||0)*t)))).flat().filter((t=>t>0)).map(l);o=Math.max.apply(null,u),o=Math.min(n,o),s.A.data.currencyDigits=Math.max(i.exponent||0,o),s.A.data.currency=(0,a.A)("this.options.currency.code",t)||"BTC";var c,p=(t.balance/this.subUnits).toString().split(".");c=p.length>1?p[1].replace(/0+$/gm,"").length:0,c=Math.min(jn.subunitsDigitsCount,c),s.A.data.balanceDigitsCount=Math.max(s.A.data.currencyDigits,c)}openHistory(){Yi.A.track("go_history"),jn.actionExec(s.A.casinoOptions.actions.history)}globalDataHandler(t){if(t&&(s.A.data.latestData=t,t.options&&(s.A.data.currencyDivider=t.options.currency.subunits),t.flow||(t.flow={state:t.game.state,available_actions:t.available_commands,command:t.requested_command}),t.hasOwnProperty("balance")&&(isNaN(t.balance)&&(t.gameTotalWin=t.balance.game,t.balance.game>0&&"closed"===t.flow.state&&(t.balance.hasOwnProperty("free_rounds")?t.balance.free_rounds+=t.balance.game:t.balance.wallet+=t.balance.game,t.balance.game=0),t.free_rounds&&(t.free_rounds.win=t.balance.free_rounds,"played"===t.free_rounds.status&&(t.balance.wallet+=t.balance.free_rounds,t.balance.free_rounds=0)),t.balance=t.balance.wallet),s.A.data.latestReceivedBalance=t.balance),t.flow.available_actions)){var e={};for(var i of t.flow.available_actions)Rn.hasOwnProperty(i)&&(i=Rn[i]),e[i]=!0;t.available_commands=e}}setGameId(t){kn.currentGameId!==t&&this.request(kn.lobbyUrl+(kn.lobbyUrl.indexOf("?")>0?"&":"?")+"game="+t+"&from="+kn.currentGameId,s.A.currentFader).then((e=>{kn.setCasinoOptions(e),Bn=null,window.initializeCasinoOptions(e),Mn();try{window.history.replaceState(t,t,e.game_page_url)}catch(i){}})).catch((()=>{this.showError()}))}request(t,e=null,i=!1){i||Nn();var r=this.currentRequestInProgress,n="string"==typeof t,a=Er.A.promise(((e,a)=>{var s=()=>{if(qi.A.isReplayMode())return e(qi.A.getNextResponse());(n?kn.requestURL(t,null,i):kn.request(t,i)).then(e).catch(a)};r?r.finally(s):s()}),e||s.A.currentContainer).then((e=>{if(this.currentRequestInProgress===a&&(this.currentRequestInProgress=null,Ln=!1),!n){if(this.handleDataErrors(e,i))return s.A.data.lastDataWithBalanceForBalanceChecking&&Un(Hn(s.A.data.lastDataWithBalanceForBalanceChecking)),null;e.requested_command=t.command,Xn(e)&&(s.A.data.lastDataWithBalanceForBalanceChecking=e),i||(this.checkForMessagesToShow(e),this.globalDataHandler(e)),i||t!==Cn||(Yi.A.track(Vi.A.BALANCE_UPDATE,null,{amount:e.balance}),Yi.A.track(Vi.A.GAME_LOADED,s.A.casinoOptions.identifier)),Yi.A.track(Vi.A.API_RESPONSE,e.requested_command,{responseData:e,isBalanceCheckRequest:i})}})).catch((()=>{this.currentRequestInProgress===a&&(this.currentRequestInProgress=null,Ln=!1),s.A.data.lastDataWithBalanceForBalanceChecking&&Un(Hn(s.A.data.lastDataWithBalanceForBalanceChecking)),i||this.showError()})).finally((()=>{this.currentRequestInProgress===a&&(this.currentRequestInProgress=null,Ln=!1),i||Nn()}));return this.currentRequestInProgress=a,Ln=!0,a}isRequestCommandAvailable(t){return!t.command||"init"===t.command||this.isCommandAvailable(t.command)}initGame(t=s.A.currentFader){return qi.A.initGame(),this.request(Cn,t)}onApiReady(){In.projectDesc.disableInitDataPreparing||kn.prepareRequest(Cn)}showRules(t=""){var e=s.A.showModal("ui/html-popup").findChildByName("html");Bn?(e.domScripts=Bn.scripts,e.innerHTML=Bn.content):(e.domScripts=[],e.innerHTML=(0,tt.A)("loading"),this.requestRulesContent(t).then((({content:t,scripts:i})=>{e.domScripts=i,e.innerHTML=t})))}requestRulesContent(t=""){if(Bn)return Er.A.resolve(Bn);var e=s.A.all.hasOwnProperty("slot-UI")?s.A.all["slot-UI"]:void 0;return Er.A.promise((e=>{kn.requestRules().then((i=>{var r=i?i.content:"";if(i&&i.contentUpdateScript)try{r=new Function("content",i.contentUpdateScript)(r)}catch(Ir){}Bn={content:r="<style>"+zn+t+"</style>"+r+"<br><br>",scripts:(null==i?void 0:i.domScripts)||[]},e(Bn)}))}),e)}isCommandAvailable(t){return s.A.data.available_commands&&s.A.data.available_commands[t]}playGame(t,e,i){return this.request({command:"play",options:{bet:t,risk_level:e,rows:i}})}handleDataErrors(t,e){if(!t)return e||this.showError(),!0;if(t.errors&&t.errors.length>0){if(!e){var i=t.errors[0],r=null==i?void 0:i.code;700===r?this.showCustomButtonsMessage(i):this.showError(r,null==i?void 0:i.text,i)}return!0}}showCustomButtonsMessage(t){var e=r.A.loadPrefab("thing-games-utils/sure-question700");e.findChildByName("title").text=t.desc,e.findChildByName("message").text=t.text;var i=e.findChildrenByName("btn"),n=[],a=t.buttons.filter((t=>"history"!==t.action||s.A.casinoOptions.actions.history));i.forEach(((t,e)=>{var i=a[e];t.visible=i&&!0,t.visible&&(n.push(t),t.findChildByName("label").text=i.text,t.callback=()=>{switch(Yi.A.track(Vi.A.DIALOG_BUTTON_CLICK,i.action,i),i.action){case"home":this.gotoHome();break;case"history":this.openHistory();break;case"deposit":Wn(),Vn();break;default:Vn()}})}));var o=i[1].x-i[0].x,l=-Math.round(o*(n.length-1)/2);for(var h of n)h.x=l,l+=o;s.A.showModal(e)}static actionExec(t,e=(()=>{})){if(t)switch(Yi.A.track(Vi.A.ACTION_EXEC,t.mode),t.mode){case"continue":e();break;case"open":s.A.openUrl(t.link),e();break;case"redirect":s.A.openUrl(t.link,"_top"),e();break;case"request":kn.requestURL(t.link),e();break;case"request_with_response":kn.requestURL(t.link).finally((()=>e()));break;case"back":window.history.go(-1),e();break;default:t.link&&s.A.openUrl(t.link),e()}}checkForMessagesToShow(t){t&&t.messages&&t.messages.forEach((t=>{var e=r.A.loadPrefab("thing-games-utils/api-message");e.findChildByName("title").text=t.title,e.findChildByName("message").text=t.text;var i,n=e.findChildByName("close-btn"),a=e.findChildrenByName("btn"),o=[],l=()=>{t.intrusive||s.A.hideModal(i)};n.visible=!t.intrusive,n.callback=l,a.forEach(((e,i)=>{var r=t.actions?t.actions[i]:null;e.visible=!!r,e.visible&&(o.push(e),e.findChildByName("label").text=r.text,e.callback=()=>{jn.actionExec(r,l)})}));var h=a[1].x-a[0].x,u=-Math.round(h*(o.length-1)/2);for(var c of o)c.x=u,u+=h;i=s.A.showModal(e)}))}setFatalErrorWithExpiry(t,e=36e5){var i={value:t,expiery:(new Date).getTime()+e};localStorage.setItem("fatalError",JSON.stringify(i))}getFatalErrorWithExpiry(){var t=localStorage.getItem("fatalError");if(!t)return null;var e=JSON.parse(t);return(new Date).getTime()>e.expiry?(localStorage.removeItem(key),null):e.value}showError(t="some_error",e=null,i=null){var r=s.A.projectDesc.errorPhrasesPrefix+t;tt.A.has(r)||(r="errors.default");var n=301==t,a=s.A.casinoOptions.actions.deposit,o=103===t,l=104===t,h=201==t,u=110===t,c=[101,202,203,204,600].includes(t);n&&!a&&(r+="nodep");var p="",d=e||(0,tt.A)(r,{code:t||0});if(Yi.A.track(Vi.A.ERROR,t,{messageText:d,sourceError:i}),n&&a)s.A.showQuestion(p,d,"buttons.deposit",(()=>{Wn(),Yn(t)}),"buttons.ok",Yn);else if(o||l||h||u)s.A.showQuestion(p,d,"buttons.ok",(()=>{Yi.A.track(Vi.A.GO_HOME),jn.actionExec(s.A.casinoOptions.actions.return)}),void 0,(()=>{Yn(t)}));else if(c){var f=this.getFatalErrorWithExpiry(),g=Number(localStorage.getItem("fatalErrorCount"));if(!f||f&&f!==t)return this.setFatalErrorWithExpiry(t),void s.A.showQuestion(p,d,"buttons.ok",(()=>{localStorage.setItem("fatalErrorCount",1),Yn(t)}),void 0,(()=>{Yn(t)}));if(f&&g<=3&&f===t){var m=g+1;localStorage.setItem("fatalErrorCount",m),s.A.showQuestion(p,d,"buttons.ok",(()=>{Yn(t)}),void 0,(()=>{Yn(t)}))}else localStorage.removeItem("fatalErrorCount"),localStorage.removeItem("fatalError"),s.A.showQuestion(p,d,"buttons.home",(()=>{this.gotoHome()}),void 0,(()=>{Yn(t)}))}else s.A.showQuestion(p,d,"buttons.ok",(()=>{Yn(t)}),void 0,(()=>{Yn(t)}))}static sendSentryError(t){var e=new Error(t);setTimeout((()=>{throw e}),0)}gotoHome(){Yi.A.track(Vi.A.GO_HOME),jn.actionExec(s.A.casinoOptions.actions.return)}}function Wn(){Yi.A.track("go_deposit",null,{target:s.A.casinoOptions.actions.deposit.link}),jn.actionExec(s.A.casinoOptions.actions.deposit)}function Vn(t){s.A.closeAllScenes(t)}function Yn(){Vn()}var zn="\n.casino-modal h1 {\n\ttext-align: center;\n\tfont-size: 120%;\n\tmargin:9px 0;\n\tmargin-top: 30px;\n\tcolor: #ffffff;\n}\n.casino-modal h2 {\n\ttext-align: center;\n\tfont-size: 110%;\n\tmargin:7px 0;\n\tmargin-top: 20px;\n\tcolor: #ffffff;\n}\n\n.casino-modal {\n\tline-height: 1.6;\n\tfont-family: Arial;\n\t-webkit-text-size-adjust: 100%;\n\tcolor: #b2b2b2;\n\t-webkit-mask-image:linear-gradient( to bottom, rgba(0,0,0,0), rgba(0,0,0,1) 40px, rgba(0,0,0,1) calc(100% - 40px), rgba(0,0,0,0) );\n\tmask-image:linear-gradient( to bottom, rgba(0,0,0,0), rgba(0,0,0,1) 40px, rgba(0,0,0,1) calc(100% - 40px), rgba(0,0,0,0) );\n}\n\n.casino-modal th, .casino-modal td {\n\tcolor: #b2b2b2;\n\tpadding: 5px 5px;\n\tborder: 2px solid #333333;\n}\n\n.casino-modal table {\n\ttext-align: center;\n\twidth: 100%;\n\tmargin: 20px 0;\n\tborder-collapse: collapse;\n}\n\n.casino-modal-scroll {\n\tscrollbar-width: none;\n\t-ms-overflow-style: none;\n}\n\n.casino-modal-scroll::-webkit-scrollbar {\n\tdisplay: none;\n}\n";class qn extends jn{playGame(t,e,i){var r=s.A.data.bet;return Yi.A.track(Vi.A.PRE_PLAY,null,{totalBet:r,bet:r,isAutoSpin:!!s.A.currentScene.isAutoplayStarted,isFreeSpin:!1,isRespin:!1,purchasedFeature:{}}),this.request({command:"play",extra_data:{client_seed:Zr.getCurrentClientSeed()},options:{bet:t,risk_level:e,rows:i}}).then((t=>{t&&Yi.A.track(Vi.A.PLAY,null,{win:t.result,totalBet:r,bet:r,isFreeSpin:!1,isRespin:!1,isAutoSpin:!!s.A.currentScene.isAutoplayStarted,purchasedFeature:{}})}))}}const Qn=new qn;var Zn,Kn,Jn=[1,2,3,5,10,15,20,30,50,75,100,150,200,300,500,750,1e3,2e3,3e3,5e3,1e4,15e3,2e4,3e4,5e4,75e3,1e5,15e4,2e5,3e5,5e5,75e4,1e6],$n=.06,ta=60,ea="(0-16)",ia=["switzerland","danish","swedish","italian"];function ra(t){return t>9?t:"0"+t}function na(t,e){var i;return(null===(i=s.A.casinoOptions)||void 0===i||null===(i=i.license_rules)||void 0===i?void 0:i.license)===e&&(t.all.autoplayPanel.visible=!1,!0)}class aa extends ji.A{MIN_SPIN_TIME=0;MIN_SPIN_TIME_AUTOPLAY_DELAY=0;spinStartTime=0;rollInProgress=!1;constructor(){super(),this.onPlayResultReceived=this.onPlayResultReceived.bind(this)}init(){var t;super.init(),s.A.data={},this.gameTable=this.all.gameTable,Kn={},s.A.data.autoplayCount=s.A.settings.getItem("autoplayCount",10),Qn.initGame().then((t=>{if(t){Yi.A.track(Vi.A.GAME_INITIALIZED,s.A.casinoOptions.identifier),this.loadAutoplaySettings(),s.A.data.initData=t;var e=t.paytable[8].high[4]*t.options.min_bet;Qn.initCurrency(t,e);var i=s.A.data.initData.options.max_bet,r=s.A.data.initData.options.min_bet;for(var n of(Zn=[],Jn)){var o=n*r;if(o>i&&(o=i),Zn.push(o),o===i)break}this.loadDefauiltBet(),s.A.data.balance=t.balance,s.A.data.currency=(0,a.A)("game.data.initData.options.currency.symbol",this)||"BTC";var l=s.A.settings.getItem("restoringData");for(var h in this.restoringDataArray=[],l){var u=l[h];this.restoringDataArray.push(u),s.A.data.balance-=u.result,s.A.data.balance+=u.bets.bet}this.restoreDelay=20,s.A.casinoOptions.ui.max_autospin_value&&(this.all.autoplayNumberInput.max=s.A.casinoOptions.ui.max_autospin_value),this.gameTable.initializePaytable(),this.all["provability-panel"].applyResult(t),s.A.data.provability.seedLimits=ea,na(this,"netherlands")}}));var e=s.A.data.balance;Object.defineProperty(s.A.data,"balance",{get:()=>e,set(t){e!==t&&Yi.A.track(Vi.A.BALANCE_UPDATE,null,{amount:t}),e=t},configurable:!0}),this.spinStartTime=0,this.MIN_SPIN_TIME=(null===(t=s.A.casinoOptions)||void 0===t||null===(t=t.license_rules)||void 0===t?void 0:t.min_spin_time)||0,this.MIN_SPIN_TIME_AUTOPLAY_DELAY=Math.round(this.MIN_SPIN_TIME*$n),this.rollInProgress=!1}enablePlayButton(t=!0){if(t){var e;if(ia.includes(null===(e=s.A.casinoOptions)||void 0===e||null===(e=e.license_rules)||void 0===e?void 0:e.license)||na(this,"netherlands"))return;var i=this.getFramesToToNextSpin();i>1?br.delay((()=>this.all.playButton.enable()),i):this.all.playButton.enable()}else this.all.playButton.disable()}enableGameUI(t=!0){var e;for(var i of(this.all.gameUI.interactiveChildren=t,this.all.gameUI.findChildrenByType(ar.A)))i.parent.alpha>.99&&(i.alpha=t?1:.35);(ia.includes(null===(e=s.A.casinoOptions)||void 0===e||null===(e=e.license_rules)||void 0===e?void 0:e.license)||na(this,"netherlands"))&&(t?(this.all.playButton.enable(),this.rollInProgress=!1):s.A.data.autoplayCurrentCount||this.all.playButton.disable())}loadAutoplaySettings(){s.A.data.autoplayCount=s.A.settings.getItem("autoplayCount",this.all.autoplayNumberInput._values[0])}saveAutoplaySettings(){s.A.settings.setItem("autoplayCount",s.A.data.autoplayCount)}get isRightPanelVisible(){return!s.A.isPortrait||!this.isLeftPanelTurnedOn}get isLeftPanelVisible(){return!s.A.isPortrait||this.isLeftPanelTurnedOn}toggleTableView(){this.isLeftPanelTurnedOn=!this.isLeftPanelTurnedOn}showRules(){Qn.showRules()}getPreloadingProgress(){return 1/(Qn.requestsInProgressCount+1)}getBet(){return s.A.data.bet}chargeBetFromBalance(){s.A.data.balance-=this.getBet(),s.A.data.balance<0&&(s.A.data.balance=0),this.all["balance-label"].refreshNow()}get isAutoplayStarted(){return s.A.data.autoplayCurrentCount}stopAutoplay(){var t;s.A.data.autoplayCurrentCount=0,ia.includes(null===(t=s.A.casinoOptions)||void 0===t||null===(t=t.license_rules)||void 0===t?void 0:t.license)||na(this,"netherlands")?this.rollInProgress&&this.enablePlayButton(!1):this.all.playButton.interactive&&this.rollInProgress&&(this.enablePlayButton(!1),this.enablePlayButton())}playButtonClick(){this.isAutoplayStarted?this.stopAutoplay():this.gameTable.ballWaitingPath||this.rollInProgress||(s.A.data.autoPanelActiveted&&(s.A.data.autoplayCurrentCount=s.A.data.autoplayCount-1,s.A.settings.setItem("autoplayCount",s.A.data.autoplayCount)),this.saveBetAsDefault(),this.startRoll(),this.all["win-panel"].gotoLabelRecursive("hide"))}isRestoringDataAwaiting(){return this.restoringDataArray&&this.restoringDataArray.length>0}update(){super.update(),this.isRestoringDataAwaiting()?this.restoreDelay>0?this.restoreDelay--:(this.startRoll(this.restoringDataArray.shift()),this.restoreDelay=ta):this.delayToNextAutoreplay>0?this.delayToNextAutoreplay--:s.A.data.autoplayCurrentCount>0&&(s.A.data.balance<this.getBet()?this.stopAutoplay():this.gameTable.ballWaitingPath||this.rollInProgress||(s.A.data.autoplayCurrentCount--,this.startRoll()))}startRoll(t){this.rollInProgress||(this.rollInProgress=!0,this.spinStartTime=Date.now(),this.enableGameUI(!1),this.isAutoplayStarted?this.delayToNextAutoreplay=Math.max(ta,this.MIN_SPIN_TIME_AUTOPLAY_DELAY):this.enablePlayButton(!1),this.chargeBetFromBalance(),this.gameTable.launchBall(),t?this.onPlayResultReceived(t):Qn.playGame(this.getBet(),this.gameTable.riskMode,this.gameTable.linesCount).then(this.onPlayResultReceived))}get currentTime(){var t=new Date;return ra(t.getHours())+":"+ra(t.getMinutes())}onPlayResultReceived(t){if(t){var e;this.isRestoringDataAwaiting()||this.enablePlayButton();var i=this.gameTable.setBallData(t);if(Kn[i]=t,s.A.settings.setItem("restoringData",Kn),ia.includes(null===(e=s.A.casinoOptions)||void 0===e||null===(e=e.license_rules)||void 0===e?void 0:e.license)||na(this,"netherlands"))return void(this.rollInProgress=!0);var r=this.getFramesToToNextSpin();this.rollInProgress=r>1,this.rollInProgress&&br.delay((()=>this.rollInProgress=!1),r)}}getFramesToToNextSpin(){return this.MIN_SPIN_TIME>0?Math.round((this.MIN_SPIN_TIME-(Date.now()-this.spinStartTime))*$n):0}onBallFinish(t,e,i){var r=t.result;delete Kn[i],s.A.settings.setItem("restoringData",Kn),0===e&&this.enableGameUI();var n=new Date,a=this.getBet();this.all.resultList.addEntry({bet:a,win:r-a,payout:r/a,time:ra(n.getHours())+":"+ra(n.getMinutes())+":"+ra(n.getSeconds())}),s.A.data.balance=0===e?s.A.data.latestData.balance:Math.max(0,t.balance-e*this.getBet()),s.A.data.winToShow=r,this.all["provability-panel"].applyResult(t),this.all["win-panel"].gotoLabelRecursive("on-win"),r/a>1.00001?H.A.play("big_win"):H.A.play("win_sound"),Yi.A.track(Vi.A.FINISH_ROUND_ANIMATIONS)}refreshBalanceFast(){s.A.data.balance=s.A.data.latestReceivedBalance,this.all["balance-label"].refreshNow(),this.all["balance-label"].update()}setBet(t){for(var e of Zn)if(e>=t)return void(s.A.data.bet=e);s.A.data.bet=Zn[Zn.length-1]}saveBetAsDefault(){s.A.settings.setItem("bet",s.A.data.bet)}loadDefauiltBet(){this.setBet(s.A.settings.getItem("bet",s.A.data.initData.options.default_bet||s.A.data.initData.options.min_bet))}increaseBet(){var t=Zn.indexOf(this.getBet())+1;t=Math.max(0,t),t=Math.min(Zn.length-1,t),this.setBet(Zn[t]),this.saveBetAsDefault()}decreaseBet(){var t=Zn.indexOf(this.getBet())-1;t=Math.max(0,t),t=Math.min(Zn.length-1,t),this.setBet(Zn[t]),this.saveBetAsDefault()}maximizeBet(){this.setBet(Zn[Zn.length-1]),this.saveBetAsDefault()}minimizeBet(){this.setBet(Zn[0]),this.saveBetAsDefault()}get isBetCanBeIncreased(){return!s.A.data.autoplayStarted&&Zn&&this.getBet()<Zn[Zn.length-1]}get isBetCanBeDecreased(){return!s.A.data.autoplayStarted&&Zn&&this.getBet()>Zn[0]}_onRenderResize(){this.switchPanelsInstantly(),this.isLeftPanelTurnedOn=!1}switchPanelsInstantly(){this.all["left-panel-switcher"].applyInstantly(),this.all["right-panel-switcher"].applyInstantly()}activateAutoPanel(){s.A.data.autoPanelActiveted=!0,this.all.manualGameBtn.enable(),this.all.autoGameBtn.disable()}deactivateAutoPanel(){s.A.data.autoPanelActiveted=!1,this.all.manualGameBtn.disable(),this.all.autoGameBtn.enable()}static get anySoundEnabled(){return s.A.Sound.soundEnabled||s.A.Sound.musicEnabled}}const sa=aa;var oa=i(4581);class la extends Wi.A{init(){super.init(),this.applyForceWordsBreaking(),this.applyWorldWrapping()}applyForceWordsBreaking(){tt.A.isCurrentLanguageHieroglyphic()&&(this.breakWords=!0)}applyWorldWrapping(){this.style&&(this.style.wordWrapWidth=s.A.isPortrait?this.maxWidthPortrait:this.maxWidthLandscape,this.style.wordWrap=!0,this.updateSize())}_onRenderResize(){this.applyWorldWrapping()}get maxHeightLandscape(){return this._maxHeightLandscape}set maxHeightLandscape(t){this._maxHeightLandscape=t,s.A.isPortrait||0===t||this.updateSize()}get maxHeightPortrait(){return this._maxHeightPortrait}set maxHeightPortrait(t){this._maxHeightPortrait=t,s.A.isPortrait&&0!==t&&this.updateSize()}get breakWords(){return this.style.breakWords}set breakWords(t){this.style.breakWords=t}recalculateTextSize(){this.style&&(this.maxWidth=this.style.wordWrapWidth);var{scale:t,_texture:e}=this,i=t.x,r=t.y,n=super.recalculateTextSize(),a=s.A.isPortrait?this._maxHeightPortrait:this._maxHeightLandscape;if(a>0&&t.y*e.height>a){var o=a/e.height;if(t.x!==o||t.y!==o)return t.set(o),(i!==o||r!==o)&&!!this.parent}return n}}class ha extends n.A{init(){super.init(),this.applyOrientation()}applyOrientation(){this.__currentOrientationIsPortrait=s.A.isPortrait,s.A.isPortrait?(this.x=this.portraitX,this.y=this.portraitY,this["scale.x"]=this.portraitScaleX,this["scale.y"]=this.portraitScaleY,super.alpha=this.portraitAlpha,this.rotation=this.portraitR,this._callHandler(this.onPortrait)):(this.x=this.landscapeX,this.y=this.landscapeY,this["scale.x"]=this.landscapeScaleX,this["scale.y"]=this.landscapeScaleY,this.alpha=this.landscapeAlpha,this.rotation=this.landscapeR,this._callHandler(this.onLandscape))}_callHandler(t){this.visible=this.alpha>.015&&Math.abs(this.scale.x)>.0015&&Math.abs(this.scale.y)>.0015,!!t&&(0,u.A)(t,this)}update(){this.visible&&super.update()}_onRenderResize(){this.__currentOrientationIsPortrait!==s.A.isPortrait&&this.applyOrientation()}}class ua extends O.A{init(){super.init(),this.rSpeed=Math.random()-.5,this.rotation=Math.random(),this.life=3+Math.random(),this.scl=.6*Math.random()+.2,this.scale.x=this.scl,this.scale.y=this.scl}update(){this.xSpeed+=.3*(Math.random()-.5),this.ySpeed+=.3*(Math.random()-.6),this.xSpeed*=.95,this.ySpeed*=.95,super.update(),this.life-=.1,this.life<.001?this.remove():this.life<=1&&(this.scale.x=this.scl*this.life,this.scale.y=this.scl*this.life)}}const ca=i(9372).A;var pa=i(1233),da=new pa.Point(0,0),fa=new pa.Point(1,1),ga=new pa.Point,ma=new pa.Point;class Aa extends n.A{init(){super.init(),this.recalculateSize()}_onRenderResize(){this.recalculateSize()}recalculateSize(){this.fixed&&this.parent?((this.relativeX||this.relativeY)&&(ga.x=Math.round(this._xPos*s.A.W),ga.y=Math.round(this._yPos*s.A.H),this.parent.toLocal(ga,s.A.stage,ga,!1),this.relativeX&&(this.x=ga.x),this.relativeY&&(this.y=ga.y)),(this.resizeX||this.resizeY)&&(this.parent.toLocal(da,s.A.stage,ga,!1),this.parent.toLocal(fa,s.A.stage,ma,!1),this.resizeX&&(this.scale.x=s.A.W/s.A.projectDesc.width*(ma.x-ga.x||1e-6)),this.resizeY&&(this.scale.y=s.A.H/s.A.projectDesc.height*(ma.y-ga.y||1e-6)))):(this.resizeX&&(this.scale.x=s.A.W/s.A.projectDesc.width),this.resizeY&&(this.scale.y=s.A.H/s.A.projectDesc.height),this.relativeX&&(this.x=Math.round(s.A.W*this._xPos)),this.relativeY&&(this.y=Math.round(s.A.H*this._yPos)))}update(){this.fixed&&this.recalculateSize(),super.update()}set xPos(t){this._xPos=t,this.relativeX&&this.recalculateSize()}get xPos(){return this._xPos}set yPos(t){this._yPos=t,this.relativeY&&this.recalculateSize()}get yPos(){return this._yPos}}var va={INIT:"init",PLAY:"play",ON_RESPONSE:"on_response",ROUND_FINISHED:"round_finished",ON_INIT_RESPONSE:"on_init_response",UNLOCK_FLOW:"unlock_flow",LOCK_FLOW:"lock_flow"};var ya={ON_RESPONSE:"api_on_response",ON_INIT_RESPONSE:"api_on_init_response"};class _a extends jn{constructor(){super(),this.extensions=[]}init(){ca.on(va.INIT,this.initGame,this),ca.on(va.PLAY,this.playGame,this),this.playCommand="spin",this.freeSpinCommand="freespin",this.extensions.forEach((t=>t.init()))}initGame(t=s.A.currentFader){super.initGame(t).then((t=>{s.A.data.initData=t,s.A.data.latestRecievedBalance=t.balance,s.A.data.balance=t.balance,s.A.data.latestData=null,ca.emit(ya.ON_INIT_RESPONSE,t),ca.emit(va.ON_INIT_RESPONSE,t)}))}globalDataHandler(t){isNaN(t.balance)&&(s.A.data.balance_game=t.balance.game,s.A.data.balance_free_rounds=t.balance.free_rounds),super.globalDataHandler(t)}playGame(){this.request({command:s.A.data.isFreeSpin?this.freeSpinCommand:this.playCommand,options:{bet:s.A.data.totalBet,bonus:!!s.A.data.currentFreeRounds,...s.A.data.additionalPlayData}}).then((t=>{s.A.data.latestData=t,s.A.data.latestRecievedBalance=t.balance,s.A.data.balance=t.balance,ca.emit(ya.ON_RESPONSE,t),ca.emit(va.ON_RESPONSE,t)}))}}var ba=new _a;s.A.api=ba;class xa extends ji.A{init(){super.init(),ba.init(),ba.requestRulesContent().then((t=>{s.A.all["rules-html-overlay"].domScripts=t.scripts,s.A.all["rules-html-overlay"].innerHTML=t.content}))}}const Ta=xa;class Ea extends n.A{}class Sa extends Aa{onContinue(){this.gotoLabelRecursive("close")}onLeaveTheGame(){this.gotoLabelRecursive("close"),s.A.SharedAPI.gotoHome()}hidePopup(){s.A.hideModal(this)}get sessionTime(){return Math.round(wn.model.sessionTime/60/1e3)}get sessionBets(){return wn.model.userOverallBet}get sessionWin(){return wn.model.userOverallWin}get sessionLose(){return wn.model.userOverallLose}}var wa=i(1233),Pa=16,Ia=50;class Ra extends wa.Container{init(){super.init(),this.entries=[],this.entriesMap=new WeakMap;var t=s.A.settings.getItem("history");if(t)for(var e of(t.reverse(),t))this.addEntry(e,!0)}addEntry(t,e=!1){for(this.entries.unshift(t);this.entries.length>Pa;)this.entriesMap.get(this.entries.pop()).startRemoving();var i=r.A.loadPrefab("result-list-item");i.setData(t),this.entriesMap.set(t,i),this.addChild(i);var n=0;for(var a of this.entries)(i=this.entriesMap.get(a)).setY(n,e),n+=Ia;s.A.settings.setItem("history",this.entries)}}class Ca extends n.A{update(){super.update(),s.A.isNeedScrollTopIosSafari&&!s.A.isPortrait||s.A.hideModal(this)}}var Oa=i(1233),Ma=new Oa.Point;class Ba extends n.A{init(){super.init(),this.curInterval=Math.round(Math.random()*this.intervalRandom)}enable(){this.enabled=!0}disable(){this.enabled=!1}setSpeed(t){this.speed=t}update(){this.enabled&&this.worldVisible&&(this.delay>0?this.delay--:this.curInterval>0?this.curInterval--:(this.spawn(),this.curInterval=this.getNextInterval())),super.update()}getNextInterval(){return this.intervalRandom>0?this.interval+Math.round(Math.random()*this.intervalRandom):this.interval}setTargetContainer(t){this._container=t?t instanceof n.A?t:(0,a.A)(t,this):s.A.currentContainer}spawn(){this._container||this.setTargetContainer(this.container);var t=r.A.loadPrefab(this.prefabToSpawn);if(this.applyRotation&&(t.rotation=this.getGlobalRotation()),this._container.addChild(t),t.parent.toLocal(Ma,this,t),0!==this.speed||0!==this.speedRandom){var e=this.speed+Math.random()*this.speedRandom;Da.x=e,t.parent.toLocal(Da,this,La,!0),t.xSpeed=La.x-t.x,t.ySpeed=La.y-t.y}}}var Da=new Oa.Point,La=new Oa.Point,ka=i(1233),Na=new ka.Point,Fa=2*Math.PI;class Ga extends n.A{init(){super.init(),this.curInterval=this.interval}spawn(){this._container||(this.container?this._container=(0,a.A)(this.container,this):this._container=s.A.currentContainer),this._container.toLocal(Na,this,Ua);for(var t=Fa/(this.count+this.countRandom*Math.random()),e=0;e<Fa;e+=t){var i=Math.sin(e),n=Math.cos(e),o=r.A.loadPrefab(this.prefabToSpawn);this._container.addChild(o),o.x=Ua.x+this.radius*n,o.y=Ua.y+this.radius*i;var l=this.speed+Math.random()*this.speedRandom;o.xSpeed=l*n,o.ySpeed=l*i}}}var Ua=new ka.Point,Ha=i(1220),Xa=i(1233);class ja extends Xa.Text{init(){super.init(),this.cursorObject=this.findChildByName("cursor")}onRemove(){super.onRemove(),this.blurInput()}blurInput(){this.isFocused&&this.htmlInput.blur()}get isFocused(){return this.htmlInput&&this.htmlInput===window.document.activeElement}_onDisableByTrigger(){this.blurInput()}filterText(t){if("number"===this.inputType){var e=(t=t.replace(",",".").replace(/[^0-9\.]/gm,"")).split(".");e.length>2&&(e.length=2,t=e.join("."))}return t}update(){if(this.htmlInput){if(this.text!=this.htmlInput.value){var t=this.filterText(this.htmlInput.value);this.htmlInput.value=t,this.text=t,"number"!==this.inputType&&(this.htmlInput.selectionEnd=this.htmlInput.selectionStart=this.htmlInput.value.length),this.onChange&&(0,u.A)(this.onChange,this)}(!this.worldVisible||this.worldAlpha<.01)&&this.blurInput()}this.cursorObject&&(this.cursorObject.x="center"===this.style.align?this.texture.width/2:this.texture.width,this.cursorObject.visible=this.isFocused),super.update()}set text(t){this.maxInputLen&&(t=t.substr(0,this.maxInputLen)),super.text=t,this.htmlInput&&(this.htmlInput.value=this.filterText(t))}get text(){return super.text}get isEmpty(){return!this.text.trim()}focus(){s.A.addOnClickOnce((t=>{this.htmlInput||(this.htmlInput=document.createElement("input"),this.htmlInput.style.opacity=0,"number"===this.inputType&&(this.htmlInput.pattern="d*"),this.htmlInput.style.position="absolute",this.htmlInput.style.pointerEvents="none",this.htmlInput.addEventListener("keydown",(t=>{13===t.keyCode&&this.blurInput()})),document.body.appendChild(this.htmlInput)),this.htmlInput.value=this.filterText(this.text),this.htmlInput.focus(),t.stopPropagation(),t.preventDefault()}))}static prompt(t,e,i="",n=16,a,o=null,l=null,h=null,u=!0,c="ui/prompt"){if(ja.latestPromptText=void 0,r.A.hasPrefab(c)){var p,d=s.A.showQuestion(t,e,a,(()=>{ja.latestPromptText=p.text.trim(),o&&o(ja.latestPromptText)}),l,(()=>{h&&h()}),u,c);return(p=d.findChildrenByType(ja)[0]).text=i,p.maxInputLen=n,p.focus(),d}var f=window.prompt(t,i)||"";(f=f.trim()).length>n&&(f=f.substr(0,n)),f?o(f):h&&h()}}var Wa={};Wa.AlignedScrollArea=C,Wa.BG=U,Wa.Ball=Z,Wa.BaseRootScene=ir,Wa.BgMusic=nr.A,Wa.Button=ar.A,Wa.ClickOutsideTrigger=sr,Wa.Container=n.A,Wa.DSprite=O.A,Wa.Fill=g,Wa.FlyText=or,Wa.FullscreenPopup=lr,Wa.GameTable=fr,Wa.HTMLOverlay=yr,Wa.Label=zi.A,Wa.ListItem=_r,Wa.MainMenu=sa,Wa.MoneyLabel=oa.A,Wa.MovieClip=D,Wa.MultilineText=la,Wa.NineSlicePlane=h,Wa.NumberInput=wr,Wa.OrientationTrigger=ha,Wa.ParticleSimple=ua,Wa.PaytablePreloaderScene=Ta,Wa.PrefabReference=Ea,Wa.ProgressBar=S,Wa.ProvabilityPanel=Zr,Wa.RealityCheckPopup=Sa,Wa.Resizer=Aa,Wa.ResultList=Ra,Wa.SafariArrowUp=Ca,Wa.Scene=ji.A,Wa.Scissors=R,Wa.ScrollLayer=o.A,Wa.Shape=x,Wa.Spawner=Ba,Wa.SpawnerRing=Ga,Wa.Sprite=Ha.A,Wa.Text=Wi.A,Wa.TextInput=ja,Wa.Trigger=xr,r.A._setClasses(Wa,{AlignedScrollArea:{maxWidthDesktop:700,scrollBarBottomMargin:10,containerMargin:10,maxWidthMobile:0,marginBottomPortrait:10,marginTopPortrait:10,marginLeftRightPortrait:10,marginBottom:10,marginTop:10,marginLeftRight:10,scrollBarPath:null,bgNineSlicePlanePath:null,scrollLayerPath:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},BG:{timeline:null,delay:0,isPlaying:!0,rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Ball:{table:null,rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},BaseRootScene:{faderType:null,backgroundColor:16777215,isNoStackable:!1,isStatic:!1,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0},BgMusic:{dynamicPreloading:!1,onIntroFinish:null,volumeUnderModals:.25,fadeOut:.2,fadeIn:.2,globalVolumePath:null,volume:1,resetPositionOnPlay:!0,isPlaying:!0,loop:null,visible:!1,intro:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,alpha:1,rotation:0,y:0,x:0,name:null},Button:{interactive:!0,repeatInterval:0,repeatDelay:0,scrollable:!1,sndOver:null,sndClick:null,hotkey:0,afterClick:null,onClick:null,disabledAlpha:.76,disabledImage:"",pressImage:"",hoverImage:"",rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},ClickOutsideTrigger:{additionalContainers:null,onClickOutside:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Container:{"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},DSprite:{rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Fill:{transparentRight:!1,transparentLeft:!1,transparentBottom:!1,transparentTop:!1,yWaveSpeed:0,yWavePhase:0,yWaveStep:1,yWaveAmp:0,xWaveSpeed:0,xWavePhase:0,xWaveStep:1,xWaveAmp:0,yShiftSpeed:0,xShiftSpeed:0,yShift:0,xShift:0,yRepeat:1,xRepeat:1,verticesY:2,verticesX:2,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},FlyText:{maxWidth:0,textTransform:0,"style.letterSpacing":0,"style.padding":0,"style.leading":0,"style.fontWeight":"normal","style.fontFamily":null,"style.drShDistance":5,"style.drShBlur":0,"style.drShAngle":.524,"style.drShAlpha":1,"style.drShColor":"#000000","style.dropShadow":!1,"style.stroke":"#000000","style.strokeThickness":0,"style.fillGradientStops":null,"style.fill":"#ffffff",verticalAlign:"top","style.align":"center","style.fontSize":12,translatableText:null,text:"",image:null,blendMode:0,tint:16777215,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},FullscreenPopup:{maxWidthDesktop:700,scrollBarBottomMargin:10,containerMargin:10,maxWidthMobile:0,marginTopBottom:10,marginLeftRight:10,scrollBarPath:null,bgNineSlicePlanePath:null,scrollLayerPath:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},GameTable:{highG:0,highR:455,mediumG:122,mediumR:455,lowG:255,lowR:255,centerG:455,centerR:0,ballWaitingPath:null,pinsContainer:null,tooltip:null,hole:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},HTMLOverlay:{bouncingBounds:!1,fadeSpeed:.1,className:null,zIndex:1e4,handleScroll:!0,innerHTML:null,_mouseHandlerContainer:null,mobileInertia:.92,desktopInertia:.8,mouseHandler:null,fullArea:null,visibleArea:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Label:{onCounterFinish:null,onCounter:null,onChanged:null,decimalsCount:0,counterSpeed:1,plusMinus:!1,isNumeric:!1,template:null,refreshInterval:10,dataPath:null,maxWidth:0,textTransform:0,"style.letterSpacing":0,"style.padding":0,"style.leading":0,"style.fontWeight":"normal","style.fontFamily":null,"style.drShDistance":5,"style.drShBlur":0,"style.drShAngle":.524,"style.drShAlpha":1,"style.drShColor":"#000000","style.dropShadow":!1,"style.stroke":"#000000","style.strokeThickness":0,"style.fillGradientStops":null,"style.fill":"#ffffff",verticalAlign:"top","style.align":"center","style.fontSize":12,translatableText:null,text:"",image:null,blendMode:0,tint:16777215,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},ListItem:{timeline:null,delay:0,isPlaying:!0,rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},MainMenu:{gameTable:null,faderType:null,backgroundColor:16777215,isNoStackable:!1,isStatic:!1,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0},MoneyLabel:{countOnStart:!1,isNumeric:!0,maxWidthLandscape:0,maxWidthPortrait:0,decimalsCountPath:null,dataPath2:null,onCounterFinish:null,onCounter:null,onChanged:null,decimalsCount:0,counterSpeed:1,plusMinus:!1,template:null,refreshInterval:10,dataPath:null,maxWidth:0,textTransform:0,"style.letterSpacing":0,"style.padding":0,"style.leading":0,"style.fontWeight":"normal","style.fontFamily":null,"style.drShDistance":5,"style.drShBlur":0,"style.drShAngle":.524,"style.drShAlpha":1,"style.drShColor":"#000000","style.dropShadow":!1,"style.stroke":"#000000","style.strokeThickness":0,"style.fillGradientStops":null,"style.fill":"#ffffff",verticalAlign:"top","style.align":"center","style.fontSize":12,translatableText:null,text:"",image:null,blendMode:0,tint:16777215,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},MovieClip:{timeline:null,delay:0,isPlaying:!0,rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},MultilineText:{breakWords:!1,maxHeightPortrait:0,maxHeightLandscape:0,maxWidthPortrait:400,maxWidthLandscape:400,maxWidth:0,textTransform:0,"style.letterSpacing":0,"style.padding":0,"style.leading":0,"style.fontWeight":"normal","style.fontFamily":null,"style.drShDistance":5,"style.drShBlur":0,"style.drShAngle":.524,"style.drShAlpha":1,"style.drShColor":"#000000","style.dropShadow":!1,"style.stroke":"#000000","style.strokeThickness":0,"style.fillGradientStops":null,"style.fill":"#ffffff",verticalAlign:"top","style.align":"center","style.fontSize":12,translatableText:null,text:"",image:null,blendMode:0,tint:16777215,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},NineSlicePlane:{bottomHeight:5,topHeight:5,rightWidth:5,leftWidth:5,height:200,width:200,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},NumberInput:{wrapValue:!1,_currentTextField:null,interactive:!0,valuesList:null,onChanged:null,refreshInterval:10,dataPath:null,textView:null,decimalsCount:0,step:1,min:0,max:100,value:0,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},OrientationTrigger:{portraitR:0,portraitScaleX:1,portraitScaleY:1,portraitAlpha:1,portraitY:0,portraitX:0,landscapeR:0,landscapeScaleY:1,landscapeScaleX:1,landscapeAlpha:1,landscapeY:0,landscapeX:0,onLandscape:null,onPortrait:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},ParticleSimple:{rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},PaytablePreloaderScene:{faderType:null,backgroundColor:16777215,isNoStackable:!1,isStatic:!1,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0},PrefabReference:{inheritProps:!0,dynamicPrefabName:null,prefabName:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},ProgressBar:{cap:null,bar:null,step:1,max:100,min:0,afterSlide:null,onChanged:null,refreshInterval:10,capMargin:5,height:200,dataPath:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},ProvabilityPanel:{onDisable:null,onEnable:null,isApplyInteractivity:!0,yShift:0,xShift:0,scaleShift:0,alphaShift:-1,damp:.85,pow:.02,invert:!1,dataPath:null,state:!1,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},RealityCheckPopup:{fixed:!1,yPos:0,relativeY:!1,xPos:0,relativeX:!1,resizeY:!1,resizeX:!1,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Resizer:{fixed:!1,yPos:0,relativeY:!1,xPos:0,relativeX:!1,resizeY:!1,resizeX:!1,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},ResultList:{"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},SafariArrowUp:{"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Scissors:{enabled:!0,rect:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Shape:{_shapePoints:null,_spriteRect:null,shapeLineAlignment:1,shapeLineAlpha:1,shapeLineColor:16777215,shapeLineWidth:0,isItHitArea:!1,shapeFillColor:0,shapeFillAlpha:1,shapeRadius:10,height:100,width:100,shape:0,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Spawner:{_container:null,container:null,applyRotation:!1,speedRandom:10,speed:10,intervalRandom:0,interval:0,delay:0,enabled:!0,prefabToSpawn:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},SpawnerRing:{_container:null,container:null,radius:10,countRandom:10,count:10,speedRandom:10,speed:10,prefabToSpawn:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Sprite:{blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Text:{maxWidth:0,textTransform:0,"style.letterSpacing":0,"style.padding":0,"style.leading":0,"style.fontWeight":"normal","style.fontFamily":null,"style.drShDistance":5,"style.drShBlur":0,"style.drShAngle":.524,"style.drShAlpha":1,"style.drShColor":"#000000","style.dropShadow":!1,"style.stroke":"#000000","style.strokeThickness":0,"style.fillGradientStops":null,"style.fill":"#ffffff",verticalAlign:"top","style.align":"center","style.fontSize":12,translatableText:null,text:"",image:null,blendMode:0,tint:16777215,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},TextInput:{cursorObject:null,onChange:null,inputType:"text",maxInputLen:0,maxWidth:0,textTransform:0,"style.letterSpacing":0,"style.padding":0,"style.leading":0,"style.fontWeight":"normal","style.fontFamily":null,"style.drShDistance":5,"style.drShBlur":0,"style.drShAngle":.524,"style.drShAlpha":1,"style.drShColor":"#000000","style.dropShadow":!1,"style.stroke":"#000000","style.strokeThickness":0,"style.fillGradientStops":null,"style.fill":"#ffffff",verticalAlign:"top","style.align":"center","style.fontSize":12,translatableText:null,text:"",image:null,blendMode:0,tint:16777215,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Trigger:{onDisable:null,onEnable:null,isApplyInteractivity:!0,yShift:0,xShift:0,scaleShift:0,alphaShift:-1,damp:.85,pow:.02,invert:!1,dataPath:null,state:!1,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null}})},1469:(t,e,i)=>{"use strict";var r,n=i(9443),a=i(874),s=new Promise((t=>{r=t}));const o=(t,e,i,n,a,s)=>{function o(e){return new Promise((i=>{var r=new Image;r.src=e.indexOf("//")>0?e:t+e,r.onload=i}))}var l;a&&(n=n.concat(s?["preloader-assets/split.png","preloader-assets/spin.gif","preloader-assets/spin2.gif","preloader-assets/spin3.gif","preloader-assets/b.png","preloader-assets/i.png","preloader-assets/g.png","preloader-assets/a.png","preloader-assets/m.png","preloader-assets/i.png","preloader-assets/n.png"]:["preloader-assets/logo.png"])),window.__OPTIONS__.ui.brand_logo?(n.push(window.__OPTIONS__.ui.brand_logo),l=300):l=150;var h=400+l;function u(){var t=document.querySelector(".preloader");if(t){var e=Math.min(window.innerWidth/700,window.innerHeight/h,1);t.style.transform="scale("+e+")",t.style.left=Math.round(window.innerWidth/2-350)+"px",t.style.top=Math.round(window.innerHeight/2-h/2)+"px"}else window.removeEventListener("resize",u)}function c(){var n=document.getElementsByClassName("preloader")[0];n&&(n.innerHTML=(`\n\t\t\t<style>\n\t\t\tbody, html {\n\t\t\t\toverflow:hidden;\n\t\t\t}\n\t\t\tdiv, body, html {\n\t\t\t\tpadding:0;\n\t\t\t\tmargin:0;\n\t\t\t}\n\t\t\t.preloader {\n\t\t\t\tposition: relative;\n\t\t\t\theight: ${h}px;\n\t\t\t\twidth: 700px;\n\t\t\t\tleft: unset;\n\t\t\t\ttop: unset;\n\t\t\t\tpadding-top: 0;\n\t\t\t\tz-index:1;\n\t\t\t\ttext-align:center;\n\t\t\t\ttransform-origin: center center;\n\t\t\t}\n\t\t\n\t\t\t.preloader-mid {\n\t\t\t\theight: 400px;\n\t\t\t\tposition: relative;\n\t\t\t}\n\t\t\t.preloader-bottom {\n\t\t\t\theight: ${l}px;\n\t\t\t\tposition: relative;\n\t\t\t}\n\n\t\t\t.preloader-bar-frame {`+(s?"display:none":"position: relative;\n\t\t\t\tborder-radius: 3px;\n\t\t\t\theight: 13px;\n\t\t\t\tmargin: 40px auto;\n\t\t\t\toverflow: hidden;\n\t\t\t\tbox-shadow: inset 0 3px 10px rgba(0, 0, 0, 0.65), inset 0 0 0 1px rgba(0, 0, 0, 0.1);\n\t\t\t\tborder: 1px solid rgba(0, 0, 0, 0.06);\n\t\t\t\tbackground-color: #4b4b4b;\n\t\t\t\twidth: 400px;")+"}\n\n\t\t\t.preloader-bar {\n\t\t\t\tborder-radius: 3px;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\tbox-shadow: inset 0 2px 0 rgba(255, 255, 255, 0.39), inset 0 0 0 2px rgba(235, 235, 235, 0.3);\n\t\t\t\tbackground-color: rgba(0, 0, 0, 0.33);\n\t\t\t\tbackground-color: #ffa800;\n\t\t\t\tbackground-image: linear-gradient(to top, rgba(0, 0, 0, 0.33) 0%, rgba(0, 0, 0, 0) 100%);\n\t\t\t}\n\t\t\t.preloader-cap {\n\t\t\t\twidth: 0;\n\t\t\t}\n\n\t\t\t.progress-item {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\theight: 50px;\n\t\t\t\twidth: 29px;\n\t\t\t}\n\n\t\t\t.spin-logo-container {\n\t\t\t\twhite-space:nowrap;\n\t\t\t\theight: 50px;\n\t\t\t\tmargin-top: 40px;\n\t\t\t}\n\n\t\t\t#loader-casino-logo {\n\t\t\t\tmargin: 80px auto 0 auto;\n\t\t\t\theight: 65px;\n\t\t\t\twidth: auto;\n\t\t\t\tmax-width: 200px;\n\t\t\t\tbackground-position: center center;\n\t\t\t\tbackground-size: contain;\n\t\t\t\tbackground-repeat: no-repeat;\n\t\t\t}\n"+(s?"\n\t\t\t.spin-logo-container img {\n\t\t\t\theight: 50px;\n\t\t\t}\n\n\t\t\t.progress-item .spin {\n\t\t\t\tdisplay: inline-block;\n\t\t\t}\n\t\t\t.progress-item .stop {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.progress-item-on .spin {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.progress-item-on .stop {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tanimation: animationFrames ease 0.2s;\n\t\t\t\tanimation-iteration-count: 1;\n\t\t\t\ttransform-origin: 50% 50%;\n\t\t\t}\n\t\t\t  \n\t\t\t@keyframes animationFrames{\n\t\t\t\t0% {\n\t\t\t\t  transform:  translate(0px,0px)  ;\n\t\t\t\t}\n\t\t\t\t30% {\n\t\t\t\t  transform:  translate(0px,8px)  ;\n\t\t\t\t}\n\t\t\t\t100% {\n\t\t\t\t  transform:  translate(0px,0px)  ;\n\t\t\t\t}\n\t\t\t}":'\n\t\t\t.spin-logo-container {\n\t\t\t\theight: 50px;\n\t\t\t\tbackground-image: url("_resourcesPath_preloader-assets/logo.png");\n\t\t\t\tbackground-size: contain;\n\t\t\t\tbackground-repeat: no-repeat;\n\t\t\t\tbackground-position: center;\n\t\t\t\t}\n\t\t\t')+i+'</style>\n\t<div class="preloader-mid">\n'+e+'</div>\n\t<div class="preloader-bottom">'+(a?`<div class="spin-logo-container ${s?"progress-group":""}"> `+(s?'<div style="width:36px" class="progress-item"><img class=\'stop\' src="_resourcesPath_preloader-assets/b.png"><img class=\'spin\' src="_resourcesPath_preloader-assets/spin.gif"></div>\n\t\t\t\t\t<div class="progress-item"><img class=\'stop\' src="_resourcesPath_preloader-assets/g.png"><img class=\'spin\' src="_resourcesPath_preloader-assets/spin2.gif"></div>\n\t\t\t\t\t<img src="_resourcesPath_preloader-assets/split.png">\n\t\t\t\t\t<div class="progress-item"><img class=\'stop\' src="_resourcesPath_preloader-assets/a.png"><img class=\'spin\' src="_resourcesPath_preloader-assets/spin3.gif"></div>\n\t\t\t\t\t<img src="_resourcesPath_preloader-assets/split.png">\n\t\t\t\t\t<div class="progress-item"><img class=\'stop\' src="_resourcesPath_preloader-assets/m.png"><img class=\'spin\' src="_resourcesPath_preloader-assets/spin.gif"></div>\n\t\t\t\t\t<img src="_resourcesPath_preloader-assets/split.png">\n\t\t\t\t\t<div class="progress-item"><img class=\'stop\' src="_resourcesPath_preloader-assets/i.png"><img class=\'spin\' src="_resourcesPath_preloader-assets/spin2.gif"></div>\n\t\t\t\t\t<img src="_resourcesPath_preloader-assets/split.png">\n\t\t\t\t\t<div class="progress-item"><img class=\'stop\' src="_resourcesPath_preloader-assets/n.png"><img class=\'spin\' src="_resourcesPath_preloader-assets/spin3.gif"></div>\n\t\t\t\t\t<img src="_resourcesPath_preloader-assets/split.png">\n\t\t\t\t\t<div class="progress-item"><img class=\'stop\' src="_resourcesPath_preloader-assets/g.png"><img class=\'spin\' src="_resourcesPath_preloader-assets/spin.gif"></div>\n\t\t\t\t\t<img src="_resourcesPath_preloader-assets/split.png">':"")+"</div>":"")+'<div class="preloader-bar-frame">\n\t\t\t<div class="preloader-bar"><div class="preloader-cap"></div></div>\n\t\t</div>'+(window.__OPTIONS__.ui.brand_logo?'<div id="loader-casino-logo" style="background-image:url('+window.__OPTIONS__.ui.brand_logo+')"></div>':"")+"</div>").replace(/_resourcesPath_/g,t)),r(),u(),window.addEventListener("resize",u)}Promise.all(n.map(o)).then(c)},l=t=>{o(t,u,c,h,n.A.casinoOptions.ui.logo_visible)};var h=["preloader-assets/loader-img.png"],u='\n<div class="game-image"></div>\n',c='\n.game-image {\n\t\theight: 400px;\n\t\tmax-width: 700px;\n\t\tbackground-image: url("_resourcesPath_preloader-assets/loader-img.png");\n\t\tbackground-size: contain;\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-position: center;\n\t}\n',p=(i(6113),i(4381)),d=i(4051),f=i(3800),g=-1!==window.location.origin.indexOf("bgaming-system");window.addEventListener("keydown",(t=>{g&&80===t.keyCode&&t.ctrlKey&&(t.preventDefault(),y.toggleGame(!0))}));var m,A,v={PAUSE:"pause_gameplay",PAUSE_SAFE:"pause_safe_gameplay",RESUME:"resume_gameplay"};window.addEventListener("message",(t=>{if(t.data){var e=t.data;if("string"==typeof e)try{e=JSON.parse(e)}catch(i){return}switch((e.name||e.Name||"").toLowerCase()){case v.PAUSE:y.pauseGame(!0);break;case v.PAUSE_SAFE:y.pauseGameSafe(!0,(()=>{t.source.postMessage(e.callback||"game_paused",t.origin)}));break;case v.RESUME:y.resumeGame()}}}),!1),p.A.addListener((t=>{switch(t){case f.A.GAME_LOADED:case f.A.FINISH_ROUND_ANIMATIONS:y._onGameRoundAnimationsFinish()}}));var y={game:n.A,toggleGame(t){m?y.resumeGame():y.pauseGame(t)},pauseGame(t){m||((m=n.A.showModal("thing-games-utils/pause-popup")).alpha=t?0:1,m.findChildByName("close-btn").callback=()=>{n.A.hideModal(m),m=null})},pauseGameSafe(t,e=(()=>{})){var i=A||(()=>y.pauseGame(t));A=()=>{i(),e()},(m||n.A.currentScene&&!n.A.currentScene.flowLocked)&&(A(),A=null)},resumeGame(){m&&(n.A.hideModal(m),m=null),A=null},stopAutospins(){n.A.currentScene&&n.A.currentScene.autospinPanel?n.A.currentScene.autospinPanel.stopAutospins():n.A.currentScene.stopAutoplay&&n.A.currentScene.stopAutoplay()},setAudioSfx(t){n.A.Sound.soundEnabled=t},setAudioMusic(t){n.A.Sound.musicEnabled=t},formatMoney:t=>d.A.formatMoney(t/n.A.data.currencyDivider,n.A.data.currencyDigits),formatMoneyToNumber:t=>t/n.A.data.currencyDivider,_onGameRoundAnimationsFinish(){A&&(A(),A=null)},showPaytable(){var t;null===(t=this.game.all.popupsLayer)||void 0===t||t.showPaytable()},hidePaytable(){var t;null===(t=this.game.all.popupsLayer)||void 0===t||t.togglePaytable()},showRules(){var t;null===(t=this.game.all.popupsLayer)||void 0===t||t.showRules()},hideRules(){var t;null===(t=this.game.all.popupsLayer)||void 0===t||t.toggleRules()}};const _=y;var b=i(4581),x=i(4418),T=i(9372),E=i(8201),S=i(230);class w{static initGame(t,e,i,r=s){function n(){var e="\n\t\tbody, html, canvas {\n\t\t\tposition: absolute;\n\t\t\ttop: 0; \n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tmargin: 0;\n\t\t\tpadding: 0;\n\t\t\toverflow: visible;\n\t\t\twidth:100%;\n\t\t}\n\n\t\thtml {\n\t\t\toverflow: hidden;\n\t\t}\n\n\t\tcanvas {\n\t\t\theight:100%;\n\t\t\tposition: fixed;\n\t\t\t-webkit-touch-callout: none; /* iOS Safari */\n\t\t\t-webkit-user-select: none; /* Safari */\n\t\t\tuser-select: none; /* Non-prefixed version, currently supported by Chrome, Edge, Opera and Firefox */\n\t\t}\n\n\t\t.preloader{\n\t\t\tz-index: 20;\n\t\t}\n\t\t";t.applyCSS(e)}window.addEventListener("load",(()=>{x.A.beforeGameInit();var a=t.casinoOptions;n();var s=a.resources_path+"/",o=S.projectDesc,l=o.imagesToRemove||[],h=o.mobileUIPath||"ui/mobile-slot/",u=o.desktopUIPath||"ui/desktop-slot/";l.push(t.isMobile.any?u:h);var c=function(t){l.some((e=>t.startsWith(e)))&&delete S.images[t]};for(var d in S.images)c(d);S.projectDesc.localeResourcesPath="https://translations.bgaming-network.com/Plinko",e.setCurrentLanguage(a.locale,{isHieroglyphic:/ja|zh$/.test(a.locale)}),b.A.initMoneyFormatter(a.locale),console.log(o.title+" v"+o.version),p.A.track(f.A.START_LOADING,null,_),T.A.once(E.k.GAME_PRELOADER_COMPLETE,(()=>{p.A.track(f.A.GAME_RESOURCES_LOADED)})),T.A.on(E.k.GAME_SHOW_MODAL,(()=>{p.A.track(f.A.SHOW_MODAL)})),i(s),r.then((()=>{t.init(void 0,o.id+a.cache_player_id,s)}))}))}}w.initGame(n.A,a.A,l)},684:(t,e,i)=>{"use strict";i.d(e,{A:()=>f});var r,n=i(9443),a=i(4049),s=i(9135),o=i(5222),l=i(4222),h=i(2468),u=i(2982),c=.0101,p=[],d=!1;class f extends o.A{constructor(){super(),this._externalVolume=0}init(){this._externalVolume=0,super.init(),p.push(this),f._recalculateMusic(),this.dynamicPreloading||(s.A.preloadSound(this.intro),s.A.preloadSound(this.loop)),this._musInitialized=!0,this.applyResetPosition(),f._recalculateMusic(),this._initIosSoundFix()}onRemove(){super.onRemove();var t=p.indexOf(this);t>=0&&p.splice(t,1),f._recalculateMusic(),u.A.onMusicRemove(this),this.musicFragmentHash=void 0,this._externalVolume=0,this._musInitialized=!1,this.customFade=null,this.onIntroFinish=null,this._removeIosSoundFix()}setVolume(t){this.volume=t}update(){super.update(),this._isPlaying&&this.globalVolumePath&&this._appliedPathVol!==(0,h.A)(this.globalVolumePath,this)&&f._recalculateMusic()}applyResetPosition(){this.isPlaying&&this.resetPositionOnPlay&&this.resetPosition()}get isPlaying(){return this._isPlaying}set isPlaying(t){this._isPlaying!==t&&(this._isPlaying=t,this.applyResetPosition(),f._recalculateMusic())}get intro(){return this._intro}set intro(t){this._intro!==t&&(this._intro=t,this.musicFragmentHash=(this._intro||"")+"#"+(this._loop||""),f._recalculateMusic())}get loop(){return this._loop}set loop(t){this._loop!==t&&(this._loop=t,this.musicFragmentHash=(this._intro||"")+"#"+(this._loop||""),f._recalculateMusic())}get volume(){return this._volume}set volume(t){this._volume!==t&&(this._volume=t,f._recalculateMusic())}_getTargetVol(){return this._isPlaying&&this._musInitialized?(this.globalVolumePath?(this._appliedPathVol=(0,h.A)(this.globalVolumePath,this),t=this._appliedPathVol):t=a.A.musicVol,this._volume*this._externalVolume*t||0):0;var t}play(t){this.customFade=t,this.isPlaying=!0}stop(t){this.customFade=t,this.isPlaying=!1}_getFade(t){return"number"==typeof this.customFade?this.customFade:t?this.fadeOut:this.fadeIn}resetPosition(){u.A.resetPosition(this.musicFragmentHash)}_onIntroFinish(){this.onIntroFinish&&(0,l.A)(this.onIntroFinish,this)}_touchStartHandler(){"suspended"!==Howler.ctx.state&&"interrupted"!==Howler.ctx.state||Howler.ctx.resume().then((()=>{f._recalculateMusic()}))}_initIosSoundFix(){(n.A.isMobile.apple.phone||n.A.isMobile.apple.ipod)&&!d&&(document.addEventListener("touchstart",this._touchStartHandler),d=!0)}_removeIosSoundFix(){d&&(document.removeEventListener("touchstart",this._touchStartHandler),d=!1)}static _recalculateMusic(){r||(setTimeout(A,1),r=!0)}static _clearCustomFades(t=null){for(var e of p)e.customFade=t;u.A._applyFadeForAll(t)}set fade(t){this.fadeIn=t,this.fadeOut=t}}var g=1e6,m=1e5;function A(){if(r=!1,!n.A._isWaitingToHideFader){var t=[],e=new Map,i=n.A.currentFader;for(var s of(i&&(e.set(g,[]),t.push(g)),p)){var o=s.getRootContainer(),l=void 0;if(o===n.A.currentContainer)l=m;else if(o===i)l=g;else{if(!o.parent){s._externalVolume=0;continue}l=o.parent.getChildIndex(o)}e.has(l)||(t.push(l),e.set(l,[])),e.get(l).push(s)}t.sort(v);var h=a.A.isSoundsLockedByBrowser||n.A._loadingErrorIsDisplayed||!n.A.isVisible;for(var d of t){var f=e.get(d);for(var A of f)A._externalVolume=h?0:d<m?A.volumeUnderModals:1;h=!0}var y=[];for(var _ of p){var b=_._getTargetVol();b>=c&&(_._loop||_._intro)&&(_._cachedTargetVol=b,y.push(_))}u.A.setPlayingBGMusics(y)}}var v=(t,e)=>e-t},9401:(t,e,i)=>{"use strict";i.d(e,{A:()=>u});var r,n=i(9443),a=i(4222),s=i(6711),o=i(4049),l=(i(9135),0),h=30;class u extends s.A{init(){super.init(),this.on("pointerdown",this.onDown),this.on("pointerup",this.onUp),this.on("pointerover",this.onOver),this.on("pointerout",this.onOut),c.unshift(this),this.buttonMode=!0,this.initialScale=this.scale.x,this.initialImage=this.image,this.interactive?this.enable():this.disable(),this.scrollable&&(this.pointerStartPos=null)}onRemove(){super.onRemove(),this.onOut(),this.removeListener("pointerdown",this.onDown),this.removeListener("pointerup",this.onUp),this.removeListener("pointerover",this.onOver),this.removeListener("pointerout",this.onOut);var t=c.indexOf(this);t>=0&&c.splice(t,1),r===this&&(r=null),this.initialImage=null,this.interactive=!1,this.buttonMode=!1,this.hasOwnProperty("callback")&&delete this.callback}disable(){this.initialImage&&(this.onUp(),this.onOut(),this.disabledImage?this.image=this.disabledImage:this.alpha=this.disabledAlpha),this.interactive=!1}enable(){this.initialImage&&(this.disabledImage?this.image=this.initialImage:this.alpha=1),this.interactive=!0}get isOvered(){return this===u.overredButton}get isDowned(){return this===u.downedButton}callClick(){this.isCanBePressed&&this._executeOnClick("invoke")}_executeOnClick(t){u.globalOnClick&&u.globalOnClick(this,t),u.clickedButton=this,this.callback&&this.callback(),this.onClick&&(0,a.A)(this.onClick,this),this.afterClick&&(0,a.A)(this.afterClick,this),u.clickedButton=null,this.sndClick&&o.A.play(this.sndClick),l=n.A.time}onDown(t,e="pointerdown"){if(o.A._unlockSound(),!(n.A.time===l)){if(t){if(1!==t.data.buttons)return;n.A._mouseHandlerGlobal(t)}this.isCanBePressed&&Math.abs(l-n.A.time)>1&&u.downedButton!==this&&(u.downedButton&&u.downedButton.onUp(),this.pressImage?this.image=this.pressImage:this.scale.x=this.scale.y=this.initialScale*(this.isOvered?1:.9),u.downedButton=this,this.curDelay=this.repeatDelay,this.scrollable?this.pointerStartPos={x:n.A.mouse.x,y:n.A.mouse.y}:this._executeOnClick(e))}}update(){this.isDowned&&(n.A.mouse.click||r===this?this.curDelay>0&&(this.curDelay--,0===this.curDelay&&(this.isCanBePressed&&Math.abs(l-n.A.time)>1&&this._executeOnClick("autorepeat"),this.curDelay=this.repeatInterval)):this.onUp()),super.update()}onUp(){u.downedButton===this&&(this.interactive&&(this.pressImage?this.initialImage&&(this.image=this.initialImage):this.scale.x=this.scale.y=this.initialScale*(this.isOvered?1.05:1)),u.downedButton=null,this.scrollable&&Math.hypot(n.A.mouse.x-this.pointerStartPos.x,n.A.mouse.y-this.pointerStartPos.y)<=h&&this._executeOnClick("pointerup"))}onOver(){n.A.isTouchscreen||u.overredButton!==this&&(u.overredButton&&u.overredButton.onOut(),u.overredButton=this,this.hoverImage?this.image=this.hoverImage:this.scale.x=this.scale.y=1.05*this.initialScale,this.sndOver&&o.A.play(this.sndOver),this.gotoLabelRecursive("btn-over"))}_onDisableByTrigger(){this.onOut()}onOut(){u.overredButton===this&&(u.overredButton=null,this.interactive&&(this.hoverImage?this.initialImage&&(this.image=this.initialImage):this.scale.x=this.scale.y=this.initialScale),this.onUp(),this.gotoLabelRecursive("btn-out"))}static _tryToClickByKeycode(t){for(var e of c)if(e.hotkey===t&&e.isCanBePressed)return e.onDown(null,"hotkey"),e}}var c=[];function p(){var t;null!==(t=r)&&void 0!==t&&t.isDowned&&(r.onUp(),r=null)}window.addEventListener("keydown",(t=>{t.repeat||(r=u._tryToClickByKeycode(t.keyCode))})),window.addEventListener("blur",p),window.addEventListener("visibilitychange",p),window.addEventListener("keyup",(t=>{r&&r.hotkey===t.keyCode&&(r.onUp(),r=null)}))},5222:(t,e,i)=>{"use strict";i.d(e,{A:()=>d});var r,n,a=i(9443),s=(i(3951),i(1233).Container);s.prototype.update=function(){for(var t of this.children)t.update()},s.prototype.init=()=>{},s.prototype.onRemove=()=>{};var o,l,h=t=>{t.name===r&&(n=t)};s.prototype.findChildByName=function(t){return r=t,n=null,this.forAllChildren(h),n};var u,c=t=>{t instanceof l&&o.push(t)};s.prototype.findChildrenByType=function(t){return l=t,o=[],this.forAllChildren(c),o};var p=t=>{t.name===u&&o.push(t)};s.prototype.findChildrenByName=function(t){return u=t,o=[],this.forAllChildren(p),o},s.prototype.forAllChildren=function(t){for(var e of this.children)t(e),e.forAllChildren(t)},Object.defineProperty(s.prototype,"isCanBePressed",{get:function(){if(!this.interactive||a.A.disableAllButtons)return!1;for(var t=this.parent;t!==a.A.stage&&t.interactiveChildren&&t.visible;)t=t.parent;return t.interactiveChildren&&t.visible},enumerable:!0});const d=s},6711:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(1220);class n extends r.A{constructor(){super(),this.anchor.set(.5)}angleBySpeed(){this.rotation=Math.atan2(this.ySpeed,this.xSpeed)}update(){this.x+=this.xSpeed,this.y+=this.ySpeed,this.rotation+=this.rSpeed,super.update()}}},3951:(t,e,i)=>{"use strict";var r=i(9135),n=i(9443),a=i(1233).DisplayObject;a.prototype.getGlobalRotation=function(){for(var t=this.rotation,e=this.parent;e&&e!==n.A.stage;)t+=e.rotation,e=e.parent;return t},a.prototype.getScenePosition=function(t,e=!1){return n.A.stage.toLocal(this,this.parent,t,e)},a.prototype.getRootContainer=function(){for(var t=this;t&&t.parent!==n.A.stage&&t.parent;)t=t.parent;return t},a.prototype.detachFromParent=function(){this.parent&&this.parent.removeChild(this)},a.prototype.init=()=>{},a.prototype.onRemove=()=>{},a.prototype.remove=function(){r.A.destroyObjectAndChildren(this,!0)},a.prototype.removeWithoutHolder=function(){r.A.destroyObjectAndChildren(this)},a.prototype.findParentByType=function(t){for(var e=this.parent;e&&!(e instanceof t);)e=e.parent;return e},a.prototype.findParentByName=function(t){for(var e=this.parent;e&&e.name!==t;)e=e.parent;return e},a.prototype.addFilter=function(t){this.filters?this.filters.push(t):this.filters=[t]},a.prototype.removeFilter=function(t){var e=this.filters.indexOf(t);e>=0&&this.filters.splice(e,1)};Object.defineProperties(a.prototype,{___info:{get:function(){for(var t=getObjectName(this),e=this.parent;e&&e!==n.A.stage;)t+=" > "+getObjectName(e),e=e.parent;return t}},"scale.x":{get:function(){return this.transform.scale.x},set:function(t){this.transform.scale.x=t},configurable:!0},"scale.y":{get:function(){return this.transform.scale.y},set:function(t){this.transform.scale.y=t},configurable:!0},"skew.x":{get:function(){return this.transform.skew.x},set:function(t){this.transform.skew.x=t},configurable:!0},"skew.y":{get:function(){return this.transform.skew.y},set:function(t){this.transform.skew.y=t},configurable:!0},"pivot.x":{get:function(){return this.transform.pivot.x},set:function(t){this.transform.pivot.x=t},configurable:!0},"pivot.y":{get:function(){return this.transform.pivot.y},set:function(t){this.transform.pivot.y=t},configurable:!0}})},4051:(t,e,i)=>{"use strict";i.d(e,{A:()=>u});var r=i(2468),n=i(4222),a=i(874),s=i(4894),o=i(9443),l=i(4319);function h(t,e=0){var i,r=t<0;if(r&&(t=-t),e>0){var n=t.toFixed(e).split(".");n[0].length>3&&(n[0]=n[0].replace(/(.)(?=(.{3})+$)/g,"$1 ")),i=n.join(".")}else i=t.toFixed(0).replace(/(.)(?=(.{3})+$)/g,"$1 ");return r?"-"+i:i}class u extends s.A{init(){super.init(),this.currentInterval=0,this.text="",this.showedVal=void 0,this.processedVal=void 0,this.lastUpdateTime=o.A.time}onLanguageChanged(){this._translatableText&&(this.showedVal=void 0,this.refreshNow(),o.A.__paused&&super.onLanguageChanged())}customizeVal(t){return t}update(){if(o.A.time-this.lastUpdateTime>1&&this.refreshNow(),this.lastUpdateTime=o.A.time,this.currentInterval<=0&&this.dataPath){var t=(0,r.A)(this.dataPath,this);(t=this.customizeVal(t))||0===t?(t!==this.processedVal&&(this.onChanged&&(0,n.A)(this.onChanged,this),this.processedVal=t),t!==this.showedVal&&(this.visible=!0,this.applyValue(t))):(this.processedVal=void 0,this.showedVal=void 0,this.visible=!1),this.currentInterval=this.refreshInterval}else this.currentInterval--;super.update()}applyValue(t){if(this.isNumeric){if(this.counterSpeed<1&&void 0!==this.showedVal){var e=Math.max(1/Math.pow(10,this.decimalsCount),Math.abs((t-(this.showedVal||0))*this.counterSpeed));this.showedVal=(0,l.CR)(this.showedVal||0,t,e),this.showedVal===t?this.onCounterFinish&&(0,n.A)(this.onCounterFinish,this):this.onCounter&&(0,n.A)(this.onCounter,this)}else this.showedVal=t;t=this.plusMinus&&t>0?"+"+u.formatMoney(this.showedVal,this.decimalsCount):u.formatMoney(this.showedVal,this.decimalsCount)}else this.showedVal=t;this.template?this.text=this.template.replace("%d",t):this._translatableText?this.text=(0,a.A)(this._translatableText,t):this.text=t}freezeCounter(){this.currentInterval=1e9}unfreezeCounter(){this.currentInterval=0}refreshNow(){this.currentInterval=0}}u.formatMoney=h},9087:(t,e,i)=>{"use strict";i.d(e,{A:()=>l});var r=i(5222),n=i(5622),a=i(9443),s={},o=0;class l extends r.A{static promise(t,e=a.A.currentContainer){var i=n.A.create(l);e.addChild(i),i._promiseWaitForResult=!0;var r=o++;return i._promiseId=r,t((t=>{i._promiseId===r&&(i._promiseResultWaiting=t)}),(t=>{i._promiseId===r&&(i._promiseErrorWaiting=t)}),i),i}static resolve(t){return l.promise((e=>{e(t)}))}static all(t,e=a.A.currentContainer){var i=[],r=t.length;return l.promise(((e,n,a)=>{t.some(((t,s)=>{a.addChild(t),t.then((t=>{i[s]=t})),t.catch((t=>{(i=[])[s]=t,n(i),i=null})),t.finally((()=>{0===--r&&i&&e(i)}))}))}),e)}onRemove(){super.onRemove(),this._promiseWaitForResult&&(this._promiseWaitForResult=!1,this._handleFinally()),this._promiseId=-1,this._rejectHandlers.length=0,this._resolveHandlers.length=0,this._finallyHandlers.length=0,this._promiseResultWaiting=s,this._promiseErrorWaiting=s}then(t){return this._resolveHandlers.push(t),this}catch(t){return this._rejectHandlers.push(t),this}finally(t){return this._finallyHandlers.push(t),this}constructor(){super(),this._resolveHandlers=[],this._finallyHandlers=[],this._rejectHandlers=[],this.visible=!1,this._promiseResultWaiting=s,this._promiseErrorWaiting=s}_handleFinally(){for(var t,e=this,i=function(){try{e._finallyHandlers.shift()()}catch(t){return setTimeout((()=>{throw t}),0),e._turnPromiseRejected(t),{v:void 0}}};this._finallyHandlers.length>0;)if(t=i())return t.v;this._promiseWaitForResult=!1}_turnPromiseRejected(t){this._promiseErrorWaiting===s&&(this._resolveHandlers.length=0,this._promiseResultWaiting=s,this._promiseErrorWaiting=t)}update(){var t=this;if(this._promiseResultWaiting!==s&&(this.getRootContainer()===a.A.currentContainer||this.getRootContainer()===a.A.currentFader)){for(var e,i=this._promiseResultWaiting,r=function(){try{var e=t._resolveHandlers.shift()(i);void 0!==e&&(i=e)}catch(r){return 0===t._rejectHandlers.length&&setTimeout((()=>{throw r}),0),t._turnPromiseRejected(r),{v:void 0}}};this._resolveHandlers.length>0;)if(e=r())return e.v;this._handleFinally()}if(this._promiseErrorWaiting!==s){for(var n=this._promiseErrorWaiting,o=function(){try{var e=t._rejectHandlers.shift()(n);void 0!==e&&(n=e)}catch(i){0===t._rejectHandlers.length&&setTimeout((()=>{throw i}),0)}};this._rejectHandlers.length>0;)o();this._handleFinally()}super.update(),this._promiseWaitForResult||this.remove()}}},9649:(t,e,i)=>{"use strict";i.d(e,{A:()=>s});i(3951);var r,n=i(5222),a=i(9443);class s extends n.A{constructor(){super(),this.backgroundColor=0}get name(){return this.__libSceneName}onShow(){}onHide(){}onMouseDown(t,e){}onMouseMove(t,e){}onMouseUp(t,e){}init(){super.init(),this._refreshAllObjectRefs(),a.A.__savedCurrentSceneForInitTime=a.A.currentScene,a.A._setCurrentScene(this)}_refreshAllObjectRefs(){this.all={},r=this.all,this.forAllChildren(o),a.A.currentScene===this&&(a.A.all=this.all)}}var o=t=>{t.name&&(r[t.name]=t)}},9080:(t,e,i)=>{"use strict";i.d(e,{A:()=>c});var r,n,a,s=i(5222),o=i(9443),l=i(4319),h=i(2468),u={passive:!1,capture:!0};class c extends s.A{constructor(){super(),this.onDown=this.onDown.bind(this),this.onWheel=this.onWheel.bind(this)}init(){super.init(),this.mouseHandler?this._mouseHandlerContainer=(0,h.A)(this.mouseHandler,this):this._mouseHandlerContainer=o.A.pixiApp.renderer.plugins.interaction,this._mouseHandlerContainer.on("pointerdown",this.onDown),document.addEventListener("wheel",this.onWheel,u),this.autoScrolling=!1,this.xSpeed=0,this.ySpeed=0,this._virtualScrollX=this.x,this._virtualScrollY=this.y}onWheel(t){if(!this.autoScrolling){var e=0;if(this._mouseHandlerContainer!==o.A.pixiApp.renderer.plugins.interaction){if(this._mouseHandlerContainer.isCanBePressed){var i=o.A.mouseEventToGlobalXY(t);this._mouseHandlerContainer.getBounds().contains(i.x,i.y)&&(e=t.deltaY,t.stopPropagation(),t.preventDefault())}}else this.isCanBePressed&&(e=t.deltaY,t.stopPropagation(),t.preventDefault());e&&(1===t.deltaMode&&(e*=60),e=Math.min(60,Math.max(-60,e)),this.isYScrollAvailable?this.ySpeed=-e:this.isXScrollAvailable&&(this.xSpeed=e))}}onDown(t){this.worldVisible&&(o.A._mouseHandlerGlobal(t),r=this,n=o.A.mouse.x,a=o.A.mouse.y)}static updateGlobal(){r&&(r.autoScrolling||r.updateGlobal())}updateGlobal(){o.A.mouse.click&&(this.fullArea.w>this.visibleArea.w&&(this.xSpeed=o.A.mouse.x-n,this._virtualScrollX+=this.xSpeed),this.fullArea.h>this.visibleArea.h&&(this.ySpeed=o.A.mouse.y-a,this._virtualScrollY+=this.ySpeed),n=o.A.mouse.x,a=o.A.mouse.y)}onRemove(){r===this&&(r=null),document.removeEventListener("wheel",this.onWheel,u),this._mouseHandlerContainer.removeListener("pointerdown",this.onDown),super.onRemove()}update(){if(this.visible){o.A.mouse.click||(this._virtualScrollX+=this.xSpeed,this._virtualScrollY+=this.ySpeed,this.autoScrolling?(this.xSpeed*=.98,this.ySpeed*=.98):(o.A.isMobile.any?(this.xSpeed*=this.mobileInertia,this.ySpeed*=this.mobileInertia):(this.xSpeed*=this.desktopInertia,this.ySpeed*=this.desktopInertia),this.xSpeed=(0,l.CR)(this.xSpeed,0,.1),this.ySpeed=(0,l.CR)(this.ySpeed,0,.1)));var t=this.visibleArea,e=this.fullArea;this.autoScrolling&&(this._checkScrollToBounds(),this.xSpeed+=.06*(this.scrollToX-this._virtualScrollX),this.ySpeed+=.06*(this.scrollToY-this._virtualScrollY),this.xSpeed*=.7,this.ySpeed*=.7,Math.abs(this.scrollToX-this._virtualScrollX)<=1&&Math.abs(this.xSpeed)<.5&&Math.abs(this.scrollToY-this._virtualScrollY)<=1&&Math.abs(this.ySpeed)<.5&&(this.xSpeed=0,this.ySpeed=0,this.callAfterScroll&&this.callAfterScroll(),this._virtualScrollX=this.scrollToX,this._virtualScrollY=this.scrollToY,this.callAfterScroll=!1,this.autoScrolling=!1));var i=0;t.x+t.w-this._virtualScrollX>e.x+e.w&&(i=t.x+t.w-this._virtualScrollX-(e.x+e.w)),t.x-this._virtualScrollX-i<e.x&&(i=-(e.x-(t.x-this._virtualScrollX))),0!==i&&(this.bouncingBounds?(this.xSpeed*=.95,this._virtualScrollX=(0,l.CR)(this._virtualScrollX,this._virtualScrollX+i,Math.abs(i/4))):(this.xSpeed=0,this._virtualScrollX+=i)),i=0,t.y+t.h-this._virtualScrollY>e.y+e.h&&(i=t.y+t.h-this._virtualScrollY-(e.y+e.h)),t.y-this._virtualScrollY-i<e.y&&(i=-(e.y-(t.y-this._virtualScrollY))),0!==i&&(this.bouncingBounds?(this.ySpeed*=.95,this._virtualScrollY=(0,l.CR)(this._virtualScrollY,this._virtualScrollY+i,Math.abs(i/4))):(this.ySpeed=0,this._virtualScrollY+=i))}else this.xSpeed=0,this.ySpeed=0;this.visible&&o.A.mouse.click||r===this&&(r=null),super.update()}scrollRight(t=16){this.xSpeed=-t}scrollDown(t=16){this.ySpeed=-t}get relativeScrollY(){return-(this.autoScrolling?this.scrollToY:this._virtualScrollY)/Math.max(1,this.fullArea.h-this.visibleArea.h)}set relativeScrollY(t){this._virtualScrollY=-t*(this.fullArea.h-this.visibleArea.h)}get relativeScrollX(){return-(this.autoScrolling?this.scrollToX:this._virtualScrollX)/Math.max(1,this.fullArea.w-this.visibleArea.w)}set relativeScrollX(t){this._virtualScrollX=-t*(this.fullArea.w-this.visibleArea.w)}get isXScrollAvailable(){return this.visibleArea.w<this.fullArea.w}get isYScrollAvailable(){return this.visibleArea.h<this.fullArea.h}set _virtualScrollX(t){this.__virtualScrollX=t,this.x=Math.round(t)}get _virtualScrollX(){return this.__virtualScrollX}set _virtualScrollY(t){this.__virtualScrollY=t,this.y=Math.round(t)}get _virtualScrollY(){return this.__virtualScrollY}_checkScrollToBounds(){var t=this.visibleArea,e=this.fullArea;this.scrollToX>-e.x?this.scrollToX=-e.x:this.scrollToX<-(e.x+e.w-t.w)&&(this.scrollToX=-(e.x+e.w-t.w)),this.scrollToY>-e.y?this.scrollToY=-e.y:this.scrollToY<-(e.y+e.h-t.h)&&(this.scrollToY=-(e.y+e.h-t.h))}scrollTo(t,e,i=!1){if(!t)return this.autoScrolling=!1,this.xSpeed=0,void(this.ySpeed=0);"string"==typeof t&&(t=this.getChildByName(t)),this.autoScrolling=!0,this.scrollToX=this.visibleArea.w/2-t.x,this.scrollToY=this.visibleArea.h/2-t.y,this._checkScrollToBounds(),i&&(this._virtualScrollX=this.scrollToX,this._virtualScrollY=this.scrollToY),this.callAfterScroll=e}}},1220:(t,e,i)=>{"use strict";i.d(e,{A:()=>o});var r=i(9135),n=i(1233),a=n.Sprite,s=n.Mesh;const o=a;var l={get:function(){return this._imageID},set:function(t){this._imageID!==t&&(this._imageID=t,this.texture=r.A.getTexture(t))}};Object.defineProperty(a.prototype,"image",l),Object.defineProperty(s.prototype,"image",l),a.imagePropertyDescriptor=l;var h={get:function(){return this.tint>>16},set:function(t){this.tint=65535&this.tint|t<<16},configurable:!0};Object.defineProperty(a.prototype,"tintR",h),Object.defineProperty(s.prototype,"tintR",h);var u={get:function(){return(65280&this.tint)>>8},set:function(t){this.tint=16711935&this.tint|t<<8},configurable:!0};Object.defineProperty(a.prototype,"tintG",u),Object.defineProperty(s.prototype,"tintG",u);var c={get:function(){return 255&this.tint},set:function(t){this.tint=16776960&this.tint|t},configurable:!0};Object.defineProperty(a.prototype,"tintB",c),Object.defineProperty(s.prototype,"tintB",c)},4894:(t,e,i)=>{"use strict";i.d(e,{A:()=>o});var r=i(874),n=i(9443),a=i(2468),s=i(1233).Text;const o=s;var l="center",h=!("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype),u={center:.5,left:0,right:1,top:0,bottom:1},c={none:0,uppercase:1,capitalize:2,lowercase:3},p=(t,e)=>e===c.none?t:e===c.uppercase?t.toUpperCase():e===c.lowercase?t.toLowerCase():e===c.capitalize?t.replace(/(?:^|\s)\S/g,(t=>t.toUpperCase())):void 0;Object.defineProperties(s.prototype,{translatableText:{get:function(){return this._translatableText},set:function(t){this._translatableText!==t&&(t&&(this.text=(0,r.A)(t)),this._translatableText=t)}},image:{get:function(){},set:function(){}},"style.align":{get:function(){return this.style.align},set:function(t){this.style.align!=t&&(this.style.align=t,this._refreshAnchor(),this.checkAlignBlur())},configurable:!0},verticalAlign:{get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this._refreshAnchor(),this.checkAlignBlur())},configurable:!0},"style.fill":{get:function(){return this._styleFill},set:function(t){if(t&&t.indexOf(",")>=0){var e=t.split(",");this.style.fill=e}else this.style.fill=t;this._styleFill=t},configurable:!0},"style.fillGradientStops":{get:function(){return this._styleFillGradientStops},set:function(t){t?(t=t.replace(/\s/g,""),this.style.fillGradientStops=t.split(",").map((t=>t?parseFloat(t):1))):this.style.fillGradientStops.length=0,this._styleFillGradientStops=t},configurable:!0},"style.fontFamily":{get:function(){return this._fontFamily},set:function(t){this.style.fontFamily=t||n.A.projectDesc.defaultFont,this._fontFamily=t},configurable:!0},"style.fontWeight":{get:function(){return this.style.fontWeight},set:function(t){this.style.fontWeight=t},configurable:!0},"style.fontSize":{get:function(){return this.style.fontSize},set:function(t){this.style.fontSize=t},configurable:!0},"style.leading":{get:function(){return this.style.leading},set:function(t){this.style.leading=t},configurable:!0},"style.padding":{get:function(){return this.style.padding},set:function(t){this.style.padding=t},configurable:!0},"style.letterSpacing":{get:function(){return this.style.letterSpacing},set:function(t){this.style.letterSpacing=0===t&&h?.001:t},configurable:!0},"style.stroke":{get:function(){return this.style.stroke},set:function(t){this.style.stroke=t},configurable:!0},"style.strokeThickness":{get:function(){return this.style.strokeThickness},set:function(t){this.style.strokeThickness=t,this.style.lineJoin="round"},configurable:!0},"style.dropShadow":{get:function(){return this.style.dropShadow},set:function(t){this.style.dropShadow=t},configurable:!0},"style.drShColor":{get:function(){return this.style.dropShadowColor},set:function(t){this.style.dropShadowColor=t},configurable:!0},"style.drShAlpha":{get:function(){return this.style.dropShadowAlpha},set:function(t){this.style.dropShadowAlpha=t},configurable:!0},"style.drShAngle":{get:function(){return this.style.dropShadowAngle},set:function(t){this.style.dropShadowAngle=t},configurable:!0},"style.drShBlur":{get:function(){return this.style.dropShadowBlur},set:function(t){this.style.dropShadowBlur=t},configurable:!0},"style.drShDistance":{get:function(){return this.style.dropShadowDistance},set:function(t){this.style.dropShadowDistance=t},configurable:!0},textTransform:{get:function(){return this._textTransform},set:function(t){t!==this._textTransform&&(this._textTransform=t,t&&this._text&&(this._text=p(this._text,this.textTransform),this.dirty=!0))},configurable:!0},maxWidth:{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.updateSize())},configurable:!0}});var d=Object.getOwnPropertyDescriptor(s.prototype,"text"),f=d.set;d.set=function(t){this.textTransform&&t?f.call(this,p(t,this.textTransform)):f.call(this,t)},Object.defineProperty(s.prototype,"text",d);var g=s.prototype._onTextureUpdate;s.prototype._onTextureUpdate=function(t=!1){this.checkAlignBlur(),g.call(this);var e=this.recalculateTextSize();t||e&&this.updateTransform()},s.prototype.updateSize=function(){this.recalculateTextSize()&&this.updateTransform()},s.prototype.onRemove=function(){this._maxWidth=0},s.prototype.setTextByPath=function(t){this.text=(0,a.A)(t,this)},s.prototype.setAlign=function(t){this["style.align"]=t},s.prototype.checkAlignBlur=function(){var t=this.texture.width;if(t>0){this.style.align===l&&(this.anchor.x=Math.round(.5*t)/t);var e=this.texture.height;this.style._verticalAlign===l&&(this.anchor.y=Math.round(.5*e)/e)}},s.prototype.onLanguageChanged=function(){if(this._translatableText){var t=this._translatableText;this._translatableText=null,this.translatableText=t}},s.prototype._refreshAnchor=function(){this.anchor.set(u[this.style.align],u[this._verticalAlign])},s.prototype.recalculateTextSize=function(){var{scale:t,_texture:e,_maxWidth:i}=this;if(0===this._maxWidth)return!1;var r=e.width>i?i/e.width:1;return(r!==t.x||r!==t.y)&&(t.set(r),!!this.parent)}},8201:(t,e,i)=>{"use strict";i.d(e,{k:()=>r});var r={GAME_PRELOADER_PROGRESS:"CommonEvent.GAME_PRELOADER_PROGRESS",GAME_PRELOADER_START:"CommonEvent.GAME_PRELOADER_START",GAME_PRELOADER_COMPLETE:"CommonEvent.GAME_PRELOADER_COMPLETE",GAME_SHOW_MODAL:"CommonEvent.GAME_SHOW_MODAL",GAME_CLOSE_MODAL:"CommonEvent.GAME_CLOSE_MODAL"}},9372:(t,e,i)=>{"use strict";i.d(e,{A:()=>a});var r=i(1233);class n extends r.utils.EventEmitter{isLoggingEnabled=!1;emit(t,e){if("string"==typeof e)try{e=JSON.parse(e)}catch(i){}this.isLoggingEnabled&&console.log(`%c ${t} `,"background: #c00; color: #fff",e),super.emit(t,e)}}const a=new n},9443:(t,e,i)=>{"use strict";i.d(e,{A:()=>dt});var r=i(4319),n=i(7781),a=i(9135),s=i(5222),o=i(9372),l=i(8201),h=(i(6711),i(9649)),u=i(9062);class c{constructor(){this.updatePreloader=this.updatePreloader.bind(this),this.currentProgress=0,this.updateInterval=setInterval(this.updatePreloader),u.A.preloader=this,this.complete=!1,this.maxCount=0,this.progressGroupItems=[],this.progressGroup=Array.from(document.querySelectorAll(".progress-group")),this.progressGroup.length&&this.progressGroup.forEach((t=>this.progressGroupItems.push(Array.from(t.querySelectorAll(".progress-item"))))),this.progressItems=Array.from(document.querySelectorAll(":not(.progress-group) > .progress-item")),this.progressItems.length&&this.progressGroupItems.push(this.progressItems)}updatePreloader(){this.preloaderText=this.preloaderText||document.getElementsByClassName("preloader-text")[0],this.preloaderBar=this.preloaderBar||document.getElementsByClassName("preloader-bar")[0],this.preloader=this.preloader||document.getElementsByClassName("preloader")[0];var t=dt.getLoadingCount();this.maxCount=Math.max(1,this.maxCount,t);var e=(this.maxCount-t)/this.maxCount*100;this.currentProgress=(0,r.CR)(this.currentProgress,e,2),this.preloaderText&&(this.preloaderText.innerHTML="Loading "+Math.round(this.currentProgress)+"%"),this.preloaderBar&&(this.preloaderBar.style.width=this.currentProgress+"%"),this.progressGroupItems.length&&this.progressGroupItems.forEach((t=>{for(var e=t.length*this.currentProgress/100,i=0;i<e;i++)t[i].classList.add("progress-item-on")})),this.started&&o.A.emit(l.k.GAME_PRELOADER_PROGRESS,{progress:this.currentProgress}),this.complete&&this.destroy(),this.complete=this.texturesCompleted&&e>=100&&this.started&&this.currentProgress>=100}destroy(){this.preloader&&this.preloader.parentElement.removeChild(this.preloader),clearInterval(this.updateInterval),this.callback(),o.A.emit(l.k.GAME_PRELOADER_COMPLETE)}onComplete(){this.texturesCompleted=!0}start(t){this.callback=t,this.started=!0,o.A.emit(l.k.GAME_PRELOADER_START)}}var p=i(874),d=i(4049),f={},g=[],m=window;try{for(;m&&(m.addEventListener("keydown",(t=>{f[t.keyCode]=!0,t.keyCode>=37&&t.keyCode<=40&&t.preventDefault()})),m.addEventListener("keyup",(t=>{g.push(t.keyCode)})),m.parent!==m);)m=m.parent}catch(wt){}class A{static update(){for(;g.length>0;)f[g.pop()]=!1}static get all(){return f}static get up(){return f[38]||f[87]}static set up(t){t?f[38]=!0:(f[38]=!1,f[87]=!1)}static get down(){return f[40]||f[83]}static set down(t){t?f[40]=!0:(f[40]=!1,f[83]=!1)}static get shiftKey(){return f[16]}static get altKey(){return f[18]}static get ctrlKey(){return f[17]}static get left(){return f[37]||f[65]}static set left(t){t?f[37]=!0:(f[37]=!1,f[65]=!1)}static get right(){return f[39]||f[68]}static set right(t){t?f[39]=!0:(f[39]=!1,f[68]=!1)}static isKeycodePressed(t){return f[t]}static resetAll(){f={}}}var v=i(4222);class y{static init(t,e,i,r,n,a,s,o){var l=()=>{dt.hideModal(t),n&&("string"==typeof n?(0,v.A)(n,this):n())},h=()=>{dt.hideModal(t),s&&("string"==typeof s?(0,v.A)(s,this):s())},u=t.findChildByName("easyCloseBtn");if(u&&(o?u.callback=h:u.disable()),"string"==typeof e){var c=t.findChildByName("title");c&&(c.text=e)}if("string"==typeof i){var d=t.findChildByName("message");d&&(d.text=i)}var f=t.findChildByName("okBtn");if(f){if(r){var g=f.findChildByName("label");g&&(p.A.has(r)?g.translatableText=r:(g.translatableText=null,g.text=r))}f.callback=l}var m=t.findChildByName("noBtn");if(m){if(a){var A=m.findChildByName("label");A&&(p.A.has(a)?A.translatableText=a:(A.translatableText=null,A.text=a))}a||s&&!o?m.callback=h:(m.visible=!1,f.x=(f.x+m.x)/2)}}}var _=document.documentElement;class b{static get isFullscreen(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)}static open(){dt.addOnClickOnce(b._openInner)}static _openInner(){try{_.requestFullscreen?_.requestFullscreen():_.mozRequestFullScreen?_.mozRequestFullScreen():_.webkitRequestFullscreen?_.webkitRequestFullscreen():_.msRequestFullscreen&&_.msRequestFullscreen(),dt._fireNextOnResizeImmediately()}catch(t){}}static toggle(){b.isFullscreen?b.close():b.open()}static close(){dt.addOnClickOnce(b._closeInner),dt.projectDesc.autoFullscreenMobile=dt.projectDesc.autoFullscreenDesktop=!1}static _closeInner(){dt._fireNextOnResizeImmediately(),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}}b.isAvailable=(_.requestFullscreen||_.mozRequestFullScreen||_.webkitRequestFullscreen||_.msRequestFullscreen)&&!window.cordova;var x=i(9080),T=i(684),E=i(9401),S=i(1220),w=i(5622),P=i(1233),I=new P.Point;class R extends s.A{constructor(){super(),this.tiles=new Map,this.autoUpdate=!1}init(){super.init(),this.renewAllMap()}set tilemap(t){this._tileMapData=t}get tilemap(){return this.map}set texture(t){if(this._texture!==t)for(var e of(this._texture=t,this.children))e instanceof O&&(e.texture=t)}get texture(){return this._texture}getTile(t,e){return this.map[t+e*this.columns]}setTile(t,e,i){var r=t+e*this.columns;this.map[r]!==i&&(this.map[r]=i,this.getTile8x8(t,e).setTile(t%8,e%8,i))}getTile8x8(t,e){var i=(e>>=3)+32*(t>>=3);if(!this.tiles.has(i)){var r=w.A.create(O);return r.clearMap(),r.x=(8*t+4)*this.tileW-this.wField,r.y=(8*e+4)*this.tileH-this.hField,r.xRandomShift=t<<3,r.yRandomShift=e<<3,r.verticesRandomization=this.verticesRandomization,r.verticesRandomizationMod=2*this.verticesRandomization+1,this.tiles.set(i,r),this.addChild(r),r.setProps(),r}return this.tiles.get(i)}updateView(){this.getScenePosition(I);var t,e,i=dt.W/2,r=dt.H/2,n=I.x-i,a=I.y-r,s=i+4*this.tileW,o=r+4*this.tileH;for(var l of this.children)t=n+l.x,e=a+l.y,l.visible=t<s&&t>-s&&e<o&&e>-o,l.visible&&l.updateView()}dispose8x8Tiles(){this.tiles.forEach(C),this.tiles=new Map}onRemove(){super.onRemove(),this.dispose8x8Tiles(),this.map=null}clear(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.setTile(e,t,-1)}resizeMapIfNeed(){var t=this.columns*this.rows;if(!this.map||t!==this.map.length){this.map=[];for(var e=0;e<t;e++)this.map.push(-1)}}render(t){this.updateView(),super.render(t)}_renderCanvas(t){this.updateView(),super._renderCanvas(t)}createTypedMap(){var t=R.tileMapProcessor&&R.tileMapProcessor.imageToType||(t=>t);return(this._tileMapData||this.map).map(t)}renewAllMap(){if(a.A.hasTexture(this.image)){var t=this.texture.width,e=this.texture.height;if(this.srcTileW=this.tileW+2*this.wField,this.srcTileH=this.tileH+2*this.hField,this.tilesOnTextureW=Math.floor(t/this.srcTileW),this.tilesOnTextureH=Math.floor(e/this.srcTileH),this.uvTileW=this.srcTileW/t,this.uvTileH=this.srcTileH/e,this.resizeMapIfNeed(),this.__maxTileIndex=this.tilesOnTextureH*this.tilesOnTextureW-1,this._tileMapData){for(var i=this.columns*this.rows-1,r=this._tileMapData,n=this.rows-1;n>=0;n--)for(var s=this.columns-1;s>=0;s--)this.setTile(s,n,r[i--]);this._tileMapData=null}}}}Object.defineProperty(R.prototype,"image",S.A.imagePropertyDescriptor);var C=t=>{a.A.destroyObjectAndChildren(t)};class O extends P.SimpleMesh{constructor(){super(),this.drawMode=P.DRAW_MODES.TRIANGLES,this.map=[]}setProps(){this.texture=this.parent.texture,this.pivot.x=4*this.parent.tileW,this.pivot.y=4*this.parent.tileH,this.tileW=this.parent.tileW,this.tileH=this.parent.tileH,this.pureTileW=this.tileW,this.srcTileW=this.parent.srcTileW,this.srcTileH=this.parent.srcTileH,this.uvTileW=this.parent.uvTileW,this.uvTileH=this.parent.uvTileH,this.tilesOnTextureW=this.parent.tilesOnTextureW}setTile(t,e,i){this.needRefresh=!0,this.map[t+(e<<3)]=i}clearMap(){for(var t=0;t<64;t++)this.map[t]=-1;this.needRefresh=!0}updateView(){this.needRefresh&&(this.refreshTiles(),this.needRefresh=!1)}rndX(t,e){return this.verticesRandomization?(12347*(t+=this.xRandomShift)+7323*(e+=this.yRandomShift)^123949)%this.verticesRandomizationMod-this.verticesRandomization:0}rndY(t,e){return this.verticesRandomization?(27389*(t+=this.xRandomShift)+12765*(e+=this.yRandomShift)^123949)%this.verticesRandomizationMod-this.verticesRandomization:0}refreshTiles(){for(var t,e=[],i=[],r=[],n=this.tileW,a=this.tileH,s=this.srcTileW,o=this.srcTileH,l=this.uvTileW,h=this.uvTileH,u=0,c=0,p=0;p<8;p++)for(var d=0;d<8;d++)if((t=this.map[u++])>=0){var f=d*n,g=p*a;e.push(f+this.rndX(d,p),g+this.rndY(d,p)),f+=s,e.push(f+this.rndX(d+1,p),g+this.rndY(d+1,p)),g+=o,e.push(f+this.rndX(d+1,p+1),g+this.rndY(d+1,p+1)),f-=s,e.push(f+this.rndX(d,p+1),g+this.rndY(d,p+1)),f=t%this.tilesOnTextureW*l,g=Math.floor(t/this.tilesOnTextureW)*h,i.push(f,g),f+=l,i.push(f,g),g+=h,i.push(f,g),f-=l,i.push(f,g),r.push(c,c+1,c+2),r.push(c,c+2,c+3),c+=4}this.verticesBuffer.data=new Float32Array(e),this.uvBuffer.data=new Float32Array(i),this.geometry.buffers[2].data=new Uint16Array(r),this.uvBuffer._updateID++,this.verticesBuffer._updateID++,this.geometry.buffers[2]._updateID++}}var M,B,D,L,k,N,F,G,U,H,X,j=i(2468),W=i(9087),V=i(1233),Y=i(230),z=0,q=4,Q=1,Z=0,K=[],J=[],$=[],tt=[],et=1,it=[];class rt{constructor(){this.data={},this.isMobile=V.utils.isMobile,this.all=null,this.isVisible=!1,this.isFocused=!1}get modalsCount(){return K.length}get currentContainer(){return K.length>0?K[K.length-1]:this.currentScene}get currentFader(){return k}onResize(){var t,e;if(F){F===document.body?(t=window.innerWidth,e=window.innerHeight):(t=F.clientWidth,e=F.clientHeight);var i,r,n,a=pt.projectDesc.dynamicStageSize;switch("auto"===(i=this.projectDesc.screenOrientation)&&(i=t<e?"portrait":"landscape"),i){case"portrait":r=t>e,pt.isPortrait=!0;break;case"auto":pt.isPortrait=t<e;break;default:r=e>t,pt.isPortrait=!1}if(!V.utils.isMobile.any&&(r=!1),pt.isPortrait?(this.W=this.projectDesc.portraitWidth||408,this.H=this.projectDesc.portraitHeight||720):(this.W=this.projectDesc.width||1280,this.H=this.projectDesc.height||720),!a)pt.projectDesc.preventUpscale&&(r?(t=Math.min(this.H,t),e=Math.min(this.W,e)):(t=Math.min(this.W,t),e=Math.min(this.H,e)));n=r?Math.min(e/this.W,t/this.H):Math.min(t/this.W,e/this.H),a&&(pt.projectDesc.preventUpscale?(n<1&&(t/=n,e/=n),n=1):(t/=n,e/=n));var s,o,l=1;if(this.isMobile.any?pt.projectDesc.renderResolutionMobile&&(l=pt.projectDesc.renderResolutionMobile):pt.projectDesc.renderResolution&&(l=pt.projectDesc.renderResolution),n*=l=Math.max(window.devicePixelRatio||1,l),n=Math.min(3,n),this.pixiApp&&this.pixiApp.renderer&&(pt.isCanvasMode=!this.pixiApp.renderer.gl,!pt.isCanvasMode)){var h=this.pixiApp.renderer.gl,u=h.getParameter(h.MAX_TEXTURE_SIZE);u<3e3&&(n=Math.min(1,n)),t*n>u&&(n=u/t),e*n>u&&(n=u/e)}a&&(r?(this.H=t,this.W=e):(this.W=t,this.H=e)),r?(s=this.H,o=this.W):(s=this.W,o=this.H),this.W=Math.round(this.W),this.H=Math.round(this.H),1&this.W&&this.W++,1&this.H&&this.H++;var c=G!==s||U!==o||et!==n;if(pt.pixiApp){G=s,U=o,et=n;var p=pt.stage;if(pt._isCanvasRotated=r,r?(p.rotation=Math.PI/2,p.x=this.H):(p.rotation=0,p.x=0),c){if(!0){var d=pt.pixiApp.renderer;d.resolution=et,V.InteractionManager.resolution=et,d.plugins.interaction.resolution=et,d.rootRenderTarget&&(d.rootRenderTarget.resolution=et),d.resize(G+1e-4,U+1e-4)}this.forAllChildrenEverywhere(at)}}}}openUrl(t,e="_blank"){var i=()=>{window.open(t,e)};Object.defineProperty(i,"openNewTab",{get:()=>!0}),pt.addOnClickOnce(i)}init(t,e,r=""){pt.additionalLoadingsInProgress=0,this.getValueByPath=j.A,pt.Lib=a.A,this.game=pt,this.Sound=d.A,this.L=p.A,this.setValueByPath=j.W,this.classes=a.A.classes,this.onResize=this.onResize.bind(this),this.time=0,this.projectDesc=this.projectDesc||{};this.fullscreen=b,!0,this.keys=A,e||(e=Y.projectDesc.id),this.settings=new n.A(e),this.gameId=e,this._updateGlobal=this._updateGlobal.bind(this),this.mouse=new V.Point,this.resourcesPath=r;var s=new Promise((t=>{this._gameInitializedResolve=t}));return F=t||document.body,D=Y,this.applyProjectDesc(D.projectDesc),V.utils.isWebGLSupported()?this._initInner():i.e(69).then(i.bind(i,2069)).then((()=>this._initInner())),s}_getTextureSettingsBits(t,e){var i=pt.projectDesc.loadOnDemandTextures;return i.hasOwnProperty(t)?i[t]&e:0}addOnClickOnce(t){it.push(t)}applyProjectDesc(t){var e={defaultFont:"Arial",screenOrientation:"landscape",width:1280,height:720,portraitWidth:408,portraitHeight:720,renderResolution:1,renderResolutionMobile:1,framesSkipLimit:4,dynamicStageSize:!1,preventUpscale:!1,webfontloader:null,fontHolderText:"ЯSфz",mipmap:!1,version:"0.0.1",soundFormats:["ogg","aac"],soundDefaultBitrate:96,soundBitrates:{},loadOnDemandSounds:{},loadOnDemandTextures:{},__loadOnDemandTexturesFolders:{},defaultMusVol:1,defaultSoundsVol:1,embedLocales:!0,__localesNewKeysPrefix:"",__externalTranslations:[],autoFullscreenDesktop:!1,autoFullscreenMobile:!1,__proxyFetchesViaNodeServer:!1,__group:"",__webpack:{debug:"config/webpack.debug.js",production:"config/webpack.prod.js"},jpgQuality:95,pngQuality:[.95,1]},i=!1;for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r],i=!0);t.screenOrientation;return V.settings.MIPMAP_TEXTURES=t.mipmap?V.MIPMAP_MODES.ON:V.MIPMAP_MODES.OFF,this.projectDesc=t,this.onResize(),i}_initInner(){pt.additionalLoadingsInProgress++;Promise.all([_t(),bt(),xt()]).then((()=>{pt.additionalLoadingsInProgress--}));this.onResize();var t=yt();B=new V.Application({width:G,height:U,backgroundColor:0,preserveDrawingBuffer:t}),this.pixiApp=B,F.appendChild(B.view);var e=t=>{for(var e=it.some((t=>t.openNewTab));it.length>0;){var i=it.shift();e&&!i.openNewTab||i(t)}var r=pt.isMobile.any?pt.projectDesc.autoFullscreenMobile:pt.projectDesc.autoFullscreenDesktop;!e&&r&&pt.fullscreen.isAvailable&&!pt.fullscreen.isFullscreen&&pt.fullscreen._openInner()};B.view.addEventListener("click",e),B.view.addEventListener("touchend",e);var i=pt.pixiApp.renderer.plugins.interaction;i.on("pointerdown",st),i.on("pointermove",lt),i.on("pointerup",ot),this._mouseHandlerGlobal=ct,(M=new s.A).name="stage",this.stage=M,this.onResize(),B.stage.addChild(M),B.ticker.add(this._updateGlobal),d.A.init(),this._gameInitializedResolve(),delete this._gameInitializedResolve,this._startGame(),B.view.addEventListener("wheel",(t=>t.preventDefault())),window.addEventListener("resize",this._onContainerResize.bind(this))}_fireNextOnResizeImmediately(){X=!0}_onContainerResize(){if(H&&clearTimeout(H),X)X=!1,this.onResize();else{var t=pt.isMobile.any;H=setTimeout((()=>{if(H=!1,t)for(var e of[20,40,80,200,500,1e3,1500,2e3,3e3])setTimeout(this.onResize,e);this.onResize()}),t?1:200)}}_startGame(){var t=new c;if(a.A._setPrefabs(D.prefabs),a.A._setScenes(D.scenes),a.A._setSounds(D.sounds),D.resources)for(var e in D.resources)a.A.addResource(e,{metadata:{...D.resourceImages,...D.resources[e]}});V.Texture.WHITE.baseTexture.resource.source.getContext("2d").fillRect(0,0,1,1),a.A.addTexture("EMPTY",V.Texture.EMPTY),a.A.addTexture("WHITE",V.Texture.WHITE);var i=new u.A;for(var r in D.images)pt._getTextureSettingsBits(r,3)||i.add(Tt(r),void 0,{metadata:D.images[r]});i.load(),t.start((()=>{for(var t in D.sounds&&Object.keys(D.sounds).length&&d.A.checkSoundLockByBrowser(),D.images){var e=V.utils.TextureCache[Tt(t)];e&&a.A.addTexture(t,e)}Object.values(D.prefabs).forEach(a.A._filterStaticTriggersRecursive),Object.values(D.scenes).forEach(a.A._filterStaticTriggersRecursive),this.showScene(D.projectDesc.mainScene||"main"),a.A._preCacheSoundsAndTextures()}))}_setCurrentScene(t){pt.all=t?t.all:null,pt.currentScene=t}_setCurrentSceneContent(t){return t=ft(t),this._setCurrentScene(t),t.interactiveChildren=!1,M.addChildAt(t,0),t._onShowCalled=!1,t}get disableAllButtons(){return!!k}faderShoot(){for(;L.length>0;){var t=L.pop(),e=K.indexOf(t);e>=0&&(K.splice(e,1),a.A.destroyObjectAndChildren(t))}for(;J.length>0;){var i=J.pop();a.A.destroyObjectAndChildren(i)}pt._isWaitingToHideFader=!0}_processScenesStack(){for(;;){var t=tt[tt.length-1];if(t===pt.currentScene)break;pt.currentScene&&(pt.currentScene._onShowCalled&&pt.currentScene.onHide(),gt()),t=tt[tt.length-1],tt[tt.length-1]=pt._setCurrentSceneContent(t)}}faderEnd(){if(N){var t=$.indexOf(N);$.splice(t,1),a.A.destroyObjectAndChildren(N),N=null}}replaceScene(t,e){mt(tt.pop()),tt.push(t),pt._startFaderIfNeed(e)}showScene(t,e){tt.push(t),pt._startFaderIfNeed(e)}closeAllScenes(t){for(;tt.length>1;)pt.closeCurrentScene(t)}closeCurrentScene(t){mt(tt.pop()),pt._startFaderIfNeed(t)}_startFaderIfNeed(t){tt[tt.length-1]!==pt.currentScene&&(L=K.slice(),k||(t||(t=this.currentScene&&this.currentScene.faderType?this.currentScene.faderType:"fader/default"),k=a.A.loadPrefab(t),this.stage.addChild(k),T.A._recalculateMusic()))}_getScenesStack(){return tt}showQuestion(t,e,i=null,r=null,n=null,s=null,o=!0,l="ui/sure-question"){var h=a.A.loadPrefab(l);return y.init(h,t,e,i,r,n,s,o),pt.showModal(h)}showModal(t,e){return"string"==typeof t&&(t=a.A.loadPrefab(t)),o.A.emit(l.k.GAME_SHOW_MODAL),K.push(t),t._onModalHide=e,t.interactiveChildren=!1,pt.stage.addChild(t),T.A._recalculateMusic(),t}hideModal(t=null,e=!1){var i;if(t){var r=K.indexOf(t);if(r<0)return;i=K[r],K.splice(r,1)}else i=K.pop();o.A.emit(l.k.GAME_CLOSE_MODAL),!!i._onModalHide&&(i._onModalHide(),delete i._onModalHide),e?a.A.destroyObjectAndChildren(i):(i.interactiveChildren=!1,J.push(i)),T.A._recalculateMusic()}mouseEventToGlobalXY(t){var e=B.view.getBoundingClientRect(),i=t.clientX-e.left;return nt.x=i*(pt.W/e.width),i=t.clientY-e.top,nt.y=i*(pt.H/e.height),nt}_updateGlobal(t){if(!0)for(x.A.updateGlobal(),t=Math.min(t,q),Z+=t,Z=Math.min(Z,Q*pt.projectDesc.framesSkipLimit);Z>Q;)Z-=Q,pt.isUpdateBeforeRender=!(Z>Q),this._updateFrame();if(this.currentScene){B.renderer.backgroundColor=this.currentScene.backgroundColor,this.currentScene.interactiveChildren=0===this.modalsCount&&!k;for(var e=this.modalsCount-1,i=!k;e>=0;)K[e].interactiveChildren=i,i=!1,e--}}forAllChildrenEverywhereBack(t){for(var e of tt)"string"!=typeof e&&(t(e),e.parent||(t(e),e.forAllChildren(t)));var i=a.A._getStaticScenes();for(var r in i){var n=i[r];n.parent||(t(n),n.forAllChildren(t))}}getLoadingCount(){var t=a.A.getSoundsLoadingCount();return t+=u.A.getLoadingCount(),pt.additionalLoadingsInProgress&&(t+=pt.additionalLoadingsInProgress),!!k&&(t+=k.findChildrenByType(W.A).length),t}forAllChildrenEverywhere(t){pt.stage.forAllChildren(t),pt.forAllChildrenEverywhereBack(t)}_hideCurrentFaderAndStartScene(){k.gotoLabelRecursive("hide fader"),$.unshift(k),k=null,T.A._recalculateMusic()}_updateFrame(){if(!pt._loadingErrorIsDisplayed){if(!pt.isCanvasMode){if(pt.pixiApp.renderer.gl.isContextLost())return void(pt.isVisible&&60===++z&&pt._reloadGame());z=0}pt._isWaitingToHideFader?0===pt.getLoadingCount()&&(pt._processScenesStack(),pt.currentScene._onShowCalled?(pt._hideCurrentFaderAndStartScene(),pt._isWaitingToHideFader=!1):(pt.currentScene._onShowCalled=!0,pt.currentScene.onShow(),St())):this.currentContainer&&(!k||this.currentContainer!==this.currentScene||J.length<1)&&this.currentContainer.update(),k&&k.update();for(var t=$.length-1;t>=0;){var e=$[t];N=e,e.update(),t--}if(!k)for(var i=J.length-1;i>=0;){var r=J[i];r.alpha-=.1,r.alpha<=.01&&(a.A.destroyObjectAndChildren(r),J.splice(i,1)),i--}this.keys.update(),a.A._cleanupRemoveHolders(),this.time++}}fetchResource(t){return new Promise((e=>{var i=new u.A;i.add(t,t),i.load(((i,r)=>{e(r[t].data)}))}))}_onLoadingError(t){if(!pt._loadingErrorIsDisplayed){u.A.destroyAllLoaders(),pt._loadingErrorIsDisplayed=!0,T.A._recalculateMusic();var e=document.createElement("div");e.innerHTML='\n\n<div class="loading-error-wrapper" style="\n\t\t\tposition:absolute;\n\t\t\tz-index: 2;\n\t\t\twidth:100%;\n\t\t\theight:100%;\n\t\t\tleft:0;\n\t\t\ttop:0;\n\t\t\tbackground:rgba(0,0,0,0.7)">\n\t<div class="loading-error-body" style="\n\t\t\tpadding: 5vh;\n\t\t\tbox-sizing: border-box;\n\t\t\tmargin: 20vh 0;\n\t\t\twidth: 100%;\n\t\t\tbackground: #000000;\n\t\t\ttext-align: center;\n\t\t\tcolor: #ffffff;\n\t\t\tfont-family: '+pt.projectDesc.defaultFont+';">\n\t\t<div class="loading-error-game-title">'+pt.projectDesc.title+'</div>\n\t\t<div class="loading-error-title" style="\n\t\t\tmargin: 2vh;\n\t\t\tfont-size:200%;">\n\t\t\tLOADING ERROR</div>\n\t\t<div class="loading-error-message">(click to reload)</div>\n\t</div>\n</div>',document.body.appendChild(e),document.addEventListener("click",(()=>{pt._reloadGame()}))}}_reloadGame(){pt.onGameReload&&pt.onGameReload(),window.location.reload()}applyCSS(t){var e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),e.appendChild(i)}}var nt=new V.Point,at=t=>{t._onRenderResize&&t._onRenderResize()},st=t=>{if(!ut.hasOwnProperty(t.data.pointerId)){var e={x:t.data.global.x,y:t.data.global.y};ut[t.data.pointerId]=e,ht.unshift(e)}pt.isFocused||vt(!0),pt.mouse.click=!0,ct(t),pt.currentContainer&&pt.currentContainer.onMouseDown&&pt.currentContainer.interactiveChildren&&(d.A._unlockSound(),pt.currentContainer.onMouseDown(pt.mouse,t))},ot=t=>{var e=t.data.global.x,i=t.data.global.y;ut.hasOwnProperty(t.data.pointerId)&&(ht.splice(ht.indexOf(ut[t.data.pointerId]),1),delete ut[t.data.pointerId]),ht.length>0?(t.data.global.x=ht[0].x,t.data.global.y=ht[0].y):pt.mouse.click=!1,ct(t),t.data.global.x=e,t.data.global.y=i,pt.currentContainer&&pt.currentContainer.onMouseUp&&pt.currentContainer.interactiveChildren&&pt.currentContainer.onMouseUp(pt.mouse,t)},lt=t=>{var e=t.data.global.x,i=t.data.global.y,r=ut[t.data.pointerId];r&&(r.x=t.data.global.x,r.y=t.data.global.y),(r=ht[0])&&(t.data.global.x=r.x,t.data.global.y=r.y),0===t.data.buttons&&(pt.mouse.click=!1),ct(t),t.data.global.x=e,t.data.global.y=i,pt.currentContainer&&pt.currentContainer.onMouseMove&&pt.currentContainer.interactiveChildren&&pt.currentContainer.onMouseMove(pt.mouse,t)},ht=[],ut={},ct=t=>{if(isFinite(t.data.global.x)){var e=pt.mouse,i=pt.stage.toLocal(t.data.global,pt.pixiApp.stage),r=Math.round(i.x),n=Math.round(i.y);r>pt.W?r=pt.W:r<0&&(r=0),n>pt.H?n=pt.H:n<0&&(n=0),e.x=r,e.y=n}},pt=new rt;pt.globalEventDispatcher=o.A;const dt=pt;function ft(t){return"string"==typeof t&&(t=a.A.loadScene(t)),t}function gt(){var t=pt.currentScene;pt._setCurrentScene(null),mt(t)}function mt(t){t instanceof h.A&&t!==pt.currentScene&&(!t.isStatic&&tt.indexOf(t)<0?a.A.destroyObjectAndChildren(t):t.detachFromParent())}window.cordova&&(document.addEventListener("backbutton",(function(){E.A._tryToClickByKeycode(27)}),!1),pt.exitApp=(t=!1)=>{t?navigator.app.exitApp():pt.showQuestion((0,p.A)("SUREEXIT_TITLE"),(0,p.A)("SUREEXIT_TEXT"),void 0,(()=>{pt.exitApp(!0)}))}),window.addEventListener("focus",(()=>vt(!0))),window.addEventListener("blur",(()=>vt(!1))),document.addEventListener("visibilitychange",(()=>At()));var At=()=>{var t="visible"===document.visibilityState;pt.isVisible!==t&&(pt.isVisible=t,pt.pixiApp&&setTimeout((()=>{T.A._clearCustomFades(.2),T.A._recalculateMusic()}),10),vt(t))},vt=t=>{pt.isFocused!==t&&(pt.isFocused=t,pt.pixiApp&&setTimeout((()=>pt.keys.resetAll()),10))};function yt(){try{var t=document.createElement("canvas");t.setAttribute("width","1"),t.setAttribute("height","1"),document.body.appendChild(t);var e=t.getContext("webgl",{stencil:!0});if(t.parentNode.removeChild(t),!e)return!1;var i=e.getExtension("WEBGL_debug_renderer_info");return null!=i&&-1!=e.getParameter(i.UNMASKED_RENDERER_WEBGL).search("Mali-400")}catch(r){}}function _t(){return pt.projectDesc.webfontloader?new Promise((t=>{setTimeout((()=>{if(pt.projectDesc.fontHolderText){var e=document.createElement("span");for(var r in e.style.opacity=0,e.style.color="rgba(0,0,0,0.01)",e.style.position="absolute",e.style.zIndex=-1,pt.projectDesc.webfontloader){var n=pt.projectDesc.webfontloader[r].families;if(n)for(var a of n){if("custom"===r){var s=pt.resourcesPath+"fonts/"+a.replace(/ /g,"");pt.applyCSS("\n\t\t\t\t\t\t\t\t\t\t@font-face {\n\t\t\t\t\t\t\t\t\t\t\tfont-family: '"+a+"';\n\t\t\t\t\t\t\t\t\t\t\tsrc: url('"+s+".woff2') format('woff2'),\n\t\t\t\t\t\t\t\t\t\t\turl('"+s+".woff') format('woff');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t")}var o=a.split(":"),l=o[0],h=o[1]?o[1].split(","):["normal"];for(var u of h){var c=document.createElement("span");c.style.fontFamily=`"${l}"`,c.style.fontWeight=u,c.innerHTML=pt.projectDesc.fontHolderText,e.appendChild(c)}}}document.body.appendChild(e)}setTimeout((()=>{if(!window.WebFont)try{window.WebFont=i(1537)}catch(n){}var e=pt.projectDesc.webfontloader;e.timeout=e.timeout||6e3;var r=!1;e.inactive=e.active=()=>{r||(r=!0,t())},window.WebFont.load(e)}),1)}),1)})):Promise.resolve()}function bt(){if(pt.projectDesc.embedLocales)return p.A.setLanguagesAssets(D.text),Promise.resolve(D.text);var t=pt.projectDesc.localeResourcesPath||pt.resourcesPath+"i18n";return p.A.loadLanguages(void 0,t)}async function xt(){var{lossy:t,lossless:e}=await(0,r.kT)();pt.isWebpAvailable=t&&e}vt(!0),At();var Tt=t=>t?pt.resourcesPath+"img/"+t:null;pt._textureNameToPath=Tt,pt.getImageMetadata=t=>D.images[t]||{};var Et=t=>t.replace(pt.resourcesPath+"img/","");function St(){var t,e,i,r={};pt.stage.forAllChildren((n=>{if(n instanceof S.A||n instanceof V.Mesh||n instanceof R){var s=n.image;if(s&&!a.A.hasTexture(s)&&pt._getTextureSettingsBits(s,3)){if(n.texture=a.A.getTexture("EMPTY"),t||(e={},i=[],t=new u.A),!e.hasOwnProperty(s)){e[s]=!0;var o=Tt(s),l={metadata:D&&D.images?D.images[s]:{}};t.add(o,void 0,l)}i.push(n)}else pt._getTextureSettingsBits(s,3)&&(n.texture.baseTexture||(n.texture=a.A.getTexture(s)),r[s]=!0)}})),t&&t.load(((t,e)=>{for(var r in e){var n=Et(r);a.A.addTexture(n,e[r].texture)}for(var s of i){var o=s.image;s.image="EMPTY",s.image=o}}))}},9135:(t,e,i)=>{"use strict";i.d(e,{A:()=>R});var r,n,a=i(5622),s=(i(9649),i(3951),i(9443)),o=i(2468),l=i(9062),h=i(1233),u={},c={},p={},d={},f={},g={};class m extends h.Container{constructor(){super(),this.visible=!1}onRemove(){super.onRemove();var t=A.indexOf(this);t>=0&&A.splice(t,1)}update(){}}var A=[],v=t=>{if(!t._thing_initialized){t._thing_initialized=!0,t.init();for(var e=t.children,i=e.length,r=0;r<i;r++)v(e[r])}};class y{getClass(t){return c[t]}_setClasses(t,e){n=e,c=t,_.classes=t}_setScenes(t){r=t,_.scenes=t}_setPrefabs(t){u=t,_.prefabs=t}_setMocks(t){t,_.mocks=t}addResource(t,e){if(!s.A._loadingErrorIsDisplayed){var i=new l.A;i.add(t,s.A.resourcesPath+t,e),i.load(((e,i)=>{var r=i[t];if(_.resources[t]=r,r.textures)for(var n in r.textures)_.addTexture(n,r.textures[n])}))}}addTexture(t,e){"EMPTY"!==t&&"WHITE"!==t&&_.hasTexture(t)&&_._unloadTexture(t),P(t),p[t]=e;var i=p[t].baseTexture;switch(s.A._getTextureSettingsBits(t,24)){case 0:i.wrapMode=h.WRAP_MODES.CLAMP;break;case 8:i.wrapMode=h.WRAP_MODES.REPEAT;break;default:i.wrapMode=h.WRAP_MODES.MIRRORED_REPEAT}s.A._getTextureSettingsBits(t,4)&&(i.mipmap=h.MIPMAP_MODES.ON),s.A.isCanvasMode||s.A.pixiApp.renderer.texture.updateTexture(i)}_unloadTexture(t){var e=p[t];e&&(h.Texture.removeFromCache(e),e.destroy(!0),delete p[t])}_filterStaticTriggers(t){return"StaticTrigger"===t.c?t.p.invert!==!(0,o.A)(t.p.dataPath||n.StaticTrigger.dataPath,s.A):!t[":"]||!t[":"].some((t=>"StaticTrigger"===t.c&&!!t.p.invert!=!(0,o.A)(t.p.dataPath||n.StaticTrigger.dataPath,s.A)))}_filterStaticTriggersRecursive(t){if(t[":"]){var e=t[":"].filter(_._filterStaticTriggers);t[":"]=e,e.forEach(_._filterStaticTriggersRecursive)}}_setSounds(t,e=!1){for(var i in d=t,f)f[i].unload();var r=!0;for(var n in r&&(f={}),d){var a=d[n],o=void 0;if("number"==typeof a[a.length-1]&&(o=a.pop()),!0){var l=b({src:a.map(T),preload:!s.A.projectDesc.loadOnDemandSounds.hasOwnProperty(n)},o);l.lastPlayStartFrame=0,f[n]=l}}}_preCacheSoundsAndTextures(){var t,e={};t=setInterval((()=>{if(0===s.A.getLoadingCount()){for(var i in d)if(2===s.A.projectDesc.loadOnDemandSounds[i]&&_.preloadSound(i))return;for(var r in s.A.projectDesc.loadOnDemandTextures)if(2===s.A._getTextureSettingsBits(r,3)&&!e[r])return e[r]=!0,void l.A.easyPreloadImage(r);clearInterval(t)}}),1e3)}getSoundsLoadingCount(){var t=0;for(var e in f){E(f[e])||t++}return t}hasSound(t){return d.hasOwnProperty(t)}getSound(t,e){return f[t]}preloadSound(t){if(t){var e=f[t];if("unloaded"===e.state())return e.load(),!0}}__clearAssetsLists(){p={},_.resources={},_.__texturesList=[],__allTextures={},_.__resourcesList=[]}_loadClassInstanceById(t){var e=a.A.create(c[t]);return Object.assign(e,n[t]),v(e),e}hasTexture(t){return p.hasOwnProperty(t)}getTextureEndingWith(t){var e=Object.keys(p).find((e=>e.endsWith(t)));return e&&_.getTexture(e)}getTexture(t){return!p.hasOwnProperty(t)&&s.A._getTextureSettingsBits(t,3)?h.Texture.WHITE:p[t]}destroyObjectAndChildren(t,e){if(t.onRemove(),t._thing_initialized=!1,e){var i=a.A.create(m),r=t.parent.children;r[r.indexOf(t)]=i,i.parent=t.parent,A.push(i),t.parent=null}else t.detachFromParent();for(;t.children.length>0;)_.destroyObjectAndChildren(t.getChildAt(t.children.length-1));a.A.dispose(t),t.interactiveChildren=!0}_deserializeObject(t){var e,i;"PrefabReference"===t.c?(i=t.p.hasOwnProperty("dynamicPrefabName")?(0,o.A)(t.p.dynamicPrefabName,this):t.p.prefabName,e=_._deserializeObject(u[i]),t.p.hasOwnProperty("inheritProps")||Object.assign(e,n[t.c],t.p)):(e=a.A.create(c[t.c]),Object.assign(e,n[t.c],t.p));if(t.hasOwnProperty(":")){var r=t[":"];for(var s of r)e.addChild(_._deserializeObject(s))}return e}loadScene(t){if(g.hasOwnProperty(t))return g[t];r.hasOwnProperty(t)||(t=Object.keys(r)[0]);var e=r[t];e.p.__libSceneName=t;var i=x(e);return delete e.p.__libSceneName,s.A.hasOwnProperty("__savedCurrentSceneForInitTime")&&(s.A._setCurrentScene(s.A.__savedCurrentSceneForInitTime),delete s.A.__savedCurrentSceneForInitTime),i.isStatic&&(g[t]=i),i}_cleanupRemoveHolders(){for(;A.length>0;)_.destroyObjectAndChildren(A.pop())}hasPrefab(t){return u.hasOwnProperty(t)}hasScene(t){return r.hasOwnProperty(t)}_getStaticScenes(){return g}}var _=new y;function b(t,e){var i=new Howl(t);return i.once("loaderror",(t=>{i.loadedWithError=!0})),i.once("load",(()=>{e&&(i._duration=e,i._sprite.__default[1]=1e3*e)})),i}var x=t=>{var e=_._deserializeObject(t);return v(e),e};function T(t){return s.A.resourcesPath+"snd/"+t}function E(t){return"loading"!==t.state()||t.loadedWithError}var S,w=new Set;function P(t){S&&clearTimeout(S),S=setTimeout(I,10),w.add(t)}function I(){S=null,s.A.forAllChildrenEverywhere((t=>{if(t.image&&w.has(t.image)){var e=t.image;t.image="EMPTY",t.image=e}})),w.clear()}_.resources={},_.loadPrefab=function(t){return x(u[t])};const R=_},4222:(t,e,i)=>{"use strict";i.d(e,{A:()=>c,t:()=>o});var r=i(2468),n=i(9443),a=(t,e)=>{var i,a=o(t),s=a.p,l=s[0];i="this"===l?e:n.A[l];for(var h,u=1;u<s.length;){var c=s[u];h=i,i="string"==typeof c?i[c]:i.getChildByName(c.s),u++}return a.hasOwnProperty("v")?i===r.W?(0,r.W)(a.v[0],a.v[1],e):i.apply(h,a.v):i.call(h)},s={},o=t=>{if(s.hasOwnProperty(t))return s[t];var e={},i=t.split("`");return e.p=i[0].split(".").map(u),i.length>1&&(e.v=i[1].split(",").map(h)),s[t]=e,e},l=/^\-?[\.0-9]+$/,h=t=>t.match(l)?parseFloat(t):t,u=t=>35===t.charCodeAt(0)?{s:t.substr(1)}:t;const c=a},2468:(t,e,i)=>{"use strict";i.d(e,{A:()=>s,W:()=>a});var r=i(9443),n=(i(3951),i(4222)),a=(t,e,i)=>{var a,s=(0,n.t)(t).p,o=s[0];a="this"===o?i:r.A[o];for(var l=1;l<s.length-1;){var h=s[l];if(!(a="string"==typeof h?a[h]:a.getChildByName(h.s)))return;l++}var u=s[l];a[u]!==e&&(a[u]=e)};const s=(t,e)=>{var i,a=(0,n.t)(t),s=a.p,o=s[0];i="this"===o?e:r.A[o];for(var l,h=1;h<s.length;){var u=s[h];if(l=i,!(i="string"==typeof u?i[u]:i.getChildByName(u.s)))return i;h++}return"function"==typeof i?i.apply(l,a.v):i}},874:(t,e,i)=>{"use strict";i.d(e,{A:()=>f});var r,n=i(9443),a={},s={},o=window.navigator&&navigator.language?navigator.language.split("-")[0]:"en",l=!1,h=!1;function u(t,e=void 0,i=void 0){var r;return a.hasOwnProperty(t)?(r=a[t],u.messageProcessor&&(r=u.messageProcessor(r,e,i))):r=t,void 0!==e&&(r=r.replace("%d",e),void 0!==i&&(r=r.replace("%s",i))),r}function c(t,e){if(!h)return r=t,void(l=!(null==e||!e.isHieroglyphic));if(o!==t){if(s.hasOwnProperty(t))o=t;else if(o=n.A.projectDesc.defaultLanguage,window.navigator&&navigator.languages)for(var i of navigator.languages)if(i=i.split("-")[0],s.hasOwnProperty(i)){o=i;break}a=s[o],u.fefreshAllTextEverywhere()}}function p(t){t.onLanguageChanged&&t.onLanguageChanged()}function d(t,e,i){for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];"string"==typeof n?i?e[i+r]=t[r]:e[r]=t[r]:d(n,e,i?i+r+".":r+".")}}u.setLanguagesAssets=t=>{h=!0,s=t;var e=r||o;r=null,o=null,c(e)},u.loadLanguages=function(t,e){return t||(t=r),new Promise((i=>{var r=e+"/"+t+".json";return n.A.fetchResource(r).then((e=>{e=u._deserializeLanguage(e),s[t]=e,this.setLanguagesAssets(s),i(e)}))}))},u.has=t=>a.hasOwnProperty(t),u.fefreshAllTextEverywhere=function(){n.A.stage&&n.A.forAllChildrenEverywhere(p)},u.getCurrentLanguageId=()=>o,u.getLanguagesList=()=>Object.keys(s),u.setCurrentLanguage=c,u._deserializeLanguage=function(t){var e={};return d(t,e),e},u.isCurrentLanguageHieroglyphic=()=>l;const f=u},2982:(t,e,i)=>{"use strict";i.d(e,{A:()=>u});var r=i(4319),n=i(9135),a=(i(9443),.0101),s=40,o=1/s,l={},h={};setInterval((()=>{for(var t in h)h[t]._updateFading()}),s);class u{constructor(t){t.dynamicPreloading&&(t.loop&&n.A.preloadSound(t.loop),t.intro&&n.A.preloadSound(t.intro)),this.onIntroEnd=this.onIntroEnd.bind(this),this.intro=t.intro,this.loop=t.loop,this.musicFragmentHash=t.musicFragmentHash}_updateFading(){var t=this.getVolume();this._fadeToVol!==t&&((t=(0,r.CR)(t,this._fadeToVol,1/(this._fadeSpeed+1e-4)*o))<a&&this._fadeToVol<a?this._releaseCurrentFragment():this._currentFragment.volume(t))}getVolume(){return this._currentFragment?this._currentFragment._sounds[0]._volume:0}static onMusicRemove(t){for(var e in h){var i=h[e];i.owner===t&&c(i)}}static resetPosition(t){l.hasOwnProperty(t)&&l[t].resetPosition()}resetPosition(){var t;this._currentFragment&&(this._releaseCurrentFragment(),t=!0),this.introPos=0,this.loopPos=0,this.isLoopPos=!1,t&&this.startPlay()}startPlay(){this.intro&&!this.isLoopPos?(this._playMusicFragment(this.intro,this.introPos,this._fadeToVol),this._currentFragment&&(this._currentFragment.loop(!1),this._currentFragment.on("end",this.onIntroEnd))):this.loop&&(this.isLoopPos=!0,this._playMusicFragment(this.loop,this.loopPos),this._currentFragment&&this._currentFragment.loop(!0))}onIntroEnd(){if(this._currentFragment){var t=this.getVolume();this._releaseCurrentFragment(),this._playMusicFragment(this.loop,0,t),this.isLoopPos=!0,this._currentFragment&&this._currentFragment.loop(!0)}this.owner&&this.owner._onIntroFinish()}_playMusicFragment(t,e=0,i=a){if(t)try{(t=n.A.getSound(t,!0)).volume(i),t.seek(e),t.soundIdSaved=t.play(t.soundIdSaved),this._currentFragment=t,h[this.musicFragmentHash]=this}catch(r){}}_releaseCurrentFragment(){this._currentFragment&&(this._currentFragment.off("end",this.onIntroEnd),this.isLoopPos?this.loopPos=this._currentFragment.seek():this.introPos=this._currentFragment.seek(),this._currentFragment.stop(),this._currentFragment=null,delete h[this.musicFragmentHash])}static _applyFadeForAll(t){for(var e in h)h[e]._fadeSpeed=t}static setPlayingBGMusics(t){var e={};for(var i of t){var r=void 0;e[i.musicFragmentHash]=!0,l.hasOwnProperty(i.musicFragmentHash)?r=l[i.musicFragmentHash]:(r=new u(i),l[i.musicFragmentHash]=r),r._fadeToVol=i._cachedTargetVol,r._fadeSpeed=i._getFade(r._fadeToVol<a),r.owner=i,h.hasOwnProperty(i.musicFragmentHash)||r.startPlay()}for(var n in h)e.hasOwnProperty(n)||(h[n]._fadeToVol=0,h[n].owner&&c(h[n]))}static __applyGameSpeed(t){for(var e in h){var i=h[e];i._currentFragment&&i._currentFragment.rate(t)}}}function c(t){t._fadeSpeed=t.owner._getFade(!0),t.owner.customFade=null,t.owner=null}},5622:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=new Map;class n{static clearAll(){r.clear()}static create(t){if(!r.has(t))return new t;var e=r.get(t);return 0===e.length?new t:e.pop()}static dispose(t){var e=t.constructor;r.has(e)||r.set(e,[]),r.get(e).push(t)}}},9062:(t,e,i)=>{"use strict";i.d(e,{A:()=>l});var r=i(9443),n=i(1233),a=[],s=n.Spritesheet.prototype.parse;n.Spritesheet.prototype.parse=function(){try{return s.apply(this,arguments)}catch(t){r.A._onLoadingError("Spritesheet parsing error ("+this.data.meta.image+"): "+t.message)}};var o=new RegExp(/\.[^.]+$/);class l{constructor(){this._createNewLoader(),this.attempt=0,this.count=1,this.resources={}}static pre(t,e){var i=t.url.slice(t.url.indexOf("/img/")+5),n=t.metadata&&t.metadata[i]?t.metadata[i]:t.metadata,a=n.e||t.extension;n.f_e&&a.endsWith("webp")&&!r.A.isWebpAvailable&&(a=n.f_e),a!==t.extension&&(t.orig_url=t.url,t.url=t.url.replace(o,a),t.extension=a.slice(a.lastIndexOf(".")+1)),e()}static easyPreloadImage(t){var e={url:r.A._textureNameToPath(t),metadata:r.A.getImageMetadata(t),extension:t.slice(t.lastIndexOf(".")+1)};l.pre(e,(()=>{})),(new Image).src=e.url}add(t,e=t,i={}){var r=i.metadata||{};i.metadata={...r,imageMetadata:r,spineAtlas:r.s_a},this.loader.add(t,e,i),this.resources[t]=!0,this.count++}static getLoadingCount(){var t=0;for(var e of a)t+=e.count;return t}static destroyAllLoaders(){for(var t of a)t.loader.destroy()}load(t,e){var i;e||a.push(this),this.loader.onLoad.add(((t,e)=>{this.resources[e.name]&&this.count--})),this.loader.load((()=>{if(!r.A._loadingErrorIsDisplayed){for(var e of Object.values(this.loader.resources))if(e.error){if(i||(i=[]),!this.resources[e.name]){i=i.concat(Object.keys(this.resources).map((t=>this.loader.resources[t])));break}i.push(e)}if(i)this.attempt++<3?setTimeout((()=>{for(var e of(this._createNewLoader(),this.count=1,i))e.metadata&&(e.metadata.f_e&&(e.metadata.e=e.metadata.f_e),Object.values(e.metadata).forEach((t=>{t&&t.f_e&&(t.e=t.f_e)}))),this.add(e.name,e.orig_url||e.url,{metadata:e.metadata});this.load(t,!0)}),1e3*this.attempt):r.A._onLoadingError(i[0].url);else{this.resources=Object.assign(this.resources,this.loader.resources);var n=a.indexOf(this);a.splice(n,1),r.A._loadingErrorIsDisplayed||(t&&t(this,this.resources),0===a.length&&l.preloader&&(l.preloader.onComplete(),l.preloader=null))}}}))}_createNewLoader(){this.loader=new n.Loader("",1e3),this.loader.pre(l.pre)}}},7781:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});i(9443);class r{constructor(t){this._storageId=t;try{"undefined"!=typeof Storage&&localStorage.hasOwnProperty(t)&&(this.data=JSON.parse(localStorage[t]))}catch(e){this.data={}}this.hasOwnProperty("data")||(this.data={}),this.flush=this.flush.bind(this)}getItem(t,e){return this.data.hasOwnProperty(t)?this.data[t]:e}setItem(t,e){e===this.data[t]&&"object"!=typeof e||(this.data[t]=e,this.changed(),r.globalOnChanged&&r.globalOnChanged(t,e))}removeItem(t){this.data.hasOwnProperty(t)&&(delete this.data[t],this.changed())}changed(){this.hasOwnProperty("__flushInterval")||(this.__flushInterval=setTimeout(this.flush,10,this))}clear(){this.data={},this.changed()}flush(){if("undefined"!=typeof Storage){delete this.__flushInterval;try{localStorage.setItem(this._storageId,JSON.stringify(this.data))}catch(t){this.data=this.data||{}}}}}const n=r},4049:(t,e,i)=>{"use strict";i.d(e,{A:()=>p});var r,n,a,s=i(9443),o=i(9135),l=i(684),h=(i(2982),.005),u=.05;function c(t,e){return t>u?t:e}class p{static get soundsVol(){return f}static setSoundsVol(t){p.soundsVol=t}static set soundsVol(t){t=Math.max(0,Math.min(1,t)),f=t,s.A.settings.setItem("soundsVol",f)}static get musicVol(){return g}static setMusicVol(t){p.musicVol=t}static set musicVol(t){t=Math.max(0,Math.min(1,t)),g!==t&&l.A._clearCustomFades(.2),g=t,s.A.settings.setItem("musicVol",g),l.A._recalculateMusic()}static get fullVol(){return Math.max(f,g)}static set fullVol(t){var e=s.A.settings.getItem("musicEnabled",!0),i=s.A.settings.getItem("soundEnabled",!0);e||i||(e=i=!0),e?p.musicVol=t:s.A.settings.setItem("musicVolEnabling",t),i?p.soundsVol=t:s.A.settings.setItem("soundsVolEnabling",t)}static get musicEnabled(){return g>=h}static set musicEnabled(t){p.musicEnabled!==t&&(l.A._clearCustomFades(.2),t?p.musicVol=c(s.A.settings.getItem("musicVolEnabling"),s.A.projectDesc.defaultMusVol):(s.A.settings.setItem("musicVolEnabling",g),p.musicVol=0),p.rememberEnablings())}static rememberEnablings(){d||(d=setTimeout(y,10))}static toggleMusic(){p.musicEnabled=!p.musicEnabled}static get soundEnabled(){return f>=h}static set soundEnabled(t){p.soundEnabled!==t&&(t?p.soundsVol=c(s.A.settings.getItem("soundsVolEnabling"),s.A.projectDesc.defaultSoundsVol):(s.A.settings.setItem("soundsVolEnabling",f),p.soundsVol=0),p.rememberEnablings())}static toggleSounds(){p.soundEnabled=!p.soundEnabled}static toggleFullSound(){p.soundEnabled||p.musicEnabled?(p.soundEnabled=!1,p.musicEnabled=!1):(p.musicEnabled=!0,p.soundEnabled=!0)}static init(){f=s.A.settings.getItem("soundsVol",s.A.projectDesc.defaultSoundsVol),g=s.A.settings.getItem("musicVol",s.A.projectDesc.defaultMusVol)}static play(t,e=1,i=1,r=0,n=!1){if(!(p.isSoundsLockedByBrowser||!s.A.isVisible)){var a=o.A.getSound(t);if(a){if(a.lastPlayStartFrame<s.A.time&&(!n&&a.playing()&&a.stop(),(e*=p.soundsVol)>.01))try{n?(a.soundIdSaved=a.play(),a.volume(e,a.soundIdSaved),a.rate(i,a.soundIdSaved),0!==r&&a.seek(r,a.soundIdSaved)):(a.volume(e),a.rate(i),0!==r&&a.seek(r),a.soundIdSaved=a.play(a.soundIdSaved)),a.lastPlayStartFrame=s.A.time+2}catch(l){}}else{var l=new Error('Attempt to play unknown sound "'+t+'"');setTimeout((()=>{throw l}))}}}static playPitched(t,e=200,i=1.0594630943592953,r=3){var n,a=v[t],o=s.A.time-a;o<2||(n=o<e?Math.min(A[t]*i,r):1,A[t]=n,v[t]=s.A.time,p.play(t,1,n,0,!0))}static checkSoundLockByBrowser(){p.isSoundsLockedByBrowser=!0,s.A.additionalLoadingsInProgress++;var t=()=>m(!0),e=()=>m(!1);(r=new Howl({src:"data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU2LjM2LjEwMAAAAAAAAAAAAAAA//OEAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAEAAABIADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV6urq6urq6urq6urq6urq6urq6urq6urq6v////////////////////////////////8AAAAATGF2YzU2LjQxAAAAAAAAAAAAAAAAJAAAAAAAAAAAASDs90hvAAAAAAAAAAAAAAAAAAAA//MUZAAAAAGkAAAAAAAAA0gAAAAATEFN//MUZAMAAAGkAAAAAAAAA0gAAAAARTMu//MUZAYAAAGkAAAAAAAAA0gAAAAAOTku//MUZAkAAAGkAAAAAAAAA0gAAAAANVVV"})).once("playerror",t),r.once("end",e),n=setTimeout(t,500);try{r.play()}catch(i){m(!0)}}static _unlockSound(){p.isSoundsLockedByBrowser&&m(!1)}}var d,f,g,m=t=>{a||(s.A.additionalLoadingsInProgress--,a=!0,clearTimeout(n)),t||(r.off("playerror"),r.off("play"),r.unload(),p.isSoundsLockedByBrowser=!1,s.A.classes.BgMusic&&s.A.classes.BgMusic._recalculateMusic())},A={},v={};function y(){d=null,(p.soundEnabled||p.musicEnabled)&&(s.A.settings.setItem("soundEnabled",p.soundEnabled),s.A.settings.setItem("musicEnabled",p.musicEnabled))}},4319:(t,e,i)=>{"use strict";i.d(e,{CR:()=>r,Go:()=>n,kT:()=>a});i(9443),Math.PI;var r=(t,e,i)=>Math.abs(t-e)<=i?e:t>e?t-i:t+i;function n(t){return JSON.parse(JSON.stringify(t))}async function a(){var t={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"};return await Promise.all(Object.entries(t).map((([t,e])=>new Promise((i=>{var r=new Image;r.onload=()=>i([t,r.width>0&&r.height>0]),r.onerror=()=>i([t,!1]),r.src=`data:image/webp;base64,${e}`}))))).then((t=>t.reduce(((t,[e,i])=>(t[e]=i,t)),{})))}},3800:(t,e,i)=>{"use strict";i.d(e,{A:()=>r});const r={START_LOADING:"start_loading",GAME_RESOURCES_LOADED:"game_resources_loaded",GAME_LOADED:"game_loaded",GAME_INITIALIZED:"game_initialized",ACTION_EXEC:"action_exec",BET_CHANGED:"bet_changed",FINISH_SPIN_ANIMATIONS:"finish_spin_animations",FINISH_ROUND_ANIMATIONS:"finish_round_animations",API_RESPONSE:"api_response",BALANCE_UPDATE:"balance_update",BUTTON_CLICK:"button-click",DIALOG_BUTTON_CLICK:"dialog_button_click",PRE_PLAY:"pre_play",PLAY:"play",AUTOSPINS_STARTED:"autospins_started",AUTOSPINS_STOPPED:"autospins_stopped",GO_HOME:"go_home",SET_SKIN:"set_skin",ERROR:"game_error",SET_LINES_COUNT:"set_lines_count",SET_VOLATILITY:"set_volatility",SHOW_MODAL:"show_modal",CUSTOM_EVENT:"custom_event",GAME_UI_BET_PANEL_OPENED:"game_ui_bet_panel_opened",GAME_UI_BET_PANEL_CLOSED:"game_ui_bet_panel_closed",GAME_UI_SETTINGS_OPENED:"game_ui_settings_opened",GAME_UI_SETTINGS_CLOSED:"game_ui_settings_closed",GAME_UI_RULES_OPENED:"game_ui_rules_opened",GAME_UI_RULES_CLOSED:"game_ui_rules_closed",GAME_UI_PAYTABLE_OPENED:"game_ui_paytable_opened",GAME_UI_PAYTABLE_CLOSED:"game_ui_paytable_closed",GAME_UI_AUTOSPINS_PANEL_OPENED:"game_ui_autospins_panel_opened",GAME_UI_AUTOSPINS_PANEL_CLOSED:"game_ui_autospins_panel_closed",GAME_UI_QUICK_SPIN_OFFER_OPENED:"game_ui_quick_spin_offer_opened",GAME_UI_QUICK_SPIN_OFFER_CLOSED:"game_ui_quick_spin_offer_closed"}},4581:(t,e,i)=>{"use strict";i.d(e,{A:()=>o});var r=i(4051),n=i(2468),a=i(874),s=i(9443);class o extends r.A{init(){super.init(),this.showedVal2=void 0,this.countOnStart&&(this.showedVal=0),this.template&&(this.template=this.template.replace("\\n","\n")),this.savedTemplate=null,s.A.data&&this.refreshDecimalsCount(),this.applyMaxWidth()}refreshDecimalsCount(){var t;"number"==typeof(t=this.decimalsCountPath?(0,n.A)(this.decimalsCountPath,this):s.A.data.currencyDigits)&&(this.decimalsCount=t)}update(){if(this.refreshDecimalsCount(),this.dataPath2&&this.currentInterval===this.refreshInterval){var t=(0,n.A)(this.dataPath2,this);void 0!==t&&t!==this.showedVal2&&(this.showedVal2=t,this.setSymbol(t))}super.update()}refreshNow(){this.showedVal=void 0,super.refreshNow()}customizeVal(t){return t?t/s.A.data.currencyDivider:t}setSymbol(t){this.translatableText?this.template=(0,a.A)(this.translatableText):this.savedTemplate?this.template=this.savedTemplate:this.savedTemplate=this.template,this.template=this.template.replace("%s",t),this.symbol=t,this.currentInterval=0,this.showedVal=void 0}onLanguageChanged(){this.symbol&&this.translatableText&&this.setSymbol(this.symbol),super.onLanguageChanged()}_onRenderResize(){this.applyMaxWidth()}applyMaxWidth(){var t=s.A.isPortrait?this.maxWidthPortrait:this.maxWidthLandscape;t>0&&(this.maxWidth=t)}static initMoneyFormatter(t){"object"==typeof Intl&&(r.A.formatMoney=(e,i)=>{var r=l[i];return r||(r=Intl.NumberFormat(t.substr(0,2),{maximumFractionDigits:i,minimumFractionDigits:i}).format,l[i]=r),r(e)})}}var l={}},4381:(t,e,i)=>{"use strict";i.d(e,{A:()=>g});var r=i(9401),n=i(7781),a=i(9443),s=i(9135),o=i(3800),l=i(4049);window.trackGameEventListeners||(window.trackGameEventListeners=[]);var h={QUICK_SPIN_SETTINGS:"quick_spin_default",QUICK_SPINS_POPUP_OFFER:"quick_spins_popup_offer",SOUND_VALUE:"sound_value"},u=[{name:h.QUICK_SPIN_SETTINGS,handler:t=>{var e;if(void 0!==(null===(e=a.A.casinoOptions)||void 0===e||null===(e=e.license_rules)||void 0===e?void 0:e.min_spin_time))return!1;var i=a.A.settings.getItem("quickSpin",!1),r=a.A.settings.getItem("growthbook_quickSpin");return void 0===r&&(r=t.value,a.A.settings.setItem("growthbook_quickSpin",r)),i!==r&&(a.A.data.quickSpin=r,a.A.settings.setItem("quickSpin",a.A.data.quickSpin)),window.trackGameEventListeners.push(((t,e,i)=>{"settings-change"===t&&"quickSpin"===e&&a.A.settings.setItem("growthbook_quickSpin",i)})),!0}},{name:h.SOUND_VALUE,handler:t=>{if(a.A.settings.getItem("gb_sound_value_applied"))return!0;var e=.01*t.value;return l.A.soundEnabled=l.A.musicEnabled=!!e,0!==e&&(l.A.fullVol=e),a.A.settings.setItem("gb_sound_value_applied",!0),!0}}],c=[],p={game_loaded:!0,game_initialized:!0,render_resize:!0},d=(t,e,i)=>{if(t===o.A.GAME_LOADED&&y(),p[t]&&(i={width:a.A.W,height:a.A.H,isPortrait:a.A.isPortrait,isMobile:a.A.isMobile.any,isGambleAvailable:a.A.projectDesc.libs.indexOf("thing-games-utils/gamble")>0||s.A.hasScene("gamble"),isProvabilityAvailable:s.A.hasPrefab("thing-games-utils/provability-panel"),isBuyFeaturesAvailable:a.A.data.initData&&a.A.data.initData.options&&a.A.data.initData.options.feature_options&&a.A.data.initData.options.feature_options.feature_multipliers,ignoreOrientationEvents:!1}),window.trackGameEventListeners&&window.trackGameEventListeners.length)for(var r=window.trackGameEventListeners.length;r--;)window.trackGameEventListeners[r]&&window.trackGameEventListeners[r](t,e,i);try{c.forEach((r=>r(t,e,i)))}catch(n){}},f={addListener:t=>{c.push(t)},track:d,trackCustom:(t,e,i,r)=>{d(o.A.CUSTOM_EVENT,null,{action:t,label:e,value:i,isNonInteraction:r})}};const g=f;var m={cap:!0,"space to skip button":!0,"debug-button":!0};r.A.globalOnClick=(t,e)=>{for(var i,r=t;r;){if(r.name){i=r.name;break}r=r.parent}m.hasOwnProperty(i)||d("button-click",i,e)};var A=["latestSpinResultV2","__allSymbolsIds","latestSpinResultTimeV2","last-spins-indexes","growthbook_"],v={},y=()=>{v={},n.A.globalOnChanged=(t,e)=>{A.every((e=>-1===t.indexOf(e)))&&("object"==typeof t&&null!==t||(void 0===e&&(e="undefined"),v[t]=e))},d("initial-settings",null,a.A.settings.data)};setInterval((()=>{if(a.A.mouse&&!a.A.mouse.click)for(var t of Object.keys(v))d("settings-change",t,v[t]),delete v[t]}),200),a.A.onGameReload=()=>{d("game_reloading")},f.addListener((t=>{t===o.A.SET_SKIN&&d("game_reloading")}));var _=!1;function b({detail:t}){"initialized"===t.type&&console.log("[thing-games-utils] Analytics available in window.analytics",window.analytics),console.log("[thing-games-utils] Received message from analytics: ",t)}function x(t){window.dispatchEvent(new CustomEvent("experiment/incoming",{detail:{type:"addFeature",payload:{name:t.name,handler:t.handler}}}))}window.dispatchEvent(new CustomEvent("analytics/incoming",{detail:{type:"start",payload:{isEditor:_}}})),window.addEventListener("analytics/outgoing",b),window.addEventListener("experiment/outgoing",(({detail:t})=>{if("ready"===t.type)for(var e of(console.log("[Utils Analytics] ExperimentManager Ready!",t),u))console.log("[Utils Analytics] Add Feature",e),x(e)}))},4418:(t,e,i)=>{"use strict";i.d(e,{A:()=>c});var r=i(9443),n=i(874),a=i(4319),s=i(230);class o{initGame(){this.initReplayData(),this.isReplayMode()&&(r.A.all["spin-button"].hotkey=0,this.speed||(this.speed=1),this.started=!1,this.replayData&&(this.initView(),r.A.settings.clear()),this.clickToContinueDelay=0,this.refreshView())}isReplayMode(){return Boolean(this.replayData)}getNextResponse(){return this.replayData.shift()}beforeGameInit(){this.replayData&&(s.projectDesc.id="replay-mode")}initView(){if(!this.viewInitialized){setInterval(this.update.bind(this),1e3/60*10),this.viewInitialized=!0;var t=document.createElement("div");t.id="replay-panel",r.A.pixiApp.view.parentElement.appendChild(t);var e=document.createElement("button");e.addEventListener("pointerdown",(()=>{this.setSpeed(1)})),e.innerText="×1",t.appendChild(e),this.x1btn=e;var i=document.createElement("button");i.addEventListener("pointerdown",(()=>{this.setSpeed(2)})),i.innerText="×2",t.appendChild(i),this.x2btn=i;var a=document.createElement("button");a.addEventListener("pointerdown",(()=>{this.setSpeed(4)})),a.innerText="×4",t.appendChild(a),this.x4btn=a,t.appendChild(document.createTextNode((0,n.A)("replay")));var s=document.createElement("button");s.addEventListener("pointerdown",(()=>{this.paused=!0,r.A.pixiApp.ticker.speed=0,r.A.SharedAPI.restartGame()})),s.innerText="⏮",t.appendChild(s),this.restartButton=s;var o=document.createElement("button");o.addEventListener("pointerdown",(()=>{this.started?(this.paused=!this.paused,r.A.pixiApp.ticker.speed=this.paused?0:this.speed,this.refreshView()):this.clickSpin()})),t.appendChild(o),this.playBtn=o;var l=document.createElement("div");l.id="pause-message",t.appendChild(l),l.innerText="P A U S E",this.pauseMessage=l;var h=document.createElement("button");h.style.position="absolute",h.style.right="10px",h.addEventListener("pointerdown",(()=>{this.clickSpin()})),h.innerText="Help",t.appendChild(h),this.helpMessage=h,this.refreshView()}}clickSpin(){var t=r.A.all["spin-button"];t&&t.isCanBePressed&&(t.callClick(),this.started=!0,this.refreshView())}skipClickToContinuePopups(){var t=!1;r.A.currentContainer&&r.A.currentContainer.forAllChildren((e=>{e instanceof r.A.classes.Text&&(e.worldVisible&&e.worldAlpha||this.clickToContinueDelay>0)&&e.translatableText&&(e.translatableText.includes("tap_to_continue")||e.translatableText.includes("click_to_continue")||e.translatableText.includes("push_to_continue")||e.translatableText.includes("tap_to_start")||e.translatableText.includes("push_to_start")||e.translatableText.includes("click_to_start")||e.translatableText.includes("tap_to_spin")||e.translatableText.includes("push_to_spin")||e.translatableText.includes("click_to_spin")||e.translatableText.includes("tap_to_play")||e.translatableText.includes("push_to_play")||e.translatableText.includes("click_to_play"))&&(this.clickToContinueDelay++,12===this.clickToContinueDelay&&this.clickSpin(),t=!0)})),t||(this.clickToContinueDelay=0)}chooseFeature(){if(this.replayData.length&&r.A.currentContainer){var t=l(this.replayData[0]);if(t){var e=r.A.currentContainer.findChildByName("choose-btn-"+t);e&&this.clickButton(e)}}}gamblePlay(){if(this.replayData.length&&r.A.currentContainer){var t=h(this.replayData[0]);if(t){var e=r.A.currentContainer.findChildByName("gamble-btn");if(e&&e.isCanBePressed)return this.clickButton(e),!0;e=null;var i="currentScene.playGamble`"+t;r.A.currentContainer.forAllChildren((t=>{t instanceof r.A.classes.Button&&t.onClick===i&&(e=t)})),e&&this.clickButton(e)}}}update(){this.paused||(this.buttonClickWaits?this.processClickWaitingButton():(this.skipClickToContinuePopups(),this.chooseFeature()||this.gamblePlay()))}clickButton(t){this.buttonClickWaits=t,this.clickButtonDelay=0}processClickWaitingButton(){if(this.buttonClickWaits)return this.buttonClickWaits.isCanBePressed&&(this.clickButtonDelay++,6===this.clickButtonDelay&&this.buttonClickWaits.onOver(),12===this.clickButtonDelay&&(this.buttonClickWaits.callClick(),this.buttonClickWaits=null)),!0}setSpeed(t){this.speed=t,r.A.pixiApp.ticker.speed=t,this.refreshView()}refreshView(){this.playBtn.innerText=!this.started||this.paused?"⏵":"⏸",this.pauseMessage.style.display=!this.started||this.paused?"block":"none",this.started?this.playBtn.classList.remove("highlight"):this.playBtn.classList.add("highlight"),this.restartButton.disabled=!this.started,this.x1btn.disabled=1===this.speed,this.x2btn.disabled=2===this.speed,this.x4btn.disabled=4===this.speed}initStyles(){this.initReplayData(),this.replayData&&r.A.applyCSS("\ncanvas {\n\tpointer-events: none;\n\tborder: #ffcc29 3px solid;\n\tbox-sizing: border-box;\n\tborder-top-width: 45px;\n}\n\n#replay-panel {\n\theight: 45px;\n    z-index: 100;\n    position: absolute;\n    top: 0;\n    font-family: 'Arial';\n    color: #000000;\n    display: flex;\n\twidth: 100%;\n    align-items: baseline;\n    justify-content: center;\n\tfont-size: 20px;\n\tfont-weight: 700;\n}\n\n#replay-panel button {\n\tcursor: pointer;\n    padding: 6px 13px;\n    background: #ff8f00;\n    margin: 5px;\n    border-radius: 5px;\n    font-size: 17px;\n\tfont-weight: 700;\n}\n\n#replay-panel button:hover {\n\toutline: 1px solid #774400;\n\toutline-offset: 2px;\n}\n\n#replay-panel button:disabled {\n\tpointer-events: none;\n\tcursor: unset;\n\topacity: 0.5;\n}\n\n.highlight {\n\tanimation: highlight 1s ease 0s infinite normal forwards;\n\toutline-offset: 2px;\n\toutline: 3px solid #ff0000;\n}\n\n#pause-message {\n\tanimation: flash 1s ease 0s infinite normal forwards;\n    position: absolute;\n\tfont-family: 'Arial';\n    color: #ffffff;\n\ttop: 43vh;\n    font-size: 400%;\n    text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;\n}\n\n@keyframes highlight {\n\t0%,\n\t100% {\n\t\toutline-color: #ff0000;\n\t}\n\t50% {\n\t\toutline-color: #ffcc29;\n\t}\n}\n\n@keyframes flash {\n\t0%,\n\t100% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0;\n\t}\n}\n\n")}initReplayData(){this.replayData=(0,a.Go)(window.__OPTIONS__.replay||null),this.replayData&&this.replayData.some((t=>{if(t&&t.outcome&&t.outcome.bet){var e=t.outcome.bet,i=this.replayData[0].options;return i.currency||(i.currency={code:"FUN",symbol:"FUN",subunits:100,exponent:2}),i.default_bet=e,i.available_bets.indexOf(e)<0&&(i.available_bets.push(e),i.available_bets.sort(((t,e)=>t-e))),!0}}))}}function l(t){if(t.features)return t.features.freespins_type}function h(t){if(t.gamble)return t.gamble.value[1]}var u=new o;u.initStyles();const c=u},6113:(t,e,i)=>{"use strict";i.d(e,{T:()=>a});var r=i(4381),n=window.Sentry,a=void 0;a&&(n.init({environment:window.__OPTIONS__.environment,dsn:void 0,release:"Plinko (game: v0.0.41_v14.13.3, utils: v14.13.3)",ignoreErrors:[],beforeBreadcrumb:t=>"ui.click"===t.category?null:t,tracesSampleRate:.1,attachStacktrace:!0,denyUrls:[/moz-extension:/,/chrome-extension:/,/edge-extension:/]}),window.user_id&&n.setUser({id:window.user_id}),r.A.addListener(((t,e,i)=>{n.addBreadcrumb({type:"info",category:"game.event",message:t,data:{eventName:t,targetName:e,source:JSON.stringify(i)},level:n.Severity.Info})})))},808:(t,e)=>{"use strict";function i(){return"undefined"==typeof Intl||!("getCanonicalLocales"in Intl)||"x-private"===Intl.getCanonicalLocales("und-x-private")[0]}Object.defineProperty(e,"__esModule",{value:!0}),e.shouldPolyfill=void 0,e.shouldPolyfill=i},1707:(t,e)=>{"use strict";function i(){try{return"x-private"===new Intl.Locale("und-x-private").toString()}catch(t){return!0}}function r(){return!("Locale"in Intl)||i()}Object.defineProperty(e,"__esModule",{value:!0}),e.shouldPolyfill=void 0,e.shouldPolyfill=r},1626:(t,e,i)=>{"use strict";function r(t,e){for(var i=e;;){if(t.has(i))return i;var r=i.lastIndexOf("-");if(!~r)return;r>=2&&"-"===i[r-2]&&(r-=2),i=i.slice(0,r)}}i.d(e,{q:()=>r})},234:(t,e,i)=>{"use strict";i.d(e,{s:()=>a});var r=i(9400),n=i(1626);function a(t,e){for(var i=[],a=0,s=e;a<s.length;a++){var o=s[a].replace(r.K,""),l=(0,n.q)(t,o);l&&i.push(l)}return i}},722:(t,e,i)=>{"use strict";i.d(e,{B:()=>l});var r=i(9400),n=i(1626);function a(t,e,i){for(var a={locale:""},s=0,o=e;s<o.length;s++){var l=o[s],h=l.replace(r.K,""),u=(0,n.q)(t,h);if(u)return a.locale=u,l!==h&&(a.extension=l.slice(h.length+1,l.length)),a}return a.locale=i(),a}function s(t,e,i){var a,s={},o={},l={},h=new Set;t.forEach((function(t){var e=new Intl.Locale(t).minimize().toString(),i=Intl.getCanonicalLocales(t)[0]||t;s[e]=t,o[t]=t,l[i]=t,h.add(e),h.add(t),h.add(i)}));for(var u=0,c=e;u<c.length;u++){var p=c[u];if(a)break;var d=p.replace(r.K,"");if(t.has(d)){a=d;break}if(h.has(d)){a=d;break}var f=new Intl.Locale(d),g=f.maximize().toString(),m=f.minimize().toString();if(h.has(m)){a=m;break}a=(0,n.q)(h,g)}return a?{locale:o[a]||l[a]||s[a]||a}:{locale:i()}}function o(t,e){(0,r.V)(2===e.length,"key must have 2 elements");var i=t.length,n="-".concat(e,"-"),a=t.indexOf(n);if(-1!==a){for(var s=a+4,o=s,l=s,h=!1;!h;){var u=t.indexOf("-",l);2===(-1===u?i-l:u-l)?h=!0:-1===u?(o=i,h=!0):(o=u,l=u+1)}return t.slice(s,o)}if(n="-".concat(e),-1!==(a=t.indexOf(n))&&a+3===i)return""}function l(t,e,i,n,l,h){for(var u,c=(u="lookup"===i.localeMatcher?a(t,e,h):s(t,e,h)).locale,p={locale:"",dataLocale:c},d="-u",f=0,g=n;f<g.length;f++){var m=g[f];(0,r.V)(c in l,"Missing locale data for ".concat(c));var A=l[c];(0,r.V)("object"==typeof A&&null!==A,"locale data ".concat(m," must be an object"));var v=A[m];(0,r.V)(Array.isArray(v),"keyLocaleData for ".concat(m," must be an array"));var y=v[0];(0,r.V)("string"==typeof y||null===y,"value must be string or null but got ".concat(typeof y," in key ").concat(m));var _="";if(u.extension){var b=o(u.extension,m);void 0!==b&&(""!==b?~v.indexOf(b)&&(y=b,_="-".concat(m,"-").concat(y)):~b.indexOf("true")&&(y="true",_="-".concat(m)))}if(m in i){var x=i[m];(0,r.V)("string"==typeof x||null==x,"optionsValue must be String, Undefined or Null"),~v.indexOf(x)&&x!==y&&(y=x,_="")}p[m]=y,d+=_}if(d.length>2){var T=c.indexOf("-x-");if(-1===T)c+=d;else{var E=c.slice(0,T),S=c.slice(T,c.length);c=E+d+S}c=Intl.getCanonicalLocales(c)[0]}return p.locale=c,p}},9400:(t,e,i)=>{"use strict";i.d(e,{K:()=>r,V:()=>n});var r=/-u(?:-[0-9a-z]{2,8})+/gi;function n(t,e,i){if(void 0===i&&(i=Error),!t)throw new i(e)}},7343:(t,e,i)=>{"use strict";function r(t){return Intl.getCanonicalLocales(t)}i.r(e),i.d(e,{LookupSupportedLocales:()=>a.s,ResolveLocale:()=>n.B,match:()=>s});var n=i(722),a=i(234);function s(t,e,i,a){var s=e.reduce((function(t,e){return t.add(e),t}),new Set);return(0,n.B)(s,r(t),{localeMatcher:(null==a?void 0:a.algorithm)||"best fit"},[],{},(function(){return i})).locale}},1232:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldPolyfill=void 0;var r=i(7343),n=i(6673);function a(t){if(!t)return!0;var e=Array.isArray(t)?t:[t];return Intl.PluralRules.supportedLocalesOf(e).length===e.length}function s(t){if(void 0===t&&(t="en"),!("PluralRules"in Intl)||"one"===new Intl.PluralRules("en",{minimumFractionDigits:2}).select(1)||!a(t))return t?(0,r.match)([t],n.supportedLocales,"en"):void 0}e.shouldPolyfill=s},6673:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.supportedLocales=void 0,e.supportedLocales=["af","ak","am","an","ar","ars","as","asa","ast","az","bal","be","bem","bez","bg","bho","bm","bn","bo","br","brx","bs","ca","ce","ceb","cgg","chr","ckb","cs","cy","da","de","doi","dsb","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fil","fo","fr","fur","fy","ga","gd","gl","gsw","gu","guw","gv","ha","haw","he","hi","hnj","hr","hsb","hu","hy","ia","id","ig","ii","io","is","it","iu","ja","jbo","jgo","jmc","jv","jw","ka","kab","kaj","kcg","kde","kea","kk","kkj","kl","km","kn","ko","ks","ksb","ksh","ku","kw","ky","lag","lb","lg","lij","lkt","ln","lo","lt","lv","mas","mg","mgo","mk","ml","mn","mo","mr","ms","mt","my","nah","naq","nb","nd","ne","nl","nn","nnh","no","nqo","nr","nso","ny","nyn","om","or","os","osa","pa","pap","pcm","pl","prg","ps","pt-PT","pt","rm","ro","rof","ru","rwk","sah","saq","sat","sc","scn","sd","sdh","se","seh","ses","sg","sh","shi","si","sk","sl","sma","smi","smj","smn","sms","sn","so","sq","sr","ss","ssy","st","su","sv","sw","syr","ta","te","teo","th","ti","tig","tk","tl","tn","to","tpi","tr","ts","tzm","ug","uk","und","ur","uz","ve","vi","vo","vun","wa","wae","wo","xh","xog","yi","yo","yue","zh","zu"]},6317:(t,e,i)=>{"use strict";var r=i(6535),n=i(9829),a=n(r("String.prototype.indexOf"));t.exports=function(t,e){var i=r(t,!!e);return"function"==typeof i&&a(t,".prototype.")>-1?n(i):i}},9829:(t,e,i)=>{"use strict";var r=i(9477),n=i(6535),a=i(1451),s=i(9525),o=n("%Function.prototype.apply%"),l=n("%Function.prototype.call%"),h=n("%Reflect.apply%",!0)||r.call(l,o),u=i(4749),c=n("%Math.max%");t.exports=function(t){if("function"!=typeof t)throw new s("a function is required");var e=h(r,l,arguments);return a(e,1+c(0,t.length-(arguments.length-1)),!0)};var p=function(){return h(r,o,arguments)};u?u(t.exports,"apply",{value:p}):t.exports.apply=p},7675:(t,e,i)=>{"use strict";var r=i(4749),n=i(1902),a=i(9525),s=i(9857);t.exports=function(t,e,i){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new a("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,h=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],c=!!s&&s(t,e);if(r)r(t,e,{configurable:null===h&&c?c.configurable:!h,enumerable:null===o&&c?c.enumerable:!o,value:i,writable:null===l&&c?c.writable:!l});else{if(!u&&(o||l||h))throw new n("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=i}}},2840:t=>{"use strict";function e(t,e,r){r=r||2;var a,s,o,l,u,c,p,d=e&&e.length,f=d?e[0]*r:t.length,g=i(t,0,f,r,!0),m=[];if(!g||g.next===g.prev)return m;if(d&&(g=h(t,e,g,r)),t.length>80*r){a=o=t[0],s=l=t[1];for(var A=r;A<f;A+=r)(u=t[A])<a&&(a=u),(c=t[A+1])<s&&(s=c),u>o&&(o=u),c>l&&(l=c);p=0!==(p=Math.max(o-a,l-s))?32767/p:0}return n(g,m,r,a,s,p,0),m}function i(t,e,i,r,n){var a,s;if(n===M(t,e,i,r)>0)for(a=e;a<i;a+=r)s=R(a,t[a],t[a+1],s);else for(a=i-r;a>=e;a-=r)s=R(a,t[a],t[a+1],s);return s&&b(s,s.next)&&(C(s),s=s.next),s}function r(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!b(r,r.next)&&0!==_(r.prev,r,r.next))r=r.next;else{if(C(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function n(t,e,i,h,u,c,p){if(t){!p&&c&&f(t,h,u,c);for(var d,g,m=t;t.prev!==t.next;)if(d=t.prev,g=t.next,c?s(t,h,u,c):a(t))e.push(d.i/i|0),e.push(t.i/i|0),e.push(g.i/i|0),C(t),t=g.next,m=g.next;else if((t=g)===m){p?1===p?n(t=o(r(t),e,i),e,i,h,u,c,2):2===p&&l(t,e,i,h,u,c):n(r(t),e,i,h,u,c,1);break}}}function a(t){var e=t.prev,i=t,r=t.next;if(_(e,i,r)>=0)return!1;for(var n=e.x,a=i.x,s=r.x,o=e.y,l=i.y,h=r.y,u=n<a?n<s?n:s:a<s?a:s,c=o<l?o<h?o:h:l<h?l:h,p=n>a?n>s?n:s:a>s?a:s,d=o>l?o>h?o:h:l>h?l:h,f=r.next;f!==e;){if(f.x>=u&&f.x<=p&&f.y>=c&&f.y<=d&&v(n,o,a,l,s,h,f.x,f.y)&&_(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function s(t,e,i,r){var n=t.prev,a=t,s=t.next;if(_(n,a,s)>=0)return!1;for(var o=n.x,l=a.x,h=s.x,u=n.y,c=a.y,p=s.y,d=o<l?o<h?o:h:l<h?l:h,f=u<c?u<p?u:p:c<p?c:p,g=o>l?o>h?o:h:l>h?l:h,A=u>c?u>p?u:p:c>p?c:p,y=m(d,f,e,i,r),b=m(g,A,e,i,r),x=t.prevZ,T=t.nextZ;x&&x.z>=y&&T&&T.z<=b;){if(x.x>=d&&x.x<=g&&x.y>=f&&x.y<=A&&x!==n&&x!==s&&v(o,u,l,c,h,p,x.x,x.y)&&_(x.prev,x,x.next)>=0)return!1;if(x=x.prevZ,T.x>=d&&T.x<=g&&T.y>=f&&T.y<=A&&T!==n&&T!==s&&v(o,u,l,c,h,p,T.x,T.y)&&_(T.prev,T,T.next)>=0)return!1;T=T.nextZ}for(;x&&x.z>=y;){if(x.x>=d&&x.x<=g&&x.y>=f&&x.y<=A&&x!==n&&x!==s&&v(o,u,l,c,h,p,x.x,x.y)&&_(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;T&&T.z<=b;){if(T.x>=d&&T.x<=g&&T.y>=f&&T.y<=A&&T!==n&&T!==s&&v(o,u,l,c,h,p,T.x,T.y)&&_(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function o(t,e,i){var n=t;do{var a=n.prev,s=n.next.next;!b(a,s)&&x(a,n,n.next,s)&&w(a,s)&&w(s,a)&&(e.push(a.i/i|0),e.push(n.i/i|0),e.push(s.i/i|0),C(n),C(n.next),n=t=s),n=n.next}while(n!==t);return r(n)}function l(t,e,i,a,s,o){var l=t;do{for(var h=l.next.next;h!==l.prev;){if(l.i!==h.i&&y(l,h)){var u=I(l,h);return l=r(l,l.next),u=r(u,u.next),n(l,e,i,a,s,o,0),void n(u,e,i,a,s,o,0)}h=h.next}l=l.next}while(l!==t)}function h(t,e,r,n){var a,s,o,l=[];for(a=0,s=e.length;a<s;a++)(o=i(t,e[a]*n,a<s-1?e[a+1]*n:t.length,n,!1))===o.next&&(o.steiner=!0),l.push(A(o));for(l.sort(u),a=0;a<l.length;a++)r=c(l[a],r);return r}function u(t,e){return t.x-e.x}function c(t,e){var i=p(t,e);if(!i)return e;var n=I(i,t);return r(n,n.next),r(i,i.next)}function p(t,e){var i,r=e,n=t.x,a=t.y,s=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var o=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o<=n&&o>s&&(s=o,i=r.x<r.next.x?r:r.next,o===n))return i}r=r.next}while(r!==e);if(!i)return null;var l,h=i,u=i.x,c=i.y,p=1/0;r=i;do{n>=r.x&&r.x>=u&&n!==r.x&&v(a<c?n:s,a,u,c,a<c?s:n,a,r.x,r.y)&&(l=Math.abs(a-r.y)/(n-r.x),w(r,t)&&(l<p||l===p&&(r.x>i.x||r.x===i.x&&d(i,r)))&&(i=r,p=l)),r=r.next}while(r!==h);return i}function d(t,e){return _(t.prev,t,e.prev)<0&&_(e.next,t,t.next)<0}function f(t,e,i,r){var n=t;do{0===n.z&&(n.z=m(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,g(n)}function g(t){var e,i,r,n,a,s,o,l,h=1;do{for(i=t,t=null,a=null,s=0;i;){for(s++,r=i,o=0,e=0;e<h&&(o++,r=r.nextZ);e++);for(l=h;o>0||l>0&&r;)0!==o&&(0===l||!r||i.z<=r.z)?(n=i,i=i.nextZ,o--):(n=r,r=r.nextZ,l--),a?a.nextZ=n:t=n,n.prevZ=a,a=n;i=r}a.nextZ=null,h*=2}while(s>1);return t}function m(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*n|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*n|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function A(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function v(t,e,i,r,n,a,s,o){return(n-s)*(e-o)>=(t-s)*(a-o)&&(t-s)*(r-o)>=(i-s)*(e-o)&&(i-s)*(a-o)>=(n-s)*(r-o)}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!S(t,e)&&(w(t,e)&&w(e,t)&&P(t,e)&&(_(t.prev,t,e.prev)||_(t,e.prev,e))||b(t,e)&&_(t.prev,t,t.next)>0&&_(e.prev,e,e.next)>0)}function _(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function b(t,e){return t.x===e.x&&t.y===e.y}function x(t,e,i,r){var n=E(_(t,e,i)),a=E(_(t,e,r)),s=E(_(i,r,t)),o=E(_(i,r,e));return n!==a&&s!==o||(!(0!==n||!T(t,i,e))||(!(0!==a||!T(t,r,e))||(!(0!==s||!T(i,t,r))||!(0!==o||!T(i,e,r)))))}function T(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function E(t){return t>0?1:t<0?-1:0}function S(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&x(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}function w(t,e){return _(t.prev,t,t.next)<0?_(t,e,t.next)>=0&&_(t,t.prev,e)>=0:_(t,e,t.prev)<0||_(t,t.next,e)<0}function P(t,e){var i=t,r=!1,n=(t.x+e.x)/2,a=(t.y+e.y)/2;do{i.y>a!=i.next.y>a&&i.next.y!==i.y&&n<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}function I(t,e){var i=new O(t.i,t.x,t.y),r=new O(e.i,e.x,e.y),n=t.next,a=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,a.next=r,r.prev=a,r}function R(t,e,i,r){var n=new O(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function C(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function O(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function M(t,e,i,r){for(var n=0,a=e,s=i-r;a<i;a+=r)n+=(t[s]-t[a])*(t[a+1]+t[s+1]),s=a;return n}t.exports=e,t.exports.default=e,e.deviation=function(t,e,i,r){var n=e&&e.length,a=n?e[0]*i:t.length,s=Math.abs(M(t,0,a,i));if(n)for(var o=0,l=e.length;o<l;o++){var h=e[o]*i,u=o<l-1?e[o+1]*i:t.length;s-=Math.abs(M(t,h,u,i))}var c=0;for(o=0;o<r.length;o+=3){var p=r[o]*i,d=r[o+1]*i,f=r[o+2]*i;c+=Math.abs((t[p]-t[f])*(t[d+1]-t[p+1])-(t[p]-t[d])*(t[f+1]-t[p+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},e.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0,n=0;n<t.length;n++){for(var a=0;a<t[n].length;a++)for(var s=0;s<e;s++)i.vertices.push(t[n][a][s]);n>0&&(r+=t[n-1].length,i.holes.push(r))}return i}},4749:(t,e,i)=>{"use strict";var r=i(6535)("%Object.defineProperty%",!0)||!1;if(r)try{r({},"a",{value:1})}catch(n){r=!1}t.exports=r},6235:t=>{"use strict";t.exports=EvalError},209:t=>{"use strict";t.exports=Error},2460:t=>{"use strict";t.exports=RangeError},7080:t=>{"use strict";t.exports=ReferenceError},1902:t=>{"use strict";t.exports=SyntaxError},9525:t=>{"use strict";t.exports=TypeError},3451:t=>{"use strict";t.exports=URIError},9846:t=>{"use strict";var e=Object.prototype.hasOwnProperty,i="~";function r(){}function n(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function a(t,e,r,a,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new n(r,a||t,s),l=i?i+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],o]:t._events[l].push(o):(t._events[l]=o,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),o.prototype.eventNames=function(){var t,r,n=[];if(0===this._eventsCount)return n;for(r in t=this._events)e.call(t,r)&&n.push(i?r.slice(1):r);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},o.prototype.listeners=function(t){var e=i?i+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,a=r.length,s=new Array(a);n<a;n++)s[n]=r[n].fn;return s},o.prototype.listenerCount=function(t){var e=i?i+t:t,r=this._events[e];return r?r.fn?1:r.length:0},o.prototype.emit=function(t,e,r,n,a,s){var o=i?i+t:t;if(!this._events[o])return!1;var l,h,u=this._events[o],c=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,n),!0;case 5:return u.fn.call(u.context,e,r,n,a),!0;case 6:return u.fn.call(u.context,e,r,n,a,s),!0}for(h=1,l=new Array(c-1);h<c;h++)l[h-1]=arguments[h];u.fn.apply(u.context,l)}else{var p,d=u.length;for(h=0;h<d;h++)switch(u[h].once&&this.removeListener(t,u[h].fn,void 0,!0),c){case 1:u[h].fn.call(u[h].context);break;case 2:u[h].fn.call(u[h].context,e);break;case 3:u[h].fn.call(u[h].context,e,r);break;case 4:u[h].fn.call(u[h].context,e,r,n);break;default:if(!l)for(p=1,l=new Array(c-1);p<c;p++)l[p-1]=arguments[p];u[h].fn.apply(u[h].context,l)}}return!0},o.prototype.on=function(t,e,i){return a(this,t,e,i,!1)},o.prototype.once=function(t,e,i){return a(this,t,e,i,!0)},o.prototype.removeListener=function(t,e,r,n){var a=i?i+t:t;if(!this._events[a])return this;if(!e)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==e||n&&!o.once||r&&o.context!==r||s(this,a);else{for(var l=0,h=[],u=o.length;l<u;l++)(o[l].fn!==e||n&&!o[l].once||r&&o[l].context!==r)&&h.push(o[l]);h.length?this._events[a]=1===h.length?h[0]:h:s(this,a)}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=i,o.EventEmitter=o,t.exports=o},4497:t=>{function e(t,e){var i=e&&e.cache?e.cache:c,r=e&&e.serializer?e.serializer:h;return(e&&e.strategy?e.strategy:s)(t,{cache:i,serializer:r})}function i(t){return null==t||"number"==typeof t||"boolean"==typeof t}function r(t,e,r,n){var a=i(n)?n:r(n),s=e.get(a);return void 0===s&&(s=t.call(this,n),e.set(a,s)),s}function n(t,e,i){var r=Array.prototype.slice.call(arguments,3),n=i(r),a=e.get(n);return void 0===a&&(a=t.apply(this,r),e.set(n,a)),a}function a(t,e,i,r,n){return i.bind(e,t,r,n)}function s(t,e){return a(t,this,1===t.length?r:n,e.cache.create(),e.serializer)}function o(t,e){return a(t,this,n,e.cache.create(),e.serializer)}function l(t,e){return a(t,this,r,e.cache.create(),e.serializer)}function h(){return JSON.stringify(arguments)}function u(){this.cache=Object.create(null)}u.prototype.has=function(t){return t in this.cache},u.prototype.get=function(t){return this.cache[t]},u.prototype.set=function(t,e){this.cache[t]=e};var c={create:function(){return new u}};t.exports=e,t.exports.strategies={variadic:o,monadic:l}},7787:t=>{"use strict";var e="Function.prototype.bind called on incompatible ",i=Object.prototype.toString,r=Math.max,n="[object Function]",a=function(t,e){for(var i=[],r=0;r<t.length;r+=1)i[r]=t[r];for(var n=0;n<e.length;n+=1)i[n+t.length]=e[n];return i},s=function(t,e){for(var i=[],r=e||0,n=0;r<t.length;r+=1,n+=1)i[n]=t[r];return i},o=function(t,e){for(var i="",r=0;r<t.length;r+=1)i+=t[r],r+1<t.length&&(i+=e);return i};t.exports=function(t){var l=this;if("function"!=typeof l||i.apply(l)!==n)throw new TypeError(e+l);for(var h,u=s(arguments,1),c=function(){if(this instanceof h){var e=l.apply(this,a(u,arguments));return Object(e)===e?e:this}return l.apply(t,a(u,arguments))},p=r(0,l.length-u.length),d=[],f=0;f<p;f++)d[f]="$"+f;if(h=Function("binder","return function ("+o(d,",")+"){ return binder.apply(this,arguments); }")(c),l.prototype){var g=function(){};g.prototype=l.prototype,h.prototype=new g,g.prototype=null}return h}},9477:(t,e,i)=>{"use strict";var r=i(7787);t.exports=Function.prototype.bind||r},6535:(t,e,i)=>{"use strict";var r,n=i(209),a=i(6235),s=i(2460),o=i(7080),l=i(1902),h=i(9525),u=i(3451),c=Function,p=function(t){try{return c('"use strict"; return ('+t+").constructor;")()}catch(e){}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch(k){d=null}var f=function(){throw new h},g=d?function(){try{return f}catch(t){try{return d(arguments,"callee").get}catch(e){return f}}}():f,m=i(6445)(),A=i(6274)(),v=Object.getPrototypeOf||(A?function(t){return t.__proto__}:null),y={},_="undefined"!=typeof Uint8Array&&v?v(Uint8Array):r,b={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":m&&v?v([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":a,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":c,"%GeneratorFunction%":y,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&v?v(v([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&m&&v?v((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":s,"%ReferenceError%":o,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&m&&v?v((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&v?v(""[Symbol.iterator]()):r,"%Symbol%":m?Symbol:r,"%SyntaxError%":l,"%ThrowTypeError%":g,"%TypedArray%":_,"%TypeError%":h,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(v)try{null.error}catch(k){var x=v(v(k));b["%Error.prototype%"]=x}var T=function t(e){var i;if("%AsyncFunction%"===e)i=p("async function () {}");else if("%GeneratorFunction%"===e)i=p("function* () {}");else if("%AsyncGeneratorFunction%"===e)i=p("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(i=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var n=t("%AsyncGenerator%");n&&v&&(i=v(n.prototype))}return b[e]=i,i},E={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=i(9477),w=i(2931),P=S.call(Function.call,Array.prototype.concat),I=S.call(Function.apply,Array.prototype.splice),R=S.call(Function.call,String.prototype.replace),C=S.call(Function.call,String.prototype.slice),O=S.call(Function.call,RegExp.prototype.exec),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,B=/\\(\\)?/g,D=function(t){var e=C(t,0,1),i=C(t,-1);if("%"===e&&"%"!==i)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===i&&"%"!==e)throw new l("invalid intrinsic syntax, expected opening `%`");var r=[];return R(t,M,(function(t,e,i,n){r[r.length]=i?R(n,B,"$1"):e||t})),r},L=function(t,e){var i,r=t;if(w(E,r)&&(r="%"+(i=E[r])[0]+"%"),w(b,r)){var n=b[r];if(n===y&&(n=T(r)),void 0===n&&!e)throw new h("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:n}}throw new l("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new h("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new h('"allowMissing" argument must be a boolean');if(null===O(/^%?[^%]*%?$/,t))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=D(t),r=i.length>0?i[0]:"",n=L("%"+r+"%",e),a=n.name,s=n.value,o=!1,u=n.alias;u&&(r=u[0],I(i,P([0,1],u)));for(var c=1,p=!0;c<i.length;c+=1){var f=i[c],g=C(f,0,1),m=C(f,-1);if(('"'===g||"'"===g||"`"===g||'"'===m||"'"===m||"`"===m)&&g!==m)throw new l("property names with quotes must have matching quotes");if("constructor"!==f&&p||(o=!0),w(b,a="%"+(r+="."+f)+"%"))s=b[a];else if(null!=s){if(!(f in s)){if(!e)throw new h("base intrinsic for "+t+" exists, but the property is not available.");return}if(d&&c+1>=i.length){var A=d(s,f);s=(p=!!A)&&"get"in A&&!("originalValue"in A.get)?A.get:s[f]}else p=w(s,f),s=s[f];p&&!o&&(b[a]=s)}}return s}},9857:(t,e,i)=>{"use strict";var r=i(6535)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(n){r=null}t.exports=r},7214:(t,e,i)=>{"use strict";var r=i(4749),n=function(){return!!r};n.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(t){return!0}},t.exports=n},6274:t=>{"use strict";var e={__proto__:null,foo:{}},i=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof i)}},6445:(t,e,i)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,n=i(9071);t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&n())))}},9071:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),i=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(i))return!1;var r=42;for(e in t[e]=r,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(t,e);if(a.value!==r||!0!==a.enumerable)return!1}return!0}},2931:(t,e,i)=>{"use strict";var r=Function.prototype.call,n=Object.prototype.hasOwnProperty,a=i(9477);t.exports=a.call(r,n)},2449:(t,e,i)=>{var{webm:r,mp4:n}=i(3621),a=()=>"undefined"!=typeof navigator&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,s=()=>"wakeLock"in navigator;class o{constructor(){if(this.enabled=!1,s()){this._wakeLock=null;var t=()=>{null!==this._wakeLock&&"visible"===document.visibilityState&&this.enable()};document.addEventListener("visibilitychange",t),document.addEventListener("fullscreenchange",t)}else a()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",r),this._addSourceToVideo(this.noSleepVideo,"mp4",n),this.noSleepVideo.addEventListener("loadedmetadata",(()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",(()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}))})))}_addSourceToVideo(t,e,i){var r=document.createElement("source");r.src=i,r.type=`video/${e}`,t.appendChild(r)}get isEnabled(){return this.enabled}enable(){return s()?navigator.wakeLock.request("screen").then((t=>{this._wakeLock=t,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",(()=>{console.log("Wake Lock released.")}))})).catch((t=>{throw this.enabled=!1,console.error(`${t.name}, ${t.message}`),t})):a()?(this.disable(),console.warn("\n        NoSleep enabled for older iOS devices. This can interrupt\n        active or long-running network requests from completing successfully.\n        See https://github.com/richtr/NoSleep.js/issues/15 for more details.\n      "),this.noSleepTimer=window.setInterval((()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))}),15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then((t=>(this.enabled=!0,t))).catch((t=>{throw this.enabled=!1,t}))}disable(){s()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):a()?this.noSleepTimer&&(console.warn("\n          NoSleep now disabled for older iOS devices.\n        "),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}t.exports=o},3621:t=>{t.exports={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"}},9726:t=>{"use strict";var e=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function n(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function a(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(n){return!1}}t.exports=a()?Object.assign:function(t,a){for(var s,o,l=n(t),h=1;h<arguments.length;h++){for(var u in s=Object(arguments[h]))i.call(s,u)&&(l[u]=s[u]);if(e){o=e(s);for(var c=0;c<o.length;c++)r.call(s,o[c])&&(l[o[c]]=s[o[c]])}}return l}},4869:(t,e,i)=>{var r="function"==typeof Map&&Map.prototype,n=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=r&&n&&"function"==typeof n.get?n.get:null,s=r&&Map.prototype.forEach,o="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,h=o&&l&&"function"==typeof l.get?l.get:null,u=o&&Set.prototype.forEach,c="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,g=Object.prototype.toString,m=Function.prototype.toString,A=String.prototype.match,v=String.prototype.slice,y=String.prototype.replace,_=String.prototype.toUpperCase,b=String.prototype.toLowerCase,x=RegExp.prototype.test,T=Array.prototype.concat,E=Array.prototype.join,S=Array.prototype.slice,w=Math.floor,P="function"==typeof BigInt?BigInt.prototype.valueOf:null,I=Object.getOwnPropertySymbols,R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,C="function"==typeof Symbol&&"object"==typeof Symbol.iterator,O="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===C||"symbol")?Symbol.toStringTag:null,M=Object.prototype.propertyIsEnumerable,B=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function D(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||x.call(/e/,e))return e;var i=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var r=t<0?-w(-t):w(t);if(r!==t){var n=String(r),a=v.call(e,n.length+1);return y.call(n,i,"$&_")+"."+y.call(y.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y.call(e,i,"$&_")}var L=i(2290),k=L.custom,N=z(k)?k:null;function F(t,e,i){var r="double"===(i.quoteStyle||e)?'"':"'";return r+t+r}function G(t){return y.call(String(t),/"/g,"&quot;")}function U(t){return!("[object Array]"!==K(t)||O&&"object"==typeof t&&O in t)}function H(t){return!("[object Date]"!==K(t)||O&&"object"==typeof t&&O in t)}function X(t){return!("[object RegExp]"!==K(t)||O&&"object"==typeof t&&O in t)}function j(t){return!("[object Error]"!==K(t)||O&&"object"==typeof t&&O in t)}function W(t){return!("[object String]"!==K(t)||O&&"object"==typeof t&&O in t)}function V(t){return!("[object Number]"!==K(t)||O&&"object"==typeof t&&O in t)}function Y(t){return!("[object Boolean]"!==K(t)||O&&"object"==typeof t&&O in t)}function z(t){if(C)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!R)return!1;try{return R.call(t),!0}catch(e){}return!1}function q(t){if(!t||"object"!=typeof t||!P)return!1;try{return P.call(t),!0}catch(e){}return!1}t.exports=function t(e,r,n,o){var l=r||{};if(Z(l,"quoteStyle")&&"single"!==l.quoteStyle&&"double"!==l.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Z(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var c=!Z(l,"customInspect")||l.customInspect;if("boolean"!=typeof c&&"symbol"!==c)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Z(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Z(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var p=l.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return st(e,l);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var d=String(e);return p?D(e,d):d}if("bigint"==typeof e){var g=String(e)+"n";return p?D(e,g):g}var m=void 0===l.depth?5:l.depth;if(void 0===n&&(n=0),n>=m&&m>0&&"object"==typeof e)return U(e)?"[Array]":"[Object]";var A=pt(l,n);if(void 0===o)o=[];else if($(o,e)>=0)return"[Circular]";function _(e,i,r){if(i&&(o=S.call(o)).push(i),r){var a={depth:l.depth};return Z(l,"quoteStyle")&&(a.quoteStyle=l.quoteStyle),t(e,a,n+1,o)}return t(e,l,n+1,o)}if("function"==typeof e&&!X(e)){var x=J(e),w=ft(e,_);return"[Function"+(x?": "+x:" (anonymous)")+"]"+(w.length>0?" { "+E.call(w,", ")+" }":"")}if(z(e)){var I=C?y.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):R.call(e);return"object"!=typeof e||C?I:lt(I)}if(at(e)){for(var k="<"+b.call(String(e.nodeName)),Q=e.attributes||[],ot=0;ot<Q.length;ot++)k+=" "+Q[ot].name+"="+F(G(Q[ot].value),"double",l);return k+=">",e.childNodes&&e.childNodes.length&&(k+="..."),k+="</"+b.call(String(e.nodeName))+">"}if(U(e)){if(0===e.length)return"[]";var gt=ft(e,_);return A&&!ct(gt)?"["+dt(gt,A)+"]":"[ "+E.call(gt,", ")+" ]"}if(j(e)){var mt=ft(e,_);return"cause"in Error.prototype||!("cause"in e)||M.call(e,"cause")?0===mt.length?"["+String(e)+"]":"{ ["+String(e)+"] "+E.call(mt,", ")+" }":"{ ["+String(e)+"] "+E.call(T.call("[cause]: "+_(e.cause),mt),", ")+" }"}if("object"==typeof e&&c){if(N&&"function"==typeof e[N]&&L)return L(e,{depth:m-n});if("symbol"!==c&&"function"==typeof e.inspect)return e.inspect()}if(tt(e)){var At=[];return s&&s.call(e,(function(t,i){At.push(_(i,e,!0)+" => "+_(t,e))})),ut("Map",a.call(e),At,A)}if(rt(e)){var vt=[];return u&&u.call(e,(function(t){vt.push(_(t,e))})),ut("Set",h.call(e),vt,A)}if(et(e))return ht("WeakMap");if(nt(e))return ht("WeakSet");if(it(e))return ht("WeakRef");if(V(e))return lt(_(Number(e)));if(q(e))return lt(_(P.call(e)));if(Y(e))return lt(f.call(e));if(W(e))return lt(_(String(e)));if("undefined"!=typeof window&&e===window)return"{ [object Window] }";if(e===i.g)return"{ [object globalThis] }";if(!H(e)&&!X(e)){var yt=ft(e,_),_t=B?B(e)===Object.prototype:e instanceof Object||e.constructor===Object,bt=e instanceof Object?"":"null prototype",xt=!_t&&O&&Object(e)===e&&O in e?v.call(K(e),8,-1):bt?"Object":"",Tt=(_t||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(xt||bt?"["+E.call(T.call([],xt||[],bt||[]),": ")+"] ":"");return 0===yt.length?Tt+"{}":A?Tt+"{"+dt(yt,A)+"}":Tt+"{ "+E.call(yt,", ")+" }"}return String(e)};var Q=Object.prototype.hasOwnProperty||function(t){return t in this};function Z(t,e){return Q.call(t,e)}function K(t){return g.call(t)}function J(t){if(t.name)return t.name;var e=A.call(m.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function $(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1}function tt(t){if(!a||!t||"object"!=typeof t)return!1;try{a.call(t);try{h.call(t)}catch(e){return!0}return t instanceof Map}catch(i){}return!1}function et(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t,c);try{p.call(t,p)}catch(e){return!0}return t instanceof WeakMap}catch(i){}return!1}function it(t){if(!d||!t||"object"!=typeof t)return!1;try{return d.call(t),!0}catch(e){}return!1}function rt(t){if(!h||!t||"object"!=typeof t)return!1;try{h.call(t);try{a.call(t)}catch(e){return!0}return t instanceof Set}catch(i){}return!1}function nt(t){if(!p||!t||"object"!=typeof t)return!1;try{p.call(t,p);try{c.call(t,c)}catch(e){return!0}return t instanceof WeakSet}catch(i){}return!1}function at(t){return!(!t||"object"!=typeof t)&&("undefined"!=typeof HTMLElement&&t instanceof HTMLElement||"string"==typeof t.nodeName&&"function"==typeof t.getAttribute)}function st(t,e){if(t.length>e.maxStringLength){var i=t.length-e.maxStringLength,r="... "+i+" more character"+(i>1?"s":"");return st(v.call(t,0,e.maxStringLength),e)+r}return F(y.call(y.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ot),"single",e)}function ot(t){var e=t.charCodeAt(0),i={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return i?"\\"+i:"\\x"+(e<16?"0":"")+_.call(e.toString(16))}function lt(t){return"Object("+t+")"}function ht(t){return t+" { ? }"}function ut(t,e,i,r){return t+" ("+e+") {"+(r?dt(i,r):E.call(i,", "))+"}"}function ct(t){for(var e=0;e<t.length;e++)if($(t[e],"\n")>=0)return!1;return!0}function pt(t,e){var i;if("\t"===t.indent)i="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;i=E.call(Array(t.indent+1)," ")}return{base:i,prev:E.call(Array(e+1),i)}}function dt(t,e){if(0===t.length)return"";var i="\n"+e.prev+e.base;return i+E.call(t,","+i)+"\n"+e.prev}function ft(t,e){var i=U(t),r=[];if(i){r.length=t.length;for(var n=0;n<t.length;n++)r[n]=Z(t,n)?e(t[n],t):""}var a,s="function"==typeof I?I(t):[];if(C){a={};for(var o=0;o<s.length;o++)a["$"+s[o]]=s[o]}for(var l in t)Z(t,l)&&(i&&String(Number(l))===l&&l<t.length||C&&a["$"+l]instanceof Symbol||(x.call(/[^\w$]/,l)?r.push(e(l,t)+": "+e(t[l],t)):r.push(l+": "+e(t[l],t))));if("function"==typeof I)for(var h=0;h<s.length;h++)M.call(t,s[h])&&r.push("["+e(s[h])+"]: "+e(t[s[h]],t));return r}},1451:(t,e,i)=>{"use strict";var r=i(6535),n=i(7675),a=i(7214)(),s=i(9857),o=i(9525),l=r("%Math.floor%");t.exports=function(t,e){if("function"!=typeof t)throw new o("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||l(e)!==e)throw new o("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],r=!0,h=!0;if("length"in t&&s){var u=s(t,"length");u&&!u.configurable&&(r=!1),u&&!u.writable&&(h=!1)}return(r||h||!i)&&(a?n(t,"length",e,!0,!0):n(t,"length",e)),t}},9078:(t,e,i)=>{"use strict";var r=i(6535),n=i(6317),a=i(4869),s=i(9525),o=r("%WeakMap%",!0),l=r("%Map%",!0),h=n("WeakMap.prototype.get",!0),u=n("WeakMap.prototype.set",!0),c=n("WeakMap.prototype.has",!0),p=n("Map.prototype.get",!0),d=n("Map.prototype.set",!0),f=n("Map.prototype.has",!0),g=function(t,e){for(var i,r=t;null!==(i=r.next);r=i)if(i.key===e)return r.next=i.next,i.next=t.next,t.next=i,i},m=function(t,e){var i=g(t,e);return i&&i.value},A=function(t,e,i){var r=g(t,e);r?r.value=i:t.next={key:e,next:t.next,value:i}},v=function(t,e){return!!g(t,e)};t.exports=function(){var t,e,i,r={assert:function(t){if(!r.has(t))throw new s("Side channel does not contain "+a(t))},get:function(r){if(o&&r&&("object"==typeof r||"function"==typeof r)){if(t)return h(t,r)}else if(l){if(e)return p(e,r)}else if(i)return m(i,r)},has:function(r){if(o&&r&&("object"==typeof r||"function"==typeof r)){if(t)return c(t,r)}else if(l){if(e)return f(e,r)}else if(i)return v(i,r);return!1},set:function(r,n){o&&r&&("object"==typeof r||"function"==typeof r)?(t||(t=new o),u(t,r,n)):l?(e||(e=new l),d(e,r,n)):(i||(i={key:{},next:null}),A(i,r,n))}};return r}},2008:function(t,e,i){var r;t=i.nmd(t),function(n){e&&e.nodeType,t&&t.nodeType;var a="object"==typeof i.g&&i.g;a.global!==a&&a.window!==a&&a.self;var s,o=2147483647,l=36,h=1,u=26,c=38,p=700,d=72,f=128,g="-",m=/^xn--/,A=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=l-h,b=Math.floor,x=String.fromCharCode;function T(t){throw new RangeError(y[t])}function E(t,e){for(var i=t.length,r=[];i--;)r[i]=e(t[i]);return r}function S(t,e){var i=t.split("@"),r="";return i.length>1&&(r=i[0]+"@",t=i[1]),r+E((t=t.replace(v,".")).split("."),e).join(".")}function w(t){for(var e,i,r=[],n=0,a=t.length;n<a;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<a?56320==(64512&(i=t.charCodeAt(n++)))?r.push(((1023&e)<<10)+(1023&i)+65536):(r.push(e),n--):r.push(e);return r}function P(t){return E(t,(function(t){var e="";return t>65535&&(e+=x((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=x(t)})).join("")}function I(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:l}function R(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function C(t,e,i){var r=0;for(t=i?b(t/p):t>>1,t+=b(t/e);t>_*u>>1;r+=l)t=b(t/_);return b(r+(_+1)*t/(t+c))}function O(t){var e,i,r,n,a,s,c,p,m,A,v=[],y=t.length,_=0,x=f,E=d;for((i=t.lastIndexOf(g))<0&&(i=0),r=0;r<i;++r)t.charCodeAt(r)>=128&&T("not-basic"),v.push(t.charCodeAt(r));for(n=i>0?i+1:0;n<y;){for(a=_,s=1,c=l;n>=y&&T("invalid-input"),((p=I(t.charCodeAt(n++)))>=l||p>b((o-_)/s))&&T("overflow"),_+=p*s,!(p<(m=c<=E?h:c>=E+u?u:c-E));c+=l)s>b(o/(A=l-m))&&T("overflow"),s*=A;E=C(_-a,e=v.length+1,0==a),b(_/e)>o-x&&T("overflow"),x+=b(_/e),_%=e,v.splice(_++,0,x)}return P(v)}function M(t){var e,i,r,n,a,s,c,p,m,A,v,y,_,E,S,P=[];for(y=(t=w(t)).length,e=f,i=0,a=d,s=0;s<y;++s)(v=t[s])<128&&P.push(x(v));for(r=n=P.length,n&&P.push(g);r<y;){for(c=o,s=0;s<y;++s)(v=t[s])>=e&&v<c&&(c=v);for(c-e>b((o-i)/(_=r+1))&&T("overflow"),i+=(c-e)*_,e=c,s=0;s<y;++s)if((v=t[s])<e&&++i>o&&T("overflow"),v==e){for(p=i,m=l;!(p<(A=m<=a?h:m>=a+u?u:m-a));m+=l)S=p-A,E=l-A,P.push(x(R(A+S%E,0))),p=b(S/E);P.push(x(R(p,0))),a=C(i,_,r==n),i=0,++r}++i,++e}return P.join("")}function B(t){return S(t,(function(t){return m.test(t)?O(t.slice(4).toLowerCase()):t}))}function D(t){return S(t,(function(t){return A.test(t)?"xn--"+M(t):t}))}s={version:"1.4.1",ucs2:{decode:w,encode:P},decode:O,encode:M,toASCII:D,toUnicode:B},void 0===(r=function(){return s}.call(e,i,e,t))||(t.exports=r)}()},1856:t=>{"use strict";var e=String.prototype.replace,i=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};t.exports={default:r.RFC3986,formatters:{RFC1738:function(t){return e.call(t,i,"+")},RFC3986:function(t){return String(t)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986}},4096:(t,e,i)=>{"use strict";var r=i(9853),n=i(2947),a=i(1856);t.exports={formats:a,parse:n,stringify:r}},2947:(t,e,i)=>{"use strict";var r=i(5433),n=Object.prototype.hasOwnProperty,a=Array.isArray,s={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},o=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},l=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},h="utf8=%26%2310003%3B",u="utf8=%E2%9C%93",c=function(t,e){var i,c={__proto__:null},p=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,d=e.parameterLimit===1/0?void 0:e.parameterLimit,f=p.split(e.delimiter,d),g=-1,m=e.charset;if(e.charsetSentinel)for(i=0;i<f.length;++i)0===f[i].indexOf("utf8=")&&(f[i]===u?m="utf-8":f[i]===h&&(m="iso-8859-1"),g=i,i=f.length);for(i=0;i<f.length;++i)if(i!==g){var A,v,y=f[i],_=y.indexOf("]="),b=-1===_?y.indexOf("="):_+1;-1===b?(A=e.decoder(y,s.decoder,m,"key"),v=e.strictNullHandling?null:""):(A=e.decoder(y.slice(0,b),s.decoder,m,"key"),v=r.maybeMap(l(y.slice(b+1),e),(function(t){return e.decoder(t,s.decoder,m,"value")}))),v&&e.interpretNumericEntities&&"iso-8859-1"===m&&(v=o(v)),y.indexOf("[]=")>-1&&(v=a(v)?[v]:v),n.call(c,A)?c[A]=r.combine(c[A],v):c[A]=v}return c},p=function(t,e,i,r){for(var n=r?e:l(e,i),a=t.length-1;a>=0;--a){var s,o=t[a];if("[]"===o&&i.parseArrays)s=[].concat(n);else{s=i.plainObjects?Object.create(null):{};var h="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,u=parseInt(h,10);i.parseArrays||""!==h?!isNaN(u)&&o!==h&&String(u)===h&&u>=0&&i.parseArrays&&u<=i.arrayLimit?(s=[])[u]=n:"__proto__"!==h&&(s[h]=n):s={0:n}}n=s}return n},d=function(t,e,i,r){if(t){var a=i.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,l=i.depth>0&&s.exec(a),h=l?a.slice(0,l.index):a,u=[];if(h){if(!i.plainObjects&&n.call(Object.prototype,h)&&!i.allowPrototypes)return;u.push(h)}for(var c=0;i.depth>0&&null!==(l=o.exec(a))&&c<i.depth;){if(c+=1,!i.plainObjects&&n.call(Object.prototype,l[1].slice(1,-1))&&!i.allowPrototypes)return;u.push(l[1])}return l&&u.push("["+a.slice(l.index)+"]"),p(u,e,i,r)}},f=function(t){if(!t)return s;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?s.charset:t.charset;return{allowDots:void 0===t.allowDots?s.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:s.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:s.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:s.comma,decoder:"function"==typeof t.decoder?t.decoder:s.decoder,delimiter:"string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:s.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:s.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:s.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:s.strictNullHandling}};t.exports=function(t,e){var i=f(e);if(""===t||null==t)return i.plainObjects?Object.create(null):{};for(var n="string"==typeof t?c(t,i):t,a=i.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var l=s[o],h=d(l,n[l],i,"string"==typeof t);a=r.merge(a,h,i)}return!0===i.allowSparse?a:r.compact(a)}},9853:(t,e,i)=>{"use strict";var r=i(9078),n=i(5433),a=i(1856),s=Object.prototype.hasOwnProperty,o={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},l=Array.isArray,h=Array.prototype.push,u=function(t,e){h.apply(t,l(e)?e:[e])},c=Date.prototype.toISOString,p=a.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,format:p,formatter:a.formatters[p],indices:!1,serializeDate:function(t){return c.call(t)},skipNulls:!1,strictNullHandling:!1},f=function(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t||"symbol"==typeof t||"bigint"==typeof t},g={},m=function t(e,i,a,s,o,h,c,p,m,A,v,y,_,b,x,T){for(var E=e,S=T,w=0,P=!1;void 0!==(S=S.get(g))&&!P;){var I=S.get(e);if(w+=1,void 0!==I){if(I===w)throw new RangeError("Cyclic object value");P=!0}void 0===S.get(g)&&(w=0)}if("function"==typeof p?E=p(i,E):E instanceof Date?E=v(E):"comma"===a&&l(E)&&(E=n.maybeMap(E,(function(t){return t instanceof Date?v(t):t}))),null===E){if(o)return c&&!b?c(i,d.encoder,x,"key",y):i;E=""}if(f(E)||n.isBuffer(E))return c?[_(b?i:c(i,d.encoder,x,"key",y))+"="+_(c(E,d.encoder,x,"value",y))]:[_(i)+"="+_(String(E))];var R,C=[];if(void 0===E)return C;if("comma"===a&&l(E))b&&c&&(E=n.maybeMap(E,c)),R=[{value:E.length>0?E.join(",")||null:void 0}];else if(l(p))R=p;else{var O=Object.keys(E);R=m?O.sort(m):O}for(var M=s&&l(E)&&1===E.length?i+"[]":i,B=0;B<R.length;++B){var D=R[B],L="object"==typeof D&&void 0!==D.value?D.value:E[D];if(!h||null!==L){var k=l(E)?"function"==typeof a?a(M,D):M:M+(A?"."+D:"["+D+"]");T.set(e,w);var N=r();N.set(g,T),u(C,t(L,k,a,s,o,h,"comma"===a&&b&&l(E)?null:c,p,m,A,v,y,_,b,x,N))}}return C},A=function(t){if(!t)return d;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||d.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=a.default;if(void 0!==t.format){if(!s.call(a.formatters,t.format))throw new TypeError("Unknown format option provided.");i=t.format}var r=a.formatters[i],n=d.filter;return("function"==typeof t.filter||l(t.filter))&&(n=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:d.addQueryPrefix,allowDots:void 0===t.allowDots?d.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:d.charsetSentinel,delimiter:void 0===t.delimiter?d.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:d.encode,encoder:"function"==typeof t.encoder?t.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:d.encodeValuesOnly,filter:n,format:i,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:d.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:d.strictNullHandling}};t.exports=function(t,e){var i,n=t,a=A(e);"function"==typeof a.filter?n=(0,a.filter)("",n):l(a.filter)&&(i=a.filter);var s,h=[];if("object"!=typeof n||null===n)return"";s=e&&e.arrayFormat in o?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var c=o[s];if(e&&"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var p="comma"===c&&e&&e.commaRoundTrip;i||(i=Object.keys(n)),a.sort&&i.sort(a.sort);for(var d=r(),f=0;f<i.length;++f){var g=i[f];a.skipNulls&&null===n[g]||u(h,m(n[g],g,c,p,a.strictNullHandling,a.skipNulls,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,d))}var v=h.join(a.delimiter),y=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&("iso-8859-1"===a.charset?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),v.length>0?y+v:""}},5433:(t,e,i)=>{"use strict";var r=i(1856),n=Object.prototype.hasOwnProperty,a=Array.isArray,s=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),o=function(t){for(;t.length>1;){var e=t.pop(),i=e.obj[e.prop];if(a(i)){for(var r=[],n=0;n<i.length;++n)void 0!==i[n]&&r.push(i[n]);e.obj[e.prop]=r}}},l=function(t,e){for(var i=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(i[r]=t[r]);return i},h=function t(e,i,r){if(!i)return e;if("object"!=typeof i){if(a(e))e.push(i);else{if(!e||"object"!=typeof e)return[e,i];(r&&(r.plainObjects||r.allowPrototypes)||!n.call(Object.prototype,i))&&(e[i]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(i);var s=e;return a(e)&&!a(i)&&(s=l(e,r)),a(e)&&a(i)?(i.forEach((function(i,a){if(n.call(e,a)){var s=e[a];s&&"object"==typeof s&&i&&"object"==typeof i?e[a]=t(s,i,r):e.push(i)}else e[a]=i})),e):Object.keys(i).reduce((function(e,a){var s=i[a];return n.call(e,a)?e[a]=t(e[a],s,r):e[a]=s,e}),s)},u=function(t,e){return Object.keys(e).reduce((function(t,i){return t[i]=e[i],t}),t)},c=function(t,e,i){var r=t.replace(/\+/g," ");if("iso-8859-1"===i)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(n){return r}},p=function(t,e,i,n,a){if(0===t.length)return t;var o=t;if("symbol"==typeof t?o=Symbol.prototype.toString.call(t):"string"!=typeof t&&(o=String(t)),"iso-8859-1"===i)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var l="",h=0;h<o.length;++h){var u=o.charCodeAt(h);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||a===r.RFC1738&&(40===u||41===u)?l+=o.charAt(h):u<128?l+=s[u]:u<2048?l+=s[192|u>>6]+s[128|63&u]:u<55296||u>=57344?l+=s[224|u>>12]+s[128|u>>6&63]+s[128|63&u]:(h+=1,u=65536+((1023&u)<<10|1023&o.charCodeAt(h)),l+=s[240|u>>18]+s[128|u>>12&63]+s[128|u>>6&63]+s[128|63&u])}return l},d=function(t){for(var e=[{obj:{o:t},prop:"o"}],i=[],r=0;r<e.length;++r)for(var n=e[r],a=n.obj[n.prop],s=Object.keys(a),l=0;l<s.length;++l){var h=s[l],u=a[h];"object"==typeof u&&null!==u&&-1===i.indexOf(u)&&(e.push({obj:a,prop:h}),i.push(u))}return o(e),t},f=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},g=function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},m=function(t,e){return[].concat(t,e)},A=function(t,e){if(a(t)){for(var i=[],r=0;r<t.length;r+=1)i.push(e(t[r]));return i}return e(t)};t.exports={arrayToObject:l,assign:u,combine:m,compact:d,decode:c,encode:p,isBuffer:g,isRegExp:f,maybeMap:A,merge:h}},3241:(t,e,i)=>{"use strict";var r=i(2008);function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(l),u=["%","/","?",";","#"].concat(h),c=["/","?","#"],p=255,d=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},A={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=i(4096);function y(t,e,i){if(t&&"object"==typeof t&&t instanceof n)return t;var r=new n;return r.parse(t,e,i),r}function _(t){return"string"==typeof t&&(t=y(t)),t instanceof n?t.format():n.prototype.format.call(t)}function b(t,e){return y(t,!1,!0).resolve(e)}function x(t,e){return t?y(t,!1,!0).resolveObject(e):e}n.prototype.parse=function(t,e,i){if("string"!=typeof t)throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),s=-1!==n&&n<t.indexOf("#")?"?":"#",l=t.split(s),y=/\\/g;l[0]=l[0].replace(y,"/");var _=t=l.join(s);if(_=_.trim(),!i&&1===t.split("#").length){var b=o.exec(_);if(b)return this.path=_,this.href=_,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?v.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=a.exec(_);if(x){var T=(x=x[0]).toLowerCase();this.protocol=T,_=_.substr(x.length)}if(i||x||_.match(/^\/\/[^@/]+@[^@/]+/)){var E="//"===_.substr(0,2);!E||x&&m[x]||(_=_.substr(2),this.slashes=!0)}if(!m[x]&&(E||x&&!A[x])){for(var S,w,P=-1,I=0;I<c.length;I++){-1!==(R=_.indexOf(c[I]))&&(-1===P||R<P)&&(P=R)}-1!==(w=-1===P?_.lastIndexOf("@"):_.lastIndexOf("@",P))&&(S=_.slice(0,w),_=_.slice(w+1),this.auth=decodeURIComponent(S)),P=-1;for(I=0;I<u.length;I++){var R;-1!==(R=_.indexOf(u[I]))&&(-1===P||R<P)&&(P=R)}-1===P&&(P=_.length),this.host=_.slice(0,P),_=_.slice(P),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var O=this.hostname.split(/\./),M=(I=0,O.length);I<M;I++){var B=O[I];if(B&&!B.match(d)){for(var D="",L=0,k=B.length;L<k;L++)B.charCodeAt(L)>127?D+="x":D+=B[L];if(!D.match(d)){var N=O.slice(0,I),F=O.slice(I+1),G=B.match(f);G&&(N.push(G[1]),F.unshift(G[2])),F.length&&(_="/"+F.join(".")+_),this.hostname=N.join(".");break}}}this.hostname.length>p?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=r.toASCII(this.hostname));var U=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+U,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!g[T])for(I=0,M=h.length;I<M;I++){var X=h[I];if(-1!==_.indexOf(X)){var j=encodeURIComponent(X);j===X&&(j=escape(X)),_=_.split(X).join(j)}}var W=_.indexOf("#");-1!==W&&(this.hash=_.substr(W),_=_.slice(0,W));var V=_.indexOf("?");if(-1!==V?(this.search=_.substr(V),this.query=_.substr(V+1),e&&(this.query=v.parse(this.query)),_=_.slice(0,V)):e&&(this.search="",this.query={}),_&&(this.pathname=_),A[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var Y=this.search||"";this.path=U+Y}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",r=this.hash||"",n=!1,a="";this.host?n=t+this.host:this.hostname&&(n=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(a=v.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||A[e])&&!1!==n?(n="//"+(n||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):n||(n=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+n+(i=i.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+r},n.prototype.resolve=function(t){return this.resolveObject(y(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if("string"==typeof t){var e=new n;e.parse(t,!1,!0),t=e}for(var i=new n,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];i[s]=this[s]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),l=0;l<o.length;l++){var h=o[l];"protocol"!==h&&(i[h]=t[h])}return A[i.protocol]&&i.hostname&&!i.pathname&&(i.pathname="/",i.path=i.pathname),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!A[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var p=u[c];i[p]=t[p]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||m[t.protocol])i.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),i.pathname=d.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var f=i.pathname||"",g=i.search||"";i.path=f+g}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var v=i.pathname&&"/"===i.pathname.charAt(0),y=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=y||v||i.host&&t.pathname,b=_,x=i.pathname&&i.pathname.split("/")||[],T=(d=t.pathname&&t.pathname.split("/")||[],i.protocol&&!A[i.protocol]);if(T&&(i.hostname="",i.port=null,i.host&&(""===x[0]?x[0]=i.host:x.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),_=_&&(""===d[0]||""===x[0])),y)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,x=d;else if(d.length)x||(x=[]),x.pop(),x=x.concat(d),i.search=t.search,i.query=t.query;else if(null!=t.search){if(T)i.host=x.shift(),i.hostname=i.host,(I=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=I.shift(),i.hostname=I.shift(),i.host=i.hostname);return i.search=t.search,i.query=t.query,null===i.pathname&&null===i.search||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!x.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var E=x.slice(-1)[0],S=(i.host||t.host||x.length>1)&&("."===E||".."===E)||""===E,w=0,P=x.length;P>=0;P--)"."===(E=x[P])?x.splice(P,1):".."===E?(x.splice(P,1),w++):w&&(x.splice(P,1),w--);if(!_&&!b)for(;w--;w)x.unshift("..");!_||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),S&&"/"!==x.join("/").substr(-1)&&x.push("");var I,R=""===x[0]||x[0]&&"/"===x[0].charAt(0);T&&(i.hostname=R?"":x.length?x.shift():"",i.host=i.hostname,(I=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=I.shift(),i.hostname=I.shift(),i.host=i.hostname));return(_=_||i.host&&x.length)&&!R&&x.unshift(""),x.length>0?i.pathname=x.join("/"):(i.pathname=null,i.path=null),null===i.pathname&&null===i.search||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},n.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},e.qg=y,e.hd=b,e.GP=_},1537:function(t,e){(function(){function e(t,e,i){return t.call.apply(t.bind,arguments)}function i(t,e,i){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function r(t,n,a){return(r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?e:i).apply(null,arguments)}var n=Date.now||function(){return+new Date};function a(t,e){this.a=t,this.o=e||t,this.c=this.o.document}var s=!!window.FontFace;function o(t,e,i,r){if(e=t.c.createElement(e),i)for(var n in i)i.hasOwnProperty(n)&&("style"==n?e.style.cssText=i[n]:e.setAttribute(n,i[n]));return r&&e.appendChild(t.c.createTextNode(r)),e}function l(t,e,i){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(i,t.lastChild)}function h(t){t.parentNode&&t.parentNode.removeChild(t)}function u(t,e,i){e=e||[],i=i||[];for(var r=t.className.split(/\s+/),n=0;n<e.length;n+=1){for(var a=!1,s=0;s<r.length;s+=1)if(e[n]===r[s]){a=!0;break}a||r.push(e[n])}for(e=[],n=0;n<r.length;n+=1){for(a=!1,s=0;s<i.length;s+=1)if(r[n]===i[s]){a=!0;break}a||e.push(r[n])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function c(t,e){for(var i=t.className.split(/\s+/),r=0,n=i.length;r<n;r++)if(i[r]==e)return!0;return!1}function p(t){return t.o.location.hostname||t.a.location.hostname}function d(t,e,i){function r(){u&&n&&a&&(u(h),u=null)}e=o(t,"link",{rel:"stylesheet",href:e,media:"all"});var n=!1,a=!0,h=null,u=i||null;s?(e.onload=function(){n=!0,r()},e.onerror=function(){n=!0,h=Error("Stylesheet failed to load"),r()}):setTimeout((function(){n=!0,r()}),0),l(t,"head",e)}function f(t,e,i,r){var n=t.c.getElementsByTagName("head")[0];if(n){var a=o(t,"script",{src:e}),s=!1;return a.onload=a.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,i&&i(null),a.onload=a.onreadystatechange=null,"HEAD"==a.parentNode.tagName&&n.removeChild(a))},n.appendChild(a),setTimeout((function(){s||(s=!0,i&&i(Error("Script load timeout")))}),r||5e3),a}return null}function g(){this.a=0,this.c=null}function m(t){return t.a++,function(){t.a--,v(t)}}function A(t,e){t.c=e,v(t)}function v(t){0==t.a&&t.c&&(t.c(),t.c=null)}function y(t){this.a=t||"-"}function _(t,e){this.c=t,this.f=4,this.a="n";var i=(e||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function b(t){return E(t)+" "+t.f+"00 300px "+x(t.c)}function x(t){var e=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var r=t[i].replace(/['"]/g,"");-1!=r.indexOf(" ")||/^\d/.test(r)?e.push("'"+r+"'"):e.push(r)}return e.join(",")}function T(t){return t.a+t.f}function E(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function S(t){var e=4,i="n",r=null;return t&&((r=t.match(/(normal|oblique|italic)/i))&&r[1]&&(i=r[1].substr(0,1).toLowerCase()),(r=t.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?e=7:/[1-9]00/.test(r[1])&&(e=parseInt(r[1].substr(0,1),10)))),i+e}function w(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new y("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function P(t){t.g&&u(t.f,[t.a.c("wf","loading")]),R(t,"loading")}function I(t){if(t.g){var e=c(t.f,t.a.c("wf","active")),i=[],r=[t.a.c("wf","loading")];e||i.push(t.a.c("wf","inactive")),u(t.f,i,r)}R(t,"inactive")}function R(t,e,i){t.j&&t.h[e]&&(i?t.h[e](i.c,T(i)):t.h[e]())}function C(){this.c={}}function O(t,e,i){var r,n=[];for(r in e)if(e.hasOwnProperty(r)){var a=t.c[r];a&&n.push(a(e[r],i))}return n}function M(t,e){this.c=t,this.f=e,this.a=o(this.c,"span",{"aria-hidden":"true"},this.f)}function B(t){l(t.c,"body",t.a)}function D(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+x(t.c)+";font-style:"+E(t)+";font-weight:"+t.f+"00;"}function L(t,e,i,r,n,a){this.g=t,this.j=e,this.a=r,this.c=i,this.f=n||3e3,this.h=a||void 0}function k(t,e,i,r,n,a,s){this.v=t,this.B=e,this.c=i,this.a=r,this.s=s||"BESbswy",this.f={},this.w=n||3e3,this.u=a||null,this.m=this.j=this.h=this.g=null,this.g=new M(this.c,this.s),this.h=new M(this.c,this.s),this.j=new M(this.c,this.s),this.m=new M(this.c,this.s),t=D(t=new _(this.a.c+",serif",T(this.a))),this.g.a.style.cssText=t,t=D(t=new _(this.a.c+",sans-serif",T(this.a))),this.h.a.style.cssText=t,t=D(t=new _("serif",T(this.a))),this.j.a.style.cssText=t,t=D(t=new _("sans-serif",T(this.a))),this.m.a.style.cssText=t,B(this.g),B(this.h),B(this.j),B(this.m)}y.prototype.c=function(t){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},L.prototype.start=function(){var t=this.c.o.document,e=this,i=n(),r=new Promise((function(r,a){function s(){n()-i>=e.f?a():t.fonts.load(b(e.a),e.h).then((function(t){1<=t.length?r():setTimeout(s,25)}),(function(){a()}))}s()})),a=null,s=new Promise((function(t,i){a=setTimeout(i,e.f)}));Promise.race([s,r]).then((function(){a&&(clearTimeout(a),a=null),e.g(e.a)}),(function(){e.j(e.a)}))};var N={D:"serif",C:"sans-serif"},F=null;function G(){if(null===F){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);F=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return F}function U(t,e,i){for(var r in N)if(N.hasOwnProperty(r)&&e===t.f[N[r]]&&i===t.f[N[r]])return!0;return!1}function H(t){var e,i=t.g.a.offsetWidth,r=t.h.a.offsetWidth;(e=i===t.f.serif&&r===t.f["sans-serif"])||(e=G()&&U(t,i,r)),e?n()-t.A>=t.w?G()&&U(t,i,r)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?j(t,t.v):j(t,t.B):X(t):j(t,t.v)}function X(t){setTimeout(r((function(){H(this)}),t),50)}function j(t,e){setTimeout(r((function(){h(this.g.a),h(this.h.a),h(this.j.a),h(this.m.a),e(this.a)}),t),0)}function W(t,e,i){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=i}k.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=n(),H(this)};var V=null;function Y(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&u(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),R(t,"active")):I(t.a))}function z(t){this.j=t,this.a=new C,this.h=0,this.f=this.g=!0}function q(t,e,i,n,a){var s=0==--t.h;(t.f||t.g)&&setTimeout((function(){var t=a||null,o=n||{};if(0===i.length&&s)I(e.a);else{e.f+=i.length,s&&(e.j=s);var l,h=[];for(l=0;l<i.length;l++){var c=i[l],p=o[c.c],d=e.a,f=c;if(d.g&&u(d.f,[d.a.c("wf",f.c,T(f).toString(),"loading")]),R(d,"fontloading",f),d=null,null===V)if(window.FontFace){f=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);V=f?42<parseInt(f[1],10):!g}else V=!1;d=V?new L(r(e.g,e),r(e.h,e),e.c,c,e.s,p):new k(r(e.g,e),r(e.h,e),e.c,c,e.s,t,p),h.push(d)}for(l=0;l<h.length;l++)h[l].start()}}),0)}function Q(t,e,i){var r=[],n=i.timeout;P(e);r=O(t.a,i,t.c);var a=new W(t.c,e,n);for(t.h=r.length,e=0,i=r.length;e<i;e++)r[e].load((function(e,i,r){q(t,a,e,i,r)}))}function Z(t,e){this.c=t,this.a=e}function K(t,e){this.c=t,this.a=e}function J(t,e){this.c=t||$,this.a=[],this.f=[],this.g=e||""}W.prototype.g=function(t){var e=this.a;e.g&&u(e.f,[e.a.c("wf",t.c,T(t).toString(),"active")],[e.a.c("wf",t.c,T(t).toString(),"loading"),e.a.c("wf",t.c,T(t).toString(),"inactive")]),R(e,"fontactive",t),this.m=!0,Y(this)},W.prototype.h=function(t){var e=this.a;if(e.g){var i=c(e.f,e.a.c("wf",t.c,T(t).toString(),"active")),r=[],n=[e.a.c("wf",t.c,T(t).toString(),"loading")];i||r.push(e.a.c("wf",t.c,T(t).toString(),"inactive")),u(e.f,r,n)}R(e,"fontinactive",t),Y(this)},z.prototype.load=function(t){this.c=new a(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,Q(this,new w(this.c,t),t)},Z.prototype.load=function(t){function e(){if(a["__mti_fntLst"+r]){var i,n=a["__mti_fntLst"+r](),s=[];if(n)for(var o=0;o<n.length;o++){var l=n[o].fontfamily;null!=n[o].fontStyle&&null!=n[o].fontWeight?(i=n[o].fontStyle+n[o].fontWeight,s.push(new _(l,i))):s.push(new _(l))}t(s)}else setTimeout((function(){e()}),50)}var i=this,r=i.a.projectId,n=i.a.version;if(r){var a=i.c.o;f(this.c,(i.a.api||"https://fast.fonts.net/jsapi")+"/"+r+".js"+(n?"?v="+n:""),(function(n){n?t([]):(a["__MonotypeConfiguration__"+r]=function(){return i.a},e())})).id="__MonotypeAPIScript__"+r}else t([])},K.prototype.load=function(t){var e,i,r=this.a.urls||[],n=this.a.families||[],a=this.a.testStrings||{},s=new g;for(e=0,i=r.length;e<i;e++)d(this.c,r[e],m(s));var o=[];for(e=0,i=n.length;e<i;e++)if((r=n[e].split(":"))[1])for(var l=r[1].split(","),h=0;h<l.length;h+=1)o.push(new _(r[0],l[h]));else o.push(new _(r[0]));A(s,(function(){t(o,a)}))};var $="https://fonts.googleapis.com/css";function tt(t,e){for(var i=e.length,r=0;r<i;r++){var n=e[r].split(":");3==n.length&&t.f.push(n.pop());var a="";2==n.length&&""!=n[1]&&(a=":"),t.a.push(n.join(a))}}function et(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,i=[],r=0;r<e;r++)i.push(t.a[r].replace(/ /g,"+"));return e=t.c+"?family="+i.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}function it(t){this.f=t,this.a=[],this.c={}}var rt={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},nt={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},at={i:"i",italic:"i",n:"n",normal:"n"},st=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function ot(t){for(var e=t.f.length,i=0;i<e;i++){var r=t.f[i].split(":"),n=r[0].replace(/\+/g," "),a=["n4"];if(2<=r.length){var s;if(s=[],o=r[1])for(var o,l=(o=o.split(",")).length,h=0;h<l;h++){var u;if((u=o[h]).match(/^[\w-]+$/))if(null==(p=st.exec(u.toLowerCase())))u="";else{if(u=null==(u=p[2])||""==u?"n":at[u],null==(p=p[1])||""==p)p="4";else var c=nt[p],p=c||(isNaN(p)?"4":p.substr(0,1));u=[u,p].join("")}else u="";u&&s.push(u)}0<s.length&&(a=s),3==r.length&&(s=[],0<(r=(r=r[2])?r.split(","):s).length&&(r=rt[r[0]])&&(t.c[n]=r))}for(t.c[n]||(r=rt[n])&&(t.c[n]=r),r=0;r<a.length;r+=1)t.a.push(new _(n,a[r]))}}function lt(t,e){this.c=t,this.a=e}var ht={Arimo:!0,Cousine:!0,Tinos:!0};function ut(t,e){this.c=t,this.a=e}function ct(t,e){this.c=t,this.f=e,this.a=[]}lt.prototype.load=function(t){var e=new g,i=this.c,r=new J(this.a.api,this.a.text),n=this.a.families;tt(r,n);var a=new it(n);ot(a),d(i,et(r),m(e)),A(e,(function(){t(a.a,a.c,ht)}))},ut.prototype.load=function(t){var e=this.a.id,i=this.c.o;e?f(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",(function(e){if(e)t([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){e=i.Typekit.config.fn;for(var r=[],n=0;n<e.length;n+=2)for(var a=e[n],s=e[n+1],o=0;o<s.length;o++)r.push(new _(a,s[o]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(l){}t(r)}}),2e3):t([])},ct.prototype.load=function(t){var e=this.f.id,i=this.c.o,r=this;e?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[e]=function(e,i){for(var n=0,a=i.fonts.length;n<a;++n){var s=i.fonts[n];r.a.push(new _(s.name,S("font-weight:"+s.weight+";font-style:"+s.style)))}t(r.a)},f(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+p(this.c)+"/"+e+".js",(function(e){e&&t([])}))):t([])};var pt=new z(window);pt.a.c.custom=function(t,e){return new K(e,t)},pt.a.c.fontdeck=function(t,e){return new ct(e,t)},pt.a.c.monotype=function(t,e){return new Z(e,t)},pt.a.c.typekit=function(t,e){return new ut(e,t)},pt.a.c.google=function(t,e){return new lt(e,t)};var dt={load:r(pt.load,pt)};"function"==typeof define&&define.amd?define((function(){return dt})):void 0!==t&&t.exports?t.exports=dt:(window.WebFont=dt,window.WebFontConfig&&pt.load(window.WebFontConfig))})()},6334:(t,e,i)=>{"use strict";var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==i.g&&i.g||{},n={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function a(t){return t&&DataView.prototype.isPrototypeOf(t)}if(n.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function l(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function h(t){return"string"!=typeof t&&(t=String(t)),t}function u(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n.iterable&&(e[Symbol.iterator]=function(){return e}),e}function c(t){this.map={},t instanceof c?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){if(2!=t.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function p(t){if(!t._noBody)return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function d(t){return new Promise((function(e,i){t.onload=function(){e(t.result)},t.onerror=function(){i(t.error)}}))}function f(t){var e=new FileReader,i=d(e);return e.readAsArrayBuffer(t),i}function g(t){var e=new FileReader,i=d(e),r=/charset=([A-Za-z0-9_-]+)/.exec(t.type),n=r?r[1]:"utf-8";return e.readAsText(t,n),i}function m(t){for(var e=new Uint8Array(t),i=new Array(e.length),r=0;r<e.length;r++)i[r]=String.fromCharCode(e[r]);return i.join("")}function A(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:n.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:n.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():n.arrayBuffer&&n.blob&&a(t)?(this._bodyArrayBuffer=A(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||o(t))?this._bodyArrayBuffer=A(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=p(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(n.blob)return this.blob().then(f);throw new Error("could not read as ArrayBuffer")},this.text=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return g(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(m(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(t,e){t=l(t),e=h(e);var i=this.map[t];this.map[t]=i?i+", "+e:e},c.prototype.delete=function(t){delete this.map[l(t)]},c.prototype.get=function(t){return t=l(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(l(t))},c.prototype.set=function(t,e){this.map[l(t)]=h(e)},c.prototype.forEach=function(t,e){for(var i in this.map)this.map.hasOwnProperty(i)&&t.call(e,this.map[i],i,this)},c.prototype.keys=function(){var t=[];return this.forEach((function(e,i){t.push(i)})),u(t)},c.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),u(t)},c.prototype.entries=function(){var t=[];return this.forEach((function(e,i){t.push([i,e])})),u(t)},n.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var y=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function _(t){var e=t.toUpperCase();return y.indexOf(e)>-1?e:t}function b(t,e){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var i=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=_(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+(new Date).getTime());else{var a=/\?/;this.url+=(a.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function x(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),n=i.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(n))}})),e}function T(t){var e=new c;return t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var i=t.split(":"),r=i.shift().trim();if(r){var n=i.join(":").trim();try{e.append(r,n)}catch(a){console.warn("Response "+a.message)}}})),e}function E(t,e){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},E.error=function(){var t=new E(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var S=[301,302,303,307,308];E.redirect=function(t,e){if(-1===S.indexOf(e))throw new RangeError("Invalid status code");return new E(null,{status:e,headers:{location:t}})};var w=r.DOMException;try{new w}catch(I){(w=function(t,e){this.message=t,this.name=e;var i=Error(t);this.stack=i.stack}).prototype=Object.create(Error.prototype),w.prototype.constructor=w}function P(t,e){return new Promise((function(i,a){var s=new b(t,e);if(s.signal&&s.signal.aborted)return a(new w("Aborted","AbortError"));var o=new XMLHttpRequest;function u(){o.abort()}function p(t){try{return""===t&&r.location.href?r.location.href:t}catch(e){return t}}if(o.onload=function(){var t={statusText:o.statusText,headers:T(o.getAllResponseHeaders()||"")};0===s.url.indexOf("file://")&&(o.status<200||o.status>599)?t.status=200:t.status=o.status,t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;setTimeout((function(){i(new E(e,t))}),0)},o.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},o.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request timed out"))}),0)},o.onabort=function(){setTimeout((function(){a(new w("Aborted","AbortError"))}),0)},o.open(s.method,p(s.url),!0),"include"===s.credentials?o.withCredentials=!0:"omit"===s.credentials&&(o.withCredentials=!1),"responseType"in o&&(n.blob?o.responseType="blob":n.arrayBuffer&&(o.responseType="arraybuffer")),e&&"object"==typeof e.headers&&!(e.headers instanceof c||r.Headers&&e.headers instanceof r.Headers)){var d=[];Object.getOwnPropertyNames(e.headers).forEach((function(t){d.push(l(t)),o.setRequestHeader(t,h(e.headers[t]))})),s.headers.forEach((function(t,e){-1===d.indexOf(e)&&o.setRequestHeader(e,t)}))}else s.headers.forEach((function(t,e){o.setRequestHeader(e,t)}));s.signal&&(s.signal.addEventListener("abort",u),o.onreadystatechange=function(){4===o.readyState&&s.signal.removeEventListener("abort",u)}),o.send(void 0===s._bodyInit?null:s._bodyInit)}))}P.polyfill=!0,r.fetch||(r.fetch=P,r.Headers=c,r.Request=b,r.Response=E)},8145:(t,e,i)=>{var r;!function(){"use strict";var n=function(){this.init()};n.prototype={init:function(){var t=this||a;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||a;if(t=parseFloat(t),e.ctx||d(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,a.ctx.currentTime);for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var r=e._howls[i]._getSoundIds(),n=0;n<r.length;n++){var s=e._howls[i]._soundById(r[n]);s&&s._node&&(s._node.volume=s._volume*t)}return e}return e._volume},mute:function(t){var e=this||a;e.ctx||d(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,a.ctx.currentTime);for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var r=e._howls[i]._getSoundIds(),n=0;n<r.length;n++){var s=e._howls[i]._soundById(r[n]);s&&s._node&&(s._node.muted=!!t||s._muted)}return e},stop:function(){for(var t=this||a,e=0;e<t._howls.length;e++)t._howls[e].stop();return t},unload:function(){for(var t=this||a,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,d()),t},codecs:function(t){return(this||a)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||a;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(a){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||a,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(a){return t}if(!e||"function"!=typeof e.canPlayType)return t;var i=e.canPlayType("audio/mpeg;").replace(/^no$/,""),r=t._navigator?t._navigator.userAgent:"",n=r.match(/OPR\/(\d+)/g),s=n&&parseInt(n[0].split("/")[1],10)<33,o=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),l=r.match(/Version\/(.*?) /),h=o&&l&&parseInt(l[1],10)<15;return t._codecs={mp3:!(s||!i&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!i,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(e.canPlayType('audio/wav; codecs="1"')||e.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(e.canPlayType("audio/x-m4b;")||e.canPlayType("audio/m4b;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(h||!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(h||!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||a;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function(i){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,t._releaseHtml5Audio(r)}catch(i){t.noAudio=!0;break}for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var a=t._howls[n]._getSoundIds(),s=0;s<a.length;s++){var o=t._howls[n]._soundById(a[s]);o&&o._node&&!o._node._unlocked&&(o._node._unlocked=!0,o._node.load())}t._autoResume();var l=t.ctx.createBufferSource();l.buffer=t._scratchBuffer,l.connect(t.ctx.destination),void 0===l.start?l.noteOn(0):l.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),l.onended=function(){l.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0),document.removeEventListener("keydown",e,!0);for(var i=0;i<t._howls.length;i++)t._howls[i]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),document.addEventListener("keydown",e,!0),t}},_obtainHtml5Audio:function(){var t=this||a;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(t){var e=this||a;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&a.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var i=0;i<t._howls[e]._sounds.length;i++)if(!t._howls[e]._sounds[i]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){if(t.autoSuspend){t._suspendTimer=null,t.state="suspending";var e=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(e,e)}}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&a.usingWebAudio)return"running"===t.state&&"interrupted"!==t.ctx.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state||"running"===t.state&&"interrupted"===t.ctx.state?(t.ctx.resume().then((function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var a=new n,s=function(t){var e=this;t.src&&0!==t.src.length?e.init(t):console.error("An array of source files must be passed with any new Howl.")};s.prototype={init:function(t){var e=this;return a.ctx||d(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload&&"metadata"!==t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:!(!t.xhr||!t.xhr.withCredentials)&&t.xhr.withCredentials},e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=a.usingWebAudio&&!e._html5,void 0!==a.ctx&&a.ctx&&a.autoUnlock&&a._unlockAudio(),a._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&"none"!==e._preload&&e.load(),e},load:function(){var t=this,e=null;if(!a.noAudio){"string"==typeof t._src&&(t._src=[t._src]);for(var i=0;i<t._src.length;i++){var r,n;if(t._format&&t._format[i])r=t._format[i];else{if("string"!=typeof(n=t._src[i])){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(n))||(r=/\.([^.]+)$/.exec(n.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&a.codecs(r)){e=t._src[i];break}}return e?(t._src=e,t._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new o(t),t._webAudio&&h(t),t):void t._emit("loaderror",null,"No codec support for selected audio sources.")}t._emit("loaderror",null,"No audio support.")},play:function(t,e){var i=this,r=null;if("number"==typeof t)r=t,t=null;else{if("string"==typeof t&&"loaded"===i._state&&!i._sprite[t])return null;if(void 0===t&&(t="__default",!i._playLock)){for(var n=0,s=0;s<i._sounds.length;s++)i._sounds[s]._paused&&!i._sounds[s]._ended&&(n++,r=i._sounds[s]._id);1===n?t=null:r=null}}var o=r?i._soundById(r):i._inactiveSound();if(!o)return null;if(r&&!t&&(t=o._sprite||"__default"),"loaded"!==i._state){o._sprite=t,o._ended=!1;var l=o._id;return i._queue.push({event:"play",action:function(){i.play(l)}}),l}if(r&&!o._paused)return e||i._loadQueue("play"),o._id;i._webAudio&&a._autoResume();var h=Math.max(0,o._seek>0?o._seek:i._sprite[t][0]/1e3),u=Math.max(0,(i._sprite[t][0]+i._sprite[t][1])/1e3-h),c=1e3*u/Math.abs(o._rate),p=i._sprite[t][0]/1e3,d=(i._sprite[t][0]+i._sprite[t][1])/1e3;o._sprite=t,o._ended=!1;var f=function(){o._paused=!1,o._seek=h,o._start=p,o._stop=d,o._loop=!(!o._loop&&!i._sprite[t][2])};if(!(h>=d)){var g=o._node;if(i._webAudio){var m=function(){i._playLock=!1,f(),i._refreshBuffer(o);var t=o._muted||i._muted?0:o._volume;g.gain.setValueAtTime(t,a.ctx.currentTime),o._playStart=a.ctx.currentTime,void 0===g.bufferSource.start?o._loop?g.bufferSource.noteGrainOn(0,h,86400):g.bufferSource.noteGrainOn(0,h,u):o._loop?g.bufferSource.start(0,h,86400):g.bufferSource.start(0,h,u),c!==1/0&&(i._endTimers[o._id]=setTimeout(i._ended.bind(i,o),c)),e||setTimeout((function(){i._emit("play",o._id),i._loadQueue()}),0)};"running"===a.state&&"interrupted"!==a.ctx.state?m():(i._playLock=!0,i.once("resume",m),i._clearTimer(o._id))}else{var A=function(){g.currentTime=h,g.muted=o._muted||i._muted||a._muted||g.muted,g.volume=o._volume*a.volume(),g.playbackRate=o._rate;try{var r=g.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(i._playLock=!0,f(),r.then((function(){i._playLock=!1,g._unlocked=!0,e?i._loadQueue():i._emit("play",o._id)})).catch((function(){i._playLock=!1,i._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),o._ended=!0,o._paused=!0}))):e||(i._playLock=!1,f(),i._emit("play",o._id)),g.playbackRate=o._rate,g.paused)return void i._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||o._loop?i._endTimers[o._id]=setTimeout(i._ended.bind(i,o),c):(i._endTimers[o._id]=function(){i._ended(o),g.removeEventListener("ended",i._endTimers[o._id],!1)},g.addEventListener("ended",i._endTimers[o._id],!1))}catch(t){i._emit("playerror",o._id,t)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===g.src&&(g.src=i._src,g.load());var v=window&&window.ejecta||!g.readyState&&a._navigator.isCocoonJS;if(g.readyState>=3||v)A();else{i._playLock=!0,i._state="loading";var y=function(){i._state="loaded",A(),g.removeEventListener(a._canPlayEvent,y,!1)};g.addEventListener(a._canPlayEvent,y,!1),i._clearTimer(o._id)}}return o._id}i._ended(o)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var i=e._getSoundIds(t),r=0;r<i.length;r++){e._clearTimer(i[r]);var n=e._soundById(i[r]);if(n&&!n._paused&&(n._seek=e.seek(i[r]),n._rateSeek=0,n._paused=!0,e._stopFade(i[r]),n._node))if(e._webAudio){if(!n._node.bufferSource)continue;void 0===n._node.bufferSource.stop?n._node.bufferSource.noteOff(0):n._node.bufferSource.stop(0),e._cleanBuffer(n._node)}else isNaN(n._node.duration)&&n._node.duration!==1/0||n._node.pause();arguments[1]||e._emit("pause",n?n._id:null)}return e},stop:function(t,e){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"stop",action:function(){i.stop(t)}}),i;for(var r=i._getSoundIds(t),n=0;n<r.length;n++){i._clearTimer(r[n]);var a=i._soundById(r[n]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,i._stopFade(r[n]),a._node&&(i._webAudio?a._node.bufferSource&&(void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),i._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause(),a._node.duration===1/0&&i._clearSound(a._node))),e||i._emit("stop",a._id))}return i},mute:function(t,e){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"mute",action:function(){i.mute(t,e)}}),i;if(void 0===e){if("boolean"!=typeof t)return i._muted;i._muted=t}for(var r=i._getSoundIds(e),n=0;n<r.length;n++){var s=i._soundById(r[n]);s&&(s._muted=t,s._interval&&i._stopFade(s._id),i._webAudio&&s._node?s._node.gain.setValueAtTime(t?0:s._volume,a.ctx.currentTime):s._node&&(s._node.muted=!!a._muted||t),i._emit("mute",s._id))}return i},volume:function(){var t,e,i,r=this,n=arguments;if(0===n.length)return r._volume;if(1===n.length||2===n.length&&void 0===n[1]?r._getSoundIds().indexOf(n[0])>=0?e=parseInt(n[0],10):t=parseFloat(n[0]):n.length>=2&&(t=parseFloat(n[0]),e=parseInt(n[1],10)),!(void 0!==t&&t>=0&&t<=1))return(i=e?r._soundById(e):r._sounds[0])?i._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,n)}}),r;void 0===e&&(r._volume=t),e=r._getSoundIds(e);for(var s=0;s<e.length;s++)(i=r._soundById(e[s]))&&(i._volume=t,n[2]||r._stopFade(e[s]),r._webAudio&&i._node&&!i._muted?i._node.gain.setValueAtTime(t,a.ctx.currentTime):i._node&&!i._muted&&(i._node.volume=t*a.volume()),r._emit("volume",i._id));return r},fade:function(t,e,i,r){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"fade",action:function(){n.fade(t,e,i,r)}}),n;t=Math.min(Math.max(0,parseFloat(t)),1),e=Math.min(Math.max(0,parseFloat(e)),1),i=parseFloat(i),n.volume(t,r);for(var s=n._getSoundIds(r),o=0;o<s.length;o++){var l=n._soundById(s[o]);if(l){if(r||n._stopFade(s[o]),n._webAudio&&!l._muted){var h=a.ctx.currentTime,u=h+i/1e3;l._volume=t,l._node.gain.setValueAtTime(t,h),l._node.gain.linearRampToValueAtTime(e,u)}n._startFadeInterval(l,t,e,i,s[o],void 0===r)}}return n},_startFadeInterval:function(t,e,i,r,n,a){var s=this,o=e,l=i-e,h=Math.abs(l/.01),u=Math.max(4,h>0?r/h:r),c=Date.now();t._fadeTo=i,t._interval=setInterval((function(){var n=(Date.now()-c)/r;c=Date.now(),o+=l*n,o=Math.round(100*o)/100,o=l<0?Math.max(i,o):Math.min(i,o),s._webAudio?t._volume=o:s.volume(o,t._id,!0),a&&(s._volume=o),(i<e&&o<=i||i>e&&o>=i)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,s.volume(i,t._id),s._emit("fade",t._id))}),u)},_stopFade:function(t){var e=this,i=e._soundById(t);return i&&i._interval&&(e._webAudio&&i._node.gain.cancelScheduledValues(a.ctx.currentTime),clearInterval(i._interval),i._interval=null,e.volume(i._fadeTo,t),i._fadeTo=null,e._emit("fade",t)),e},loop:function(){var t,e,i,r=this,n=arguments;if(0===n.length)return r._loop;if(1===n.length){if("boolean"!=typeof n[0])return!!(i=r._soundById(parseInt(n[0],10)))&&i._loop;t=n[0],r._loop=t}else 2===n.length&&(t=n[0],e=parseInt(n[1],10));for(var a=r._getSoundIds(e),s=0;s<a.length;s++)(i=r._soundById(a[s]))&&(i._loop=t,r._webAudio&&i._node&&i._node.bufferSource&&(i._node.bufferSource.loop=t,t&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop,r.playing(a[s])&&(r.pause(a[s],!0),r.play(a[s],!0)))));return r},rate:function(){var t,e,i,r=this,n=arguments;if(0===n.length)e=r._sounds[0]._id;else if(1===n.length){r._getSoundIds().indexOf(n[0])>=0?e=parseInt(n[0],10):t=parseFloat(n[0])}else 2===n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10));if("number"!=typeof t)return(i=r._soundById(e))?i._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,n)}}),r;void 0===e&&(r._rate=t),e=r._getSoundIds(e);for(var s=0;s<e.length;s++)if(i=r._soundById(e[s])){r.playing(e[s])&&(i._rateSeek=r.seek(e[s]),i._playStart=r._webAudio?a.ctx.currentTime:i._playStart),i._rate=t,r._webAudio&&i._node&&i._node.bufferSource?i._node.bufferSource.playbackRate.setValueAtTime(t,a.ctx.currentTime):i._node&&(i._node.playbackRate=t);var o=r.seek(e[s]),l=1e3*((r._sprite[i._sprite][0]+r._sprite[i._sprite][1])/1e3-o)/Math.abs(i._rate);!r._endTimers[e[s]]&&i._paused||(r._clearTimer(e[s]),r._endTimers[e[s]]=setTimeout(r._ended.bind(r,i),l)),r._emit("rate",i._id)}return r},seek:function(){var t,e,i=this,r=arguments;if(0===r.length)i._sounds.length&&(e=i._sounds[0]._id);else if(1===r.length){i._getSoundIds().indexOf(r[0])>=0?e=parseInt(r[0],10):i._sounds.length&&(e=i._sounds[0]._id,t=parseFloat(r[0]))}else 2===r.length&&(t=parseFloat(r[0]),e=parseInt(r[1],10));if(void 0===e)return 0;if("number"==typeof t&&("loaded"!==i._state||i._playLock))return i._queue.push({event:"seek",action:function(){i.seek.apply(i,r)}}),i;var n=i._soundById(e);if(n){if(!("number"==typeof t&&t>=0)){if(i._webAudio){var s=i.playing(e)?a.ctx.currentTime-n._playStart:0,o=n._rateSeek?n._rateSeek-n._seek:0;return n._seek+(o+s*Math.abs(n._rate))}return n._node.currentTime}var l=i.playing(e);l&&i.pause(e,!0),n._seek=t,n._ended=!1,i._clearTimer(e),i._webAudio||!n._node||isNaN(n._node.duration)||(n._node.currentTime=t);var h=function(){l&&i.play(e,!0),i._emit("seek",e)};if(l&&!i._webAudio){var u=function(){i._playLock?setTimeout(u,0):h()};setTimeout(u,0)}else h()}return i},playing:function(t){var e=this;if("number"==typeof t){var i=e._soundById(t);return!!i&&!i._paused}for(var r=0;r<e._sounds.length;r++)if(!e._sounds[r]._paused)return!0;return!1},duration:function(t){var e=this,i=e._duration,r=e._soundById(t);return r&&(i=e._sprite[r._sprite][1]/1e3),i},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,i=0;i<e.length;i++)e[i]._paused||t.stop(e[i]._id),t._webAudio||(t._clearSound(e[i]._node),e[i]._node.removeEventListener("error",e[i]._errorFn,!1),e[i]._node.removeEventListener(a._canPlayEvent,e[i]._loadFn,!1),e[i]._node.removeEventListener("ended",e[i]._endFn,!1),a._releaseHtml5Audio(e[i]._node)),delete e[i]._node,t._clearTimer(e[i]._id);var r=a._howls.indexOf(t);r>=0&&a._howls.splice(r,1);var n=!0;for(i=0;i<a._howls.length;i++)if(a._howls[i]._src===t._src||t._src.indexOf(a._howls[i]._src)>=0){n=!1;break}return l&&n&&delete l[t._src],a.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,i,r){var n=this,a=n["_on"+t];return"function"==typeof e&&a.push(r?{id:i,fn:e,once:r}:{id:i,fn:e}),n},off:function(t,e,i){var r=this,n=r["_on"+t],a=0;if("number"==typeof e&&(i=e,e=null),e||i)for(a=0;a<n.length;a++){var s=i===n[a].id;if(e===n[a].fn&&s||!e&&s){n.splice(a,1);break}}else if(t)r["_on"+t]=[];else{var o=Object.keys(r);for(a=0;a<o.length;a++)0===o[a].indexOf("_on")&&Array.isArray(r[o[a]])&&(r[o[a]]=[])}return r},once:function(t,e,i){var r=this;return r.on(t,e,i,1),r},_emit:function(t,e,i){for(var r=this,n=r["_on"+t],a=n.length-1;a>=0;a--)n[a].id&&n[a].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,i)}.bind(r,n[a].fn),0),n[a].once&&r.off(t,n[a].fn,n[a].id));return r._loadQueue(t),r},_loadQueue:function(t){var e=this;if(e._queue.length>0){var i=e._queue[0];i.event===t&&(e._queue.shift(),e._loadQueue()),t||i.action()}return e},_ended:function(t){var e=this,i=t._sprite;if(!e._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(e._ended.bind(e,t),100),e;var r=!(!t._loop&&!e._sprite[i][2]);if(e._emit("end",t._id),!e._webAudio&&r&&e.stop(t._id,!0).play(t._id),e._webAudio&&r){e._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=a.ctx.currentTime;var n=1e3*(t._stop-t._start)/Math.abs(t._rate);e._endTimers[t._id]=setTimeout(e._ended.bind(e,t),n)}return e._webAudio&&!r&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,e._clearTimer(t._id),e._cleanBuffer(t._node),a._autoSuspend()),e._webAudio||r||e.stop(t._id,!0),e},_clearTimer:function(t){var e=this;if(e._endTimers[t]){if("function"!=typeof e._endTimers[t])clearTimeout(e._endTimers[t]);else{var i=e._soundById(t);i&&i._node&&i._node.removeEventListener("ended",e._endTimers[t],!1)}delete e._endTimers[t]}return e},_soundById:function(t){for(var e=this,i=0;i<e._sounds.length;i++)if(t===e._sounds[i]._id)return e._sounds[i];return null},_inactiveSound:function(){var t=this;t._drain();for(var e=0;e<t._sounds.length;e++)if(t._sounds[e]._ended)return t._sounds[e].reset();return new o(t)},_drain:function(){var t=this,e=t._pool,i=0,r=0;if(!(t._sounds.length<e)){for(r=0;r<t._sounds.length;r++)t._sounds[r]._ended&&i++;for(r=t._sounds.length-1;r>=0;r--){if(i<=e)return;t._sounds[r]._ended&&(t._webAudio&&t._sounds[r]._node&&t._sounds[r]._node.disconnect(0),t._sounds.splice(r,1),i--)}}},_getSoundIds:function(t){var e=this;if(void 0===t){for(var i=[],r=0;r<e._sounds.length;r++)i.push(e._sounds[r]._id);return i}return[t]},_refreshBuffer:function(t){var e=this;return t._node.bufferSource=a.ctx.createBufferSource(),t._node.bufferSource.buffer=l[e._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,a.ctx.currentTime),e},_cleanBuffer:function(t){var e=this,i=a._navigator&&a._navigator.vendor.indexOf("Apple")>=0;if(!t.bufferSource)return e;if(a._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),i))try{t.bufferSource.buffer=a._scratchBuffer}catch(t){}return t.bufferSource=null,e},_clearSound:function(t){/MSIE |Trident\//.test(a._navigator&&a._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(t){this._parent=t,this.init()};o.prototype={init:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++a._counter,e._sounds.push(t),t.create(),t},create:function(){var t=this,e=t._parent,i=a._muted||t._muted||t._parent._muted?0:t._volume;return e._webAudio?(t._node=void 0===a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),t._node.gain.setValueAtTime(i,a.ctx.currentTime),t._node.paused=!0,t._node.connect(a.masterGain)):a.noAudio||(t._node=a._obtainHtml5Audio(),t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(a._canPlayEvent,t._loadFn,!1),t._endFn=t._endListener.bind(t),t._node.addEventListener("ended",t._endFn,!1),t._node.src=e._src,t._node.preload=!0===e._preload?"auto":e._preload,t._node.volume=i*a.volume(),t._node.load()),t},reset:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++a._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorFn,!1)},_loadListener:function(){var t=this,e=t._parent;e._duration=Math.ceil(10*t._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),t._node.removeEventListener(a._canPlayEvent,t._loadFn,!1)},_endListener:function(){var t=this,e=t._parent;e._duration===1/0&&(e._duration=Math.ceil(10*t._node.duration)/10,e._sprite.__default[1]===1/0&&(e._sprite.__default[1]=1e3*e._duration),e._ended(t)),t._node.removeEventListener("ended",t._endFn,!1)}};var l={},h=function(t){var e=t._src;if(l[e])return t._duration=l[e].duration,void p(t);if(/^data:[^;]+;base64,/.test(e)){for(var i=atob(e.split(",")[1]),r=new Uint8Array(i.length),n=0;n<i.length;++n)r[n]=i.charCodeAt(n);c(r.buffer,t)}else{var a=new XMLHttpRequest;a.open(t._xhr.method,e,!0),a.withCredentials=t._xhr.withCredentials,a.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach((function(e){a.setRequestHeader(e,t._xhr.headers[e])})),a.onload=function(){var e=(a.status+"")[0];"0"===e||"2"===e||"3"===e?c(a.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+a.status+".")},a.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete l[e],t.load())},u(a)}},u=function(t){try{t.send()}catch(a){t.onerror()}},c=function(t,e){var i=function(){e._emit("loaderror",null,"Decoding audio data failed.")},r=function(t){t&&e._sounds.length>0?(l[e._src]=t,p(e,t)):i()};"undefined"!=typeof Promise&&1===a.ctx.decodeAudioData.length?a.ctx.decodeAudioData(t).then(r).catch(i):a.ctx.decodeAudioData(t,r,i)},p=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},d=function(){if(a.usingWebAudio){try{"undefined"!=typeof AudioContext?a.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?a.ctx=new webkitAudioContext:a.usingWebAudio=!1}catch(t){a.usingWebAudio=!1}a.ctx||(a.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(a._navigator&&a._navigator.platform),e=a._navigator&&a._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i=e?parseInt(e[1],10):null;if(t&&i&&i<9){var r=/safari/.test(a._navigator&&a._navigator.userAgent.toLowerCase());a._navigator&&!r&&(a.usingWebAudio=!1)}a.usingWebAudio&&(a.masterGain=void 0===a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),a.masterGain.gain.setValueAtTime(a._muted?0:a._volume,a.ctx.currentTime),a.masterGain.connect(a.ctx.destination)),a._setup()}};void 0!==(r=function(){return{Howler:a,Howl:s}}.apply(e,[]))&&(t.exports=r),a,s,void 0!==i.g?(i.g.HowlerGlobal=n,i.g.Howler=a,i.g.Howl=s,i.g.Sound=o):"undefined"!=typeof window&&(window.HowlerGlobal=n,window.Howler=a,window.Howl=s,window.Sound=o)}()},2290:()=>{},805:(t,e,i)=>{"use strict";var r,n,a,s,o,l,h,u,c,p,d,f,g,m,A,v,y,_,b,x;i.d(e,{B9:()=>s,E8:()=>f,Eq:()=>_,Gk:()=>g,Km:()=>r,M6:()=>p,OS:()=>A,Pk:()=>v,QE:()=>u,XZ:()=>c,_4:()=>o,dW:()=>h,fr:()=>m,h3:()=>n,hR:()=>l,he:()=>b,uR:()=>d,vg:()=>y,wn:()=>a,yw:()=>x}),function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(r||(r={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(n||(n={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(a||(a={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(s||(s={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(o||(o={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(l||(l={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(h||(h={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(u||(u={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(c||(c={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(p||(p={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(d||(d={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(f||(f={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(g||(g={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(m||(m={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(A||(A={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(v||(v={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"}(y||(y={})),function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"}(_||(_={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(b||(b={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(x||(x={}))},1947:(t,e,i)=>{"use strict";i.d(e,{$P:()=>Pe,$Z:()=>It,$f:()=>w,A4:()=>Ve,A5:()=>P,A6:()=>rt,Ag:()=>s.A,BP:()=>Ht,Bu:()=>T,Bw:()=>de,CF:()=>Ee,CI:()=>_,D8:()=>Le,ES:()=>si,Eo:()=>qe,FW:()=>m,GW:()=>O,Gj:()=>S,He:()=>ye,JH:()=>ei,LE:()=>M,LQ:()=>ti,Ln:()=>u,MT:()=>ze,Mt:()=>Xt,NW:()=>ie,Nc:()=>c,O1:()=>F,OE:()=>B,OO:()=>J,Pt:()=>it,RO:()=>ve,Ru:()=>Fe,SD:()=>$e,Uw:()=>Qt,V2:()=>z,WD:()=>_t,WQ:()=>E,X1:()=>Q,XN:()=>ct,XO:()=>s.X,Y7:()=>N,_H:()=>be,_J:()=>Ae,aV:()=>b,ah:()=>re,bD:()=>at,cc:()=>Ke,ch:()=>ai,dJ:()=>Jt,dZ:()=>A,di:()=>I,gP:()=>k,hk:()=>ue,hp:()=>H,hq:()=>Ze,iH:()=>he,iQ:()=>Qe,iW:()=>ne,jH:()=>x,k2:()=>K,kO:()=>q,kb:()=>ut,kp:()=>Xe,lB:()=>ke,n1:()=>_e,nV:()=>hi,nW:()=>G,nj:()=>lt,oA:()=>ni,pq:()=>st,q5:()=>Ye,s9:()=>le,t5:()=>y,u3:()=>Je,u9:()=>et,uC:()=>Lt,vB:()=>Ge,xv:()=>ci});var r=i(9615),n=i(805),a=i(3785),s=i(6919),o=i(935),l=i(4775),h=i(7239);r.W0.PREFER_ENV=a.isMobile.any?n.Km.WEBGL:n.Km.WEBGL2,r.W0.STRICT_TEXTURE_CACHE=!1;var u=[];function c(t,e){if(!t)return null;var i="";if("string"==typeof t){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(i=r[1].toLowerCase())}for(var n=u.length-1;n>=0;--n){var a=u[n];if(a.test&&a.test(t,i))return new a(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var p=function(t,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},p(t,e)};function d(t,e){function i(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var f=function(){return f=Object.assign||function(t){for(var e,i=arguments,r=1,n=arguments.length;r<n;r++)for(var a in e=i[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},f.apply(this,arguments)};function g(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(i[r[n]]=t[r[n]])}return i}var m=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new o.b("setRealSize"),this.onUpdate=new o.b("update"),this.onError=new o.b("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,i){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),A=function(t){function e(e,i){var r=this,n=i||{},a=n.width,s=n.height;if(!a||!s)throw new Error("BufferResource width or height invalid");return(r=t.call(this,a,s)||this).data=e,r}return d(e,t),e.prototype.upload=function(t,e,i){var r=t.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===n.Gk.UNPACK);var a=e.realWidth,s=e.realHeight;return i.width===a&&i.height===s?r.texSubImage2D(e.target,0,0,0,a,s,e.format,i.type,this.data):(i.width=a,i.height=s,r.texImage2D(e.target,0,i.internalFormat,a,s,0,e.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(m),v={scaleMode:n.M6.NEAREST,format:n.hR.RGBA,alphaMode:n.Gk.NPM},y=function(t){function e(e,i){void 0===e&&(e=null),void 0===i&&(i=null);var s=t.call(this)||this,o=(i=i||{}).alphaMode,l=i.mipmap,h=i.anisotropicLevel,u=i.scaleMode,p=i.width,d=i.height,f=i.wrapMode,g=i.format,A=i.type,v=i.target,y=i.resolution,_=i.resourceOptions;return!e||e instanceof m||((e=c(e,_)).internal=!0),s.resolution=y||r.W0.RESOLUTION,s.width=Math.round((p||0)*s.resolution)/s.resolution,s.height=Math.round((d||0)*s.resolution)/s.resolution,s._mipmap=void 0!==l?l:r.W0.MIPMAP_TEXTURES,s.anisotropicLevel=void 0!==h?h:r.W0.ANISOTROPIC_LEVEL,s._wrapMode=f||r.W0.WRAP_MODE,s._scaleMode=void 0!==u?u:r.W0.SCALE_MODE,s.format=g||n.hR.RGBA,s.type=A||n.QE.UNSIGNED_BYTE,s.target=v||n.dW.TEXTURE_2D,s.alphaMode=void 0!==o?o:n.Gk.UNPACK,s.uid=(0,a.uid)(),s.touched=0,s.isPowerOfTwo=!1,s._refreshPOT(),s._glTextures={},s.dirtyId=0,s.dirtyStyleId=0,s.cacheId=null,s.valid=p>0&&d>0,s.textureCacheIds=[],s.destroyed=!1,s.resource=null,s._batchEnabled=0,s._batchLocation=0,s.parentTextureArray=null,s.setResource(e),s}return d(e,t),Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,e){var i;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,i){return i=i||this.resolution,this.setRealSize(t*i,e*i,i)},e.prototype.setRealSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=(0,a.isPow2)(this.realWidth)&&(0,a.isPow2)(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete a.BaseTextureCache[this.cacheId],delete a.TextureCache[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,i,n){void 0===n&&(n=r.W0.STRICT_TEXTURE_CACHE);var s="string"==typeof t,o=null;if(s)o=t;else{if(!t._pixiId){var l=i&&i.pixiIdPrefix||"pixiid";t._pixiId=l+"_"+(0,a.uid)()}o=t._pixiId}var h=a.BaseTextureCache[o];if(s&&n&&!h)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return h||((h=new e(t,i)).cacheId=o,e.addToCache(h,o)),h},e.fromBuffer=function(t,i,r,a){t=t||new Float32Array(i*r*4);var s=new A(t,{width:i,height:r}),o=t instanceof Float32Array?n.QE.FLOAT:n.QE.UNSIGNED_BYTE;return new e(s,Object.assign({},v,a||{width:i,height:r,type:o}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),a.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),a.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=a.BaseTextureCache[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete a.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete a.BaseTextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(a.EventEmitter),_=function(t){function e(e,i){var r=this,n=i||{},a=n.width,s=n.height;(r=t.call(this,a,s)||this).items=[],r.itemDirtyIds=[];for(var o=0;o<e;o++){var l=new y;r.items.push(l),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return d(e,t),e.prototype.initFromArray=function(t,e){for(var i=0;i<this.length;i++)t[i]&&(t[i].castToBaseTexture?this.addBaseTextureAt(t[i].castToBaseTexture(),i):t[i]instanceof m?this.addResourceAt(t[i],i):this.addResourceAt(c(t[i],e),i))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=e,this.items[i].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})).filter((function(t){return t})).map((function(t){return t.load()}));return this._load=Promise.all(e).then((function(){var e=t.items[0],i=e.realWidth,r=e.realHeight;return t.resize(i,r),Promise.resolve(t)})),this._load},e}(m),b=function(t){function e(e,i){var r,n,a=this,s=i||{},o=s.width,l=s.height;return Array.isArray(e)?(r=e,n=e.length):n=e,a=t.call(this,n,{width:o,height:l})||this,r&&a.initFromArray(r,i),a}return d(e,t),e.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=n.dW.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,e,i){var r=this,n=r.length,a=r.itemDirtyIds,s=r.items,o=t.gl;i.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,n,0,e.format,i.type,null);for(var l=0;l<n;l++){var h=s[l];a[l]<h.dirtyId&&(a[l]=h.dirtyId,h.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,l,h.resource.width,h.resource.height,1,e.format,i.type,h.resource.source))}return!0},e}(_),x=function(t){function e(e){var i=this,r=e,n=r.naturalWidth||r.videoWidth||r.width,a=r.naturalHeight||r.videoHeight||r.height;return(i=t.call(this,n,a)||this).source=e,i.noSubImage=!1,i}return d(e,t),e.crossOrigin=function(t,e,i){void 0===i&&0!==e.indexOf("data:")?t.crossOrigin=(0,a.determineCrossOrigin)(e):!1!==i&&(t.crossOrigin="string"==typeof i?i:"anonymous")},e.prototype.upload=function(t,e,i,r){var a=t.gl,s=e.realWidth,o=e.realHeight;if((r=r||this.source)instanceof HTMLImageElement){if(!r.complete||0===r.naturalWidth)return!1}else if(r instanceof HTMLVideoElement&&r.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===n.Gk.UNPACK),this.noSubImage||e.target!==a.TEXTURE_2D||i.width!==s||i.height!==o?(i.width=s,i.height=o,a.texImage2D(e.target,0,i.internalFormat,e.format,i.type,r)):a.texSubImage2D(a.TEXTURE_2D,0,0,0,e.format,i.type,r),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source,i=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(i,r),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(m),T=function(t){function e(e){return t.call(this,e)||this}return d(e,t),e.test=function(t){var e=globalThis.OffscreenCanvas;return!!(e&&t instanceof e)||globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement},e}(x),E=function(t){function e(i,r){var a=this,s=r||{},o=s.width,l=s.height,h=s.autoLoad,u=s.linkBaseTexture;if(i&&i.length!==e.SIDES)throw new Error("Invalid length. Got "+i.length+", expected 6");a=t.call(this,6,{width:o,height:l})||this;for(var c=0;c<e.SIDES;c++)a.items[c].target=n.dW.TEXTURE_CUBE_MAP_POSITIVE_X+c;return a.linkBaseTexture=!1!==u,i&&a.initFromArray(i,r),!1!==h&&a.load(),a}return d(e,t),e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=n.dW.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,e,i){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=n.dW.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},e.prototype.upload=function(t,i,r){for(var n=this.itemDirtyIds,a=0;a<e.SIDES;a++){var s=this.items[a];(n[a]<s.dirtyId||r.dirtyId<i.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),n[a]=s.dirtyId):n[a]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,i.realWidth,i.realHeight,0,i.format,r.type,null),n[a]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(_),S=function(t){function e(e,i){var n=this;if(i=i||{},!(e instanceof HTMLImageElement)){var a=new Image;x.crossOrigin(a,e,i.crossorigin),a.src=e,e=a}return n=t.call(this,e)||this,!e.complete&&n._width&&n._height&&(n._width=0,n._height=0),n.url=e.src,n._process=null,n.preserveBitmap=!1,n.createBitmap=(void 0!==i.createBitmap?i.createBitmap:r.W0.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,n.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,n.bitmap=null,n._load=null,!1!==i.autoLoad&&n.load(),n}return d(e,t),e.prototype.load=function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise((function(t,i){var r=e.source;e.url=r.src;var n=function(){e.destroyed||(r.onload=null,r.onerror=null,e.resize(r.width,r.height),e._load=null,e.createBitmap?t(e.process()):t(e))};r.complete&&r.src?n():(r.onload=n,r.onerror=function(t){i(t),e.onError.emit(t)})}))),this._load},e.prototype.process=function(){var t=this,e=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,r=!e.crossOrigin||"anonymous"===e.crossOrigin;return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then((function(t){return t.blob()})).then((function(r){return i(r,0,0,e.width,e.height,{premultiplyAlpha:null===t.alphaMode||t.alphaMode===n.Gk.UNPACK?"premultiply":"none"})})).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process},e.prototype.upload=function(e,i,r){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var n=!0,a=i._glTextures;for(var s in a){var o=a[s];if(o!==r&&o.dirtyId!==i.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},e}(x),w=function(t){function e(e,i){var n=this;return i=i||{},(n=t.call(this,r.W0.ADAPTER.createCanvas())||this)._width=0,n._height=0,n.svg=e,n.scale=i.scale||1,n._overrideWidth=i.width,n._overrideHeight=i.height,n._resolve=null,n._crossorigin=i.crossorigin,n._load=null,!1!==i.autoLoad&&n.load(),n}return d(e,t),e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(i){if(t._resolve=function(){t.resize(t.source.width,t.source.height),i(t)},e.SVG_XML.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var t=this,e=new Image;x.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(i){t._resolve&&(e.onerror=null,t.onError.emit(i))},e.onload=function(){if(t._resolve){var i=e.width,r=e.height;if(!i||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=i*t.scale,s=r*t.scale;(t._overrideWidth||t._overrideHeight)&&(n=t._overrideWidth||t._overrideHeight/r*i,s=t._overrideHeight||t._overrideWidth/i*r),n=Math.round(n),s=Math.round(s);var o=t.source;o.width=n,o.height=s,o._pixiId="canvas_"+(0,a.uid)(),o.getContext("2d").drawImage(e,0,0,i,r,0,0,n,s),t._resolve(),t._resolve=null}}},e.getSize=function(t){var i=e.SVG_SIZE.exec(t),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,i){return"svg"===i||"string"==typeof t&&t.startsWith("data:image/svg+xml")||"string"==typeof t&&e.SVG_XML.test(t)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(x),P=function(t){function e(i,r){var n=this;if(r=r||{},!(i instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),"string"==typeof i&&(i=[i]);var s=i[0].src||i[0];x.crossOrigin(a,s,r.crossorigin);for(var o=0;o<i.length;++o){var l=document.createElement("source"),h=i[o],u=h.src,c=h.mime,p=(u=u||i[o]).split("?").shift().toLowerCase(),d=p.slice(p.lastIndexOf(".")+1);c=c||e.MIME_TYPES[d]||"video/"+d,l.src=u,l.type=c,a.appendChild(l)}i=a}return(n=t.call(this,i)||this).noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=r.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==r.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==r.autoLoad&&n.load(),n}return d(e,t),e.prototype.update=function(e){if(!this.destroyed){var i=l.Rv.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-i),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(i){t.valid?i(t):(t._resolve=i,e.load())})),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()},e.prototype._isSourceReady=function(){return this.source.readyState>2},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(l.Rv.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(l.Rv.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(l.Rv.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(l.Rv.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(l.Rv.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,i){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.indexOf(i)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(x),I=function(t){function e(e){return t.call(this,e)||this}return d(e,t),e.test=function(t){return!!globalThis.createImageBitmap&&"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap},e}(x);u.push(S,I,T,P,w,A,E,b);var R={__proto__:null,Resource:m,BaseImageResource:x,INSTALLED:u,autoDetectResource:c,AbstractMultiResource:_,ArrayResource:b,BufferResource:A,CanvasResource:T,CubeResource:E,ImageResource:S,SVGResource:w,VideoResource:P,ImageBitmapResource:I},C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.upload=function(t,e,i){var r=t.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===n.Gk.UNPACK);var a=e.realWidth,s=e.realHeight;return i.width===a&&i.height===s?r.texSubImage2D(e.target,0,0,0,a,s,e.format,i.type,this.data):(i.width=a,i.height=s,r.texImage2D(e.target,0,i.internalFormat,a,s,0,e.format,i.type,this.data)),!0},e}(A),O=function(){function t(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new o.b("disposeFramebuffer"),this.multisample=n.he.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new y(null,{scaleMode:n.M6.NEAREST,resolution:1,mipmap:n.E8.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new y(new C(null,{width:this.width,height:this.height}),{scaleMode:n.M6.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:n.E8.OFF,format:n.hR.DEPTH_COMPONENT,type:n.QE.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i],n=r.resolution;r.setSize(t/n,e/n)}if(this.depthTexture){n=this.depthTexture.resolution;this.depthTexture.setSize(t/n,e/n)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),M=function(t){function e(e){void 0===e&&(e={});var i=this;"number"==typeof e&&(e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:n.he.NONE,(i=t.call(this,null,e)||this).mipmap=n.E8.OFF,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new O(i.realWidth,i.realHeight).addColorTexture(0,i),i.framebuffer.multisample=e.multisample,i.maskStack=[],i.filterStack=[{}],i}return d(e,t),e.prototype.resize=function(t,e){this.framebuffer.resize(t*this.resolution,e*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(y),B=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,i){var r=e.width,n=e.height;if(i){var a=t.width/2/r,s=t.height/2/n,o=t.x/r+a,l=t.y/n+s;i=h.ER.add(i,h.ER.NW),this.x0=o+a*h.ER.uX(i),this.y0=l+s*h.ER.uY(i),i=h.ER.add(i,2),this.x1=o+a*h.ER.uX(i),this.y1=l+s*h.ER.uY(i),i=h.ER.add(i,2),this.x2=o+a*h.ER.uX(i),this.y2=l+s*h.ER.uY(i),i=h.ER.add(i,2),this.x3=o+a*h.ER.uX(i),this.y3=l+s*h.ER.uY(i)}else this.x0=t.x/r,this.y0=t.y/n,this.x1=(t.x+t.width)/r,this.y1=t.y/n,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/n,this.x3=t.x/r,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},t}(),D=new B;function L(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var k=function(t){function e(i,r,n,a,s,o){var l=t.call(this)||this;if(l.noFrame=!1,r||(l.noFrame=!0,r=new h.M_(0,0,1,1)),i instanceof e&&(i=i.baseTexture),l.baseTexture=i,l._frame=r,l.trim=a,l.valid=!1,l._uvs=D,l.uvMatrix=null,l.orig=n||r,l._rotate=Number(s||0),!0===s)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=o?new h.bR(o.x,o.y):new h.bR(0,0),l._updateID=0,l.textureCacheIds=[],i.valid?l.noFrame?i.valid&&l.onBaseTextureUpdated(i):l.frame=r:i.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&i.on("update",l.onBaseTextureUpdated,l),l}return d(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var i=this.baseTexture.resource;i&&i.url&&a.TextureCache[i.url]&&e.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var t=this._frame.clone(),i=this._frame===this.orig?t:this.orig.clone(),r=new e(this.baseTexture,!this.noFrame&&t,i,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=t),r},e.prototype.updateUvs=function(){this._uvs===D&&(this._uvs=new B),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,i,n){void 0===i&&(i={}),void 0===n&&(n=r.W0.STRICT_TEXTURE_CACHE);var s="string"==typeof t,o=null;if(s)o=t;else if(t instanceof y){if(!t.cacheId){var l=i&&i.pixiIdPrefix||"pixiid";t.cacheId=l+"-"+(0,a.uid)(),y.addToCache(t,t.cacheId)}o=t.cacheId}else{if(!t._pixiId){l=i&&i.pixiIdPrefix||"pixiid";t._pixiId=l+"_"+(0,a.uid)()}o=t._pixiId}var h=a.TextureCache[o];if(s&&n&&!h)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return h||t instanceof y?!h&&t instanceof y&&(h=new e(t),e.addToCache(h,o)):(i.resolution||(i.resolution=(0,a.getResolutionOfUrl)(t)),(h=new e(new y(t,i))).baseTexture.cacheId=o,y.addToCache(h.baseTexture,o),e.addToCache(h,o)),h},e.fromURL=function(t,i){var r=Object.assign({autoLoad:!1},null==i?void 0:i.resourceOptions),n=e.from(t,Object.assign({resourceOptions:r},i),!1),a=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):a.load().then((function(){return Promise.resolve(n)}))},e.fromBuffer=function(t,i,r,n){return new e(y.fromBuffer(t,i,r,n))},e.fromLoader=function(t,i,n,s){var o=new y(t,Object.assign({scaleMode:r.W0.SCALE_MODE,resolution:(0,a.getResolutionOfUrl)(i)},s)),l=o.resource;l instanceof S&&(l.url=i);var h=new e(o);return n||(n=i),y.addToCache(h.baseTexture,n),e.addToCache(h,n),n!==i&&(y.addToCache(h.baseTexture,i),e.addToCache(h,i)),h.baseTexture.valid?Promise.resolve(h):new Promise((function(t){h.baseTexture.once("loaded",(function(){return t(h)}))}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),a.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),a.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=a.TextureCache[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete a.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)a.TextureCache[t.textureCacheIds[r]]===t&&delete a.TextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,i=t.y,r=t.width,n=t.height,a=e+r>this.baseTexture.width,s=i+n>this.baseTexture.height;if(a||s){var o=a&&s?"and":"or",l="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,h="Y: "+i+" + "+n+" = "+(i+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+o+" "+h)}this.valid=r&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new y),L(e._EMPTY),L(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var t=r.W0.ADAPTER.createCanvas(16,16),i=t.getContext("2d");t.width=16,t.height=16,i.fillStyle="white",i.fillRect(0,0,16,16),e._WHITE=new e(y.from(t)),L(e._WHITE),L(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(a.EventEmitter),N=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return d(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(t){this.framebuffer.multisample=t},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,i){void 0===i&&(i=!0);var r=this.baseTexture.resolution,n=Math.round(t*r)/r,a=Math.round(e*r)/r;this.valid=n>0&&a>0,this._frame.width=this.orig.width=n,this._frame.height=this.orig.height=a,i&&this.baseTexture.resize(n,a),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){for(var i=arguments,r=[],n=1;n<arguments.length;n++)r[n-1]=i[n];return"number"==typeof t&&((0,a.deprecation)("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),t={width:t,height:r[0],scaleMode:r[1],resolution:r[2]}),new e(new M(t))},e}(k),F=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e,i){void 0===i&&(i=n.he.NONE);var r=new M(Object.assign({width:t,height:e,resolution:1,multisample:i},this.textureOptions));return new N(r)},t.prototype.getOptimalTexture=function(t,e,i,r){var s;void 0===i&&(i=1),void 0===r&&(r=n.he.NONE),t=Math.ceil(t*i-1e-6),e=Math.ceil(e*i-1e-6),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?s=r>1?-r:-1:(s=((65535&(t=(0,a.nextPow2)(t)))<<16|65535&(e=(0,a.nextPow2)(e)))>>>0,r>1&&(s+=4294967296*r)),this.texturePool[s]||(this.texturePool[s]=[]);var o=this.texturePool[s].pop();return o||(o=this.createTexture(t,e,r)),o.filterPoolKey=s,o.setResolution(i),o},t.prototype.getFilterTexture=function(t,e,i){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution,i||n.he.NONE);return r.filterFrame=t.filterFrame,r},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},t.SCREEN_KEY=-1,t}(),G=function(){function t(t,e,i,r,a,s,o){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=n.QE.FLOAT),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=a,this.start=s,this.instance=o}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,i,r,n,a){return new t(e,i,r,n,a)},t}(),U=0,H=function(){function t(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=U++,this.disposeRunner=new o.b("disposeBuffer")}return t.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===n.yw.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?n.yw.ELEMENT_ARRAY_BUFFER:n.yw.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),X={Float32Array,Uint32Array,Int32Array,Uint8Array};function j(t,e){for(var i=0,r=0,n={},s=0;s<t.length;s++)r+=e[s],i+=t[s].length;var o=new ArrayBuffer(4*i),l=null,h=0;for(s=0;s<t.length;s++){var u=e[s],c=t[s],p=(0,a.getBufferType)(c);n[p]||(n[p]=new X[p](o)),l=n[p];for(var d=0;d<c.length;d++){l[(d/u|0)*r+h+d%u]=c[d]}h+=u}return new Float32Array(o)}var W={5126:4,5123:2,5121:1},V=0,Y={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},z=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=V++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new o.b("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,i,r,n,a,s,o){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===o&&(o=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof H||(e instanceof Array&&(e=new Float32Array(e)),e=new H(e));var l=t.split("|");if(l.length>1){for(var h=0;h<l.length;h++)this.addAttribute(l[h],e,i,r,n);return this}var u=this.buffers.indexOf(e);return-1===u&&(this.buffers.push(e),u=this.buffers.length-1),this.attributes[t]=new G(u,i,r,n,a,s,o),this.instanced=this.instanced||o,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof H||(t instanceof Array&&(t=new Uint16Array(t)),t=new H(t)),t.type=n.yw.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],i=[],r=new H;for(t in this.attributes){var n=this.attributes[t],a=this.buffers[n.buffer];e.push(a.data),i.push(n.size*W[n.type]/4),n.buffer=0}for(r.data=j(e,i),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,i=0;i<this.buffers.length;i++)e.buffers[i]=new H(this.buffers[i].data.slice(0));for(var i in this.attributes){var r=this.attributes[i];e.attributes[i]=new G(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=n.yw.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var i,r=new t,s=[],o=[],l=[],h=0;h<e.length;h++){i=e[h];for(var u=0;u<i.buffers.length;u++)o[u]=o[u]||0,o[u]+=i.buffers[u].data.length,l[u]=0}for(h=0;h<i.buffers.length;h++)s[h]=new(Y[(0,a.getBufferType)(i.buffers[h].data)])(o[h]),r.buffers[h]=new H(s[h]);for(h=0;h<e.length;h++){i=e[h];for(u=0;u<i.buffers.length;u++)s[u].set(i.buffers[u].data,l[u]),l[u]+=i.buffers[u].data.length}if(r.attributes=i.attributes,i.indexBuffer){r.indexBuffer=r.buffers[i.buffers.indexOf(i.indexBuffer)],r.indexBuffer.type=n.yw.ELEMENT_ARRAY_BUFFER;var c=0,p=0,d=0,f=0;for(h=0;h<i.buffers.length;h++)if(i.buffers[h]!==i.indexBuffer){f=h;break}for(var h in i.attributes){var g=i.attributes[h];(0|g.buffer)===f&&(p+=g.size*W[g.type]/4)}for(h=0;h<e.length;h++){var m=e[h].indexBuffer.data;for(u=0;u<m.length;u++)r.indexBuffer.data[u+d]+=c;c+=e[h].buffers[f].data.length/p,d+=m.length}}return r},t}(),q=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return d(e,t),e}(z),Q=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new H(e.vertices),e.uvBuffer=new H(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return d(e,t),e.prototype.map=function(t,e){var i=0,r=0;return this.uvs[0]=i,this.uvs[1]=r,this.uvs[2]=i+e.width/t.width,this.uvs[3]=r,this.uvs[4]=i+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=i,this.uvs[7]=r+e.height/t.height,i=e.x,r=e.y,this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+e.width,this.vertices[3]=r,this.vertices[4]=i+e.width,this.vertices[5]=r+e.height,this.vertices[6]=i,this.vertices[7]=r+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(z),Z=0,K=function(){function t(t,e,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Z++,this.static=!!e,this.ubo=!!i,t instanceof H?(this.buffer=t,this.buffer.type=n.yw.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new H(new Float32Array(1)),this.buffer.type=n.yw.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,i,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[e]=new t(i,r)},t.from=function(e,i,r){return new t(e,i,r)},t.uboFrom=function(e,i){return new t(e,null==i||i,!0)},t}(),J=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=n.he.NONE,this.sourceFrame=new h.M_,this.destinationFrame=new h.M_,this.bindingSourceFrame=new h.M_,this.bindingDestinationFrame=new h.M_,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),$=[new h.bR,new h.bR,new h.bR,new h.bR],tt=new h.uq,et=function(){function t(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new F,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new q,this.quadUv=new Q,this.tempRect=new h.M_,this.activeState={},this.globalUniforms=new K({outputFrame:new h.M_,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(t,e){for(var i,r,n=this.renderer,a=this.defaultFilterStack,s=this.statePool.pop()||new J,o=this.renderer.renderTexture,l=e[0].resolution,h=e[0].multisample,u=e[0].padding,c=e[0].autoFit,p=null===(i=e[0].legacy)||void 0===i||i,d=1;d<e.length;d++){var f=e[d];l=Math.min(l,f.resolution),h=Math.min(h,f.multisample),u=this.useMaxPadding?Math.max(u,f.padding):u+f.padding,c=c&&f.autoFit,p=p||null===(r=f.legacy)||void 0===r||r}1===a.length&&(this.defaultFilterStack[0].renderTexture=o.current),a.push(s),s.resolution=l,s.multisample=h,s.legacy=p,s.target=t,s.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),s.sourceFrame.pad(u);var g=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(tt.copyFrom(n.projection.transform).invert(),g),c?(s.sourceFrame.fit(g),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(g)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,h),s.filters=e,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var m=this.tempRect;m.x=0,m.y=0,m.width=s.sourceFrame.width,m.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,m),n.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var a=r.inputSize,s=r.inputPixel,o=r.inputClamp;if(a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],s[0]=Math.round(a[0]*e.resolution),s[1]=Math.round(a[1]*e.resolution),s[2]=1/s[0],s[3]=1/s[1],o[0]=.5*s[2],o[1]=.5*s[3],o[2]=e.sourceFrame.width*a[2]-.5*s[2],o[3]=e.sourceFrame.height*a[3]-.5*s[3],e.legacy){var l=r.filterArea;l[0]=e.destinationFrame.width,l[1]=e.destinationFrame.height,l[2]=e.sourceFrame.x,l[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,h.renderTexture,n.fr.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,e.resolution);c.filterFrame=u.filterFrame;var p=0;for(p=0;p<i.length-1;++p){1===p&&e.multisample>1&&((c=this.getOptimalFilterTexture(u.width,u.height,e.resolution)).filterFrame=u.filterFrame),i[p].apply(this,u,c,n.fr.CLEAR,e);var d=u;u=c,c=d}i[p].apply(this,u,h.renderTexture,n.fr.BLEND,e),p>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(c)}e.clear(),this.statePool.push(e)},t.prototype.bindAndClear=function(t,e){void 0===e&&(e=n.fr.CLEAR);var i=this.renderer,r=i.renderTexture,a=i.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var s=this.tempRect;s.x=0,s.y=0,s.width=t.filterFrame.width,s.height=t.filterFrame.height,r.bind(t,t.filterFrame,s)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var o=1&a.stateId||this.forceClear;(e===n.fr.CLEAR||e===n.fr.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(t,e,i,r){var a=this.renderer;a.state.set(t.state),this.bindAndClear(i,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(n._4.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(n._4.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,n=i.destinationFrame,a=e._texture.orig,s=t.set(n.width,0,0,n.height,r.x,r.y),o=e.worldTransform.copyTo(h.uq.TEMP_MATRIX);return o.invert(),s.prepend(o),s.scale(1/a.width,1/a.height),s.translate(e.anchor.x,e.anchor.y),s},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(t,e,i,r){return void 0===i&&(i=1),void 0===r&&(r=n.he.NONE),this.texturePool.getOptimalTexture(t,e,i,r)},t.prototype.getFilterTexture=function(t,e,i){if("number"==typeof t){var r=t;t=e,e=r}t=t||this.activeState.renderTexture;var a=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution,i||n.he.NONE);return a.filterFrame=t.filterFrame,a},t.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(t,e){var i=$[0],r=$[1],n=$[2],a=$[3];i.set(e.left,e.top),r.set(e.left,e.bottom),n.set(e.right,e.top),a.set(e.right,e.bottom),t.apply(i,i),t.apply(r,r),t.apply(n,n),t.apply(a,a);var s=Math.min(i.x,r.x,n.x,a.x),o=Math.min(i.y,r.y,n.y,a.y),l=Math.max(i.x,r.x,n.x,a.x),h=Math.max(i.y,r.y,n.y,a.y);e.x=s,e.y=o,e.width=l-s,e.height=h-o},t.prototype.roundFrame=function(t,e,i,r,n){if(!(t.width<=0||t.height<=0||i.width<=0||i.height<=0)){if(n){var a=n.a,s=n.b,o=n.c,l=n.d;if((Math.abs(s)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(l)>1e-4))return}(n=n?tt.copyFrom(n):tt.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.transformAABB(n,t),t.ceil(e),this.transformAABB(n.invert(),t)}},t}(),it=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),rt=function(){function t(t){this.renderer=t,this.emptyRenderer=new it(t),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=i[r]||null,t[r]&&(t[r]._batchLocation=r)},t.prototype.boundArray=function(t,e,i,r){for(var n=t.elements,a=t.ids,s=t.count,o=0,l=0;l<s;l++){var h=n[l],u=h._batchLocation;if(u>=0&&u<r&&e[u]===h)a[l]=u;else for(;o<r;){var c=e[o];if(!c||c._batchEnabled!==i||c._batchLocation!==o){a[l]=o,h._batchLocation=o,e[o]=h;break}o++}}},t.prototype.destroy=function(){this.renderer=null},t}(),nt=0,at=function(){function t(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=nt++},t.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=nt++,this.renderer.runners.contextChange.emit(t)},t.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},t.prototype.createContext=function(t,e){var i;if(r.W0.PREFER_ENV>=n.Km.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var t=this.gl,e={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(t){var e=this;t.preventDefault(),setTimeout((function(){e.gl.isContextLost()&&e.extensions.loseContext&&e.extensions.loseContext.restoreContext()}),0)},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(t){var e=t.getContextAttributes(),i="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;i&&(this.webGLVersion=2),e&&!e.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=i||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),st=function(){function t(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=n.he.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),ot=new h.M_,lt=function(){function t(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new O(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new h.M_,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;r.W0.PREFER_ENV===n.Km.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},t.prototype.bind=function(t,e,i){void 0===i&&(i=0);var r=this.gl;if(t){var n=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,n.framebuffer)),n.mipLevel!==i&&(t.dirtyId++,t.dirtyFormat++,n.mipLevel=i),n.dirtyId!==t.dirtyId&&(n.dirtyId=t.dirtyId,n.dirtyFormat!==t.dirtyFormat?(n.dirtyFormat=t.dirtyFormat,n.dirtySize=t.dirtySize,this.updateFramebuffer(t,i)):n.dirtySize!==t.dirtySize&&(n.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var a=0;a<t.colorTextures.length;a++){var s=t.colorTextures[a];this.renderer.texture.unbind(s.parentTextureArray||s)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var o=e.width>>i,l=e.height>>i,h=o/e.width;this.setViewport(e.x*h,e.y*h,o,l)}else{o=t.width>>i,l=t.height>>i;this.setViewport(0,0,o,l)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(t,e,i,r){var n=this.viewport;t=Math.round(t),e=Math.round(e),i=Math.round(i),r=Math.round(r),n.width===i&&n.height===r&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=i,n.height=r,this.gl.viewport(t,e,i,r))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(t,e,i,r,a){void 0===a&&(a=n.wn.COLOR|n.wn.DEPTH);var s=this.gl;s.clearColor(t,e,i,r),s.clear(a)},t.prototype.initFramebuffer=function(t){var e=this.gl,i=new st(e.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i},t.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height)),i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),i.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var r=t.colorTextures,n=r.length;e.drawBuffers||(n=Math.min(n,1));for(var a=0;a<n;a++){var s=r[a],o=s.parentTextureArray||s;this.renderer.texture.bind(o,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},t.prototype.updateFramebuffer=function(t,e){var i=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],n=t.colorTextures,a=n.length;i.drawBuffers||(a=Math.min(a,1)),r.multisample>1&&this.canMultisampleFramebuffer(t)?(r.msaaBuffer=r.msaaBuffer||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.RGBA8,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(i.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var s=[],o=0;o<a;o++){var l=n[o],h=l.parentTextureArray||l;this.renderer.texture.bind(h,0),0===o&&r.msaaBuffer||(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+o,l.target,h._glTextures[this.CONTEXT_UID].texture,e),s.push(i.COLOR_ATTACHMENT0+o))}if((s.length>1&&i.drawBuffers(s),t.depthTexture)&&this.writeDepthTexture){var u=t.depthTexture;this.renderer.texture.bind(u,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?r.stencil&&(i.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.DEPTH24_STENCIL8,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,r.stencil))},t.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},t.prototype.detectSamples=function(t){var e=this.msaaSamples,i=n.he.NONE;if(t<=1||null===e)return i;for(var r=0;r<e.length;r++)if(e[r]<=t){i=e[r];break}return 1===i&&(i=n.he.NONE),i},t.prototype.blit=function(t,e,i){var r=this,n=r.current,a=r.renderer,s=r.gl,o=r.CONTEXT_UID;if(2===a.context.webGLVersion&&n){var l=n.glFramebuffers[o];if(l){if(!t){if(!l.msaaBuffer)return;var h=n.colorTextures[0];if(!h)return;l.blitFramebuffer||(l.blitFramebuffer=new O(n.width,n.height),l.blitFramebuffer.addColorTexture(0,h)),(t=l.blitFramebuffer).colorTextures[0]!==h&&(t.colorTextures[0]=h,t.dirtyId++,t.dirtyFormat++),t.width===n.width&&t.height===n.height||(t.width=n.width,t.height=n.height,t.dirtyId++,t.dirtySize++)}e||((e=ot).width=n.width,e.height=n.height),i||(i=e);var u=e.width===i.width&&e.height===i.height;this.bind(t),s.bindFramebuffer(s.READ_FRAMEBUFFER,l.framebuffer),s.blitFramebuffer(e.left,e.top,e.right,e.bottom,i.left,i.top,i.right,i.bottom,s.COLOR_BUFFER_BIT,u?s.NEAREST:s.LINEAR)}}},t.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&r.deleteRenderbuffer(i.msaaBuffer),i.stencil&&r.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},t.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.stencil=!0;var i=t.width,r=t.height,n=this.gl,a=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,a),e.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,e.multisample,n.DEPTH24_STENCIL8,i,r):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,i,r),e.stencil=a,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,a)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new h.M_},t.prototype.destroy=function(){this.renderer=null},t}(),ht={5126:4,5123:2,5121:1},ut=function(){function t(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var i=this.renderer.context.extensions.vertexArrayObject;r.W0.PREFER_ENV===n.Km.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(t){return i.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return i.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var a=t.getExtension("ANGLE_instanced_arrays");a?(t.vertexAttribDivisor=function(t,e){return a.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,i,r,n){return a.drawElementsInstancedANGLE(t,e,i,r,n)},t.drawArraysInstanced=function(t,e,i,r){return a.drawArraysInstancedANGLE(t,e,i,r)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},t.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],n=!1;r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},n=!0);var a=r[e.program.id]||this.initGeometryVao(t,e,n);this._activeGeometry=t,this._activeVao!==a&&(this._activeVao=a,this.hasVao?i.bindVertexArray(a):this.activateVao(t,e.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,i=0;i<t.buffers.length;i++){var r=t.buffers[i];e.update(r)}},t.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var n in r)if(!i[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},t.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,n=["g",t.id];for(var a in i)r[a]&&n.push(a,r[a].location);return n.join("-")},t.prototype.initGeometryVao=function(t,e,i){void 0===i&&(i=!0);var r=this.gl,n=this.CONTEXT_UID,a=this.renderer.buffer,s=e.program;s.glPrograms[n]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,s);var o=this.getSignature(t,s),l=t.glVertexArrayObjects[this.CONTEXT_UID],h=l[o];if(h)return l[s.id]=h,h;var u=t.buffers,c=t.attributes,p={},d={};for(var f in u)p[f]=0,d[f]=0;for(var f in c)!c[f].size&&s.attributeData[f]?c[f].size=s.attributeData[f].size:c[f].size||console.warn("PIXI Geometry attribute '"+f+"' size cannot be determined (likely the bound shader does not have the attribute)"),p[c[f].buffer]+=c[f].size*ht[c[f].type];for(var f in c){var g=c[f],m=g.size;void 0===g.stride&&(p[g.buffer]===m*ht[g.type]?g.stride=0:g.stride=p[g.buffer]),void 0===g.start&&(g.start=d[g.buffer],d[g.buffer]+=m*ht[g.type])}h=r.createVertexArray(),r.bindVertexArray(h);for(var A=0;A<u.length;A++){var v=u[A];a.bind(v),i&&v._glBuffers[n].refCount++}return this.activateVao(t,s),this._activeVao=h,l[s.id]=h,l[o]=h,h},t.prototype.disposeGeometry=function(t,e){var i;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,a=t.buffers,s=null===(i=this.renderer)||void 0===i?void 0:i.buffer;if(t.disposeRunner.remove(this),r){if(s)for(var o=0;o<a.length;o++){var l=a[o]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,0!==l.refCount||e||s.dispose(a[o],e))}if(!e)for(var h in r)if("g"===h[0]){var u=r[h];this._activeVao===u&&this.unbind(),n.deleteVertexArray(u)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t)},t.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,n=this.renderer.buffer,a=t.buffers,s=t.attributes;t.indexBuffer&&n.bind(t.indexBuffer);var o=null;for(var l in s){var h=s[l],u=a[h.buffer],c=u._glBuffers[r];if(e.attributeData[l]){o!==c&&(n.bind(u),o=c);var p=e.attributeData[l].location;if(i.enableVertexAttribArray(p),i.vertexAttribPointer(p,h.size,h.type||i.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(p,1)}}}},t.prototype.draw=function(t,e,i,r){var n=this.gl,a=this._activeGeometry;if(a.indexBuffer){var s=a.indexBuffer.data.BYTES_PER_ELEMENT,o=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?a.instanced?n.drawElementsInstanced(t,e||a.indexBuffer.data.length,o,(i||0)*s,r||1):n.drawElements(t,e||a.indexBuffer.data.length,o,(i||0)*s):console.warn("unsupported index buffer type: uint32")}else a.instanced?n.drawArraysInstanced(t,i,e||a.getSize(),r||1):n.drawArrays(t,i,e||a.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),ct=function(){function t(t){void 0===t&&(t=null),this.type=n.vg.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=r.W0.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=n.vg.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function pt(t,e,i){var r=t.createShader(e);return t.shaderSource(r,i),t.compileShader(r),r}function dt(t,e){var i=t.getShaderSource(e).split("\n").map((function(t,e){return e+": "+t})),r=t.getShaderInfoLog(e),n=r.split("\n"),a={},s=n.map((function(t){return parseFloat(t.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))})).filter((function(t){return!(!t||a[t])&&(a[t]=!0,!0)})),o=[""];s.forEach((function(t){i[t-1]="%c"+i[t-1]+"%c",o.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));var l=i.join("\n");o[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,o),console.groupEnd()}function ft(t,e,i,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(i,t.COMPILE_STATUS)||dt(t,i),t.getShaderParameter(r,t.COMPILE_STATUS)||dt(t,r),console.error("PixiJS Error: Could not initialize shader."),""!==t.getProgramInfoLog(e)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function gt(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e}function mt(t,e){switch(t){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return gt(2*e);case"bvec3":return gt(3*e);case"bvec4":return gt(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var At,vt={},yt=vt;function _t(){if(yt===vt||yt&&yt.isContextLost()){var t=r.W0.ADAPTER.createCanvas(),e=void 0;r.W0.PREFER_ENV>=n.Km.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),yt=e}return yt}function bt(){if(!At){At=n.Pk.MEDIUM;var t=_t();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);At=e.precision?n.Pk.HIGH:n.Pk.MEDIUM}}return At}function xt(t,e,i){if("precision"!==t.substring(0,9)){var r=e;return e===n.Pk.HIGH&&i!==n.Pk.HIGH&&(r=n.Pk.MEDIUM),"precision "+r+" float;\n"+t}return i!==n.Pk.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var Tt={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Et(t){return Tt[t]}var St=null,wt={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Pt(t,e){if(!St){var i=Object.keys(wt);St={};for(var r=0;r<i.length;++r){var n=i[r];St[t[n]]=wt[n]}}return St[e]}var It=[{test:function(t){return"float"===t.type&&1===t.size&&!t.isArray},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t,e){return!("sampler2D"!==t.type&&"samplerCube"!==t.type&&"sampler2DArray"!==t.type||1!==t.size||t.isArray||null!=e&&void 0===e.castToBaseTexture)},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&!t.isArray&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '},codeUbo:function(t){return"\n                var "+t+"_matrix = uv."+t+".toArray(true);\n\n                data[offset] = "+t+"_matrix[0];\n                data[offset+1] = "+t+"_matrix[1];\n                data[offset+2] = "+t+"_matrix[2];\n        \n                data[offset + 4] = "+t+"_matrix[3];\n                data[offset + 5] = "+t+"_matrix[4];\n                data[offset + 6] = "+t+"_matrix[5];\n        \n                data[offset + 8] = "+t+"_matrix[6];\n                data[offset + 9] = "+t+"_matrix[7];\n                data[offset + 10] = "+t+"_matrix[8];\n            "}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&!t.isArray&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'},codeUbo:function(t){return"\n                v = uv."+t+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(t){return"vec2"===t.type&&1===t.size&&!t.isArray},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&!t.isArray&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(t){return"\n                    v = uv."+t+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(t){return"vec4"===t.type&&1===t.size&&!t.isArray},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Rt={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},Ct={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Ot(t,e){var i,r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var n in t.uniforms){var a=e[n];if(a){for(var s=t.uniforms[n],o=!1,l=0;l<It.length;l++)if(It[l].test(a,s)){r.push(It[l].code(n,s)),o=!0;break}if(!o){var h=(1!==a.size||a.isArray?Ct:Rt)[a.type].replace("location",'ud["'+n+'"].location');r.push('\n            cu = ud["'+n+'"];\n            cv = cu.value;\n            v = uv["'+n+'"];\n            '+h+";")}}else(null===(i=t.uniforms[n])||void 0===i?void 0:i.group)&&(t.uniforms[n].ubo?r.push("\n                        renderer.shader.syncUniformBufferGroup(uv."+n+", '"+n+"');\n                    "):r.push("\n                        renderer.shader.syncUniformGroup(uv."+n+", syncData);\n                    "))}return new Function("ud","uv","renderer","syncData",r.join("\n"))}var Mt,Bt=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Dt(t){for(var e="",i=0;i<t;++i)i>0&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}function Lt(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=e.createShader(e.FRAGMENT_SHADER);;){var r=Bt.replace(/%forloop%/gi,Dt(t));if(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return t}function kt(){if("boolean"==typeof Mt)return Mt;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Mt=!0===t({a:"b"},"a","b")}catch(e){Mt=!1}return Mt}var Nt="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}",Ft="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n",Gt=0,Ut={},Ht=function(){function t(e,i,a){void 0===a&&(a="pixi-shader"),this.id=Gt++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=i||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(a=a.replace(/\s+/g,"-"),Ut[a]?(Ut[a]++,a+="-"+Ut[a]):Ut[a]=1,this.vertexSrc="#define SHADER_NAME "+a+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+a+"\n"+this.fragmentSrc,this.vertexSrc=xt(this.vertexSrc,r.W0.PRECISION_VERTEX,n.Pk.HIGH),this.fragmentSrc=xt(this.fragmentSrc,r.W0.PRECISION_FRAGMENT,bt())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return Ft},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return Nt},enumerable:!1,configurable:!0}),t.from=function(e,i,r){var n=e+i,s=a.ProgramCache[n];return s||(a.ProgramCache[n]=s=new t(e,i,r)),s},t}(),Xt=function(){function t(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof K?e:new K(e):new K({}),this.disposeRunner=new o.b("disposeShader")}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,i,r){return new t(Ht.from(e,i),r)},t}(),jt=0,Wt=1,Vt=2,Yt=3,zt=4,qt=5,Qt=function(){function t(){this.data=0,this.blendMode=n.B9.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<jt)},set:function(t){!!(this.data&1<<jt)!==t&&(this.data^=1<<jt)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<Wt)},set:function(t){!!(this.data&1<<Wt)!==t&&(this.data^=1<<Wt)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<Vt)},set:function(t){!!(this.data&1<<Vt)!==t&&(this.data^=1<<Vt)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<Yt)},set:function(t){!!(this.data&1<<Yt)!==t&&(this.data^=1<<Yt)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<qt)},set:function(t){!!(this.data&1<<qt)!==t&&(this.data^=1<<qt)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<zt)},set:function(t){!!(this.data&1<<zt)!==t&&(this.data^=1<<zt)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==n.B9.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),Zt="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n",Kt="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Jt=function(t){function e(i,n,a){var s=this,o=Ht.from(i||e.defaultVertexSrc,n||e.defaultFragmentSrc);return(s=t.call(this,o,a)||this).padding=0,s.resolution=r.W0.FILTER_RESOLUTION,s.multisample=r.W0.FILTER_MULTISAMPLE,s.enabled=!0,s.autoFit=!0,s.state=new Qt,s}return d(e,t),e.prototype.apply=function(t,e,i,r,n){t.applyFilter(this,e,i,r)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._resolution=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return Kt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return Zt},enumerable:!1,configurable:!0}),e}(Xt),$t="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",te="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",ee=new h.uq,ie=function(){function t(t,e){this._texture=t,this.mapCoord=new h.uq,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var n=t[r],a=t[r+1];e[r]=n*i.a+a*i.c+i.tx,e[r+1]=n*i.b+a*i.d+i.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,n=e.trim;n&&(ee.set(r.width/n.width,0,0,r.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(ee));var a=e.baseTexture,s=this.uClampFrame,o=this.clampMargin/a.resolution,l=this.clampOffset;return s[0]=(e._frame.x+o+l)/a.width,s[1]=(e._frame.y+o+l)/a.height,s[2]=(e._frame.x+e._frame.width-o+l)/a.width,s[3]=(e._frame.y+e._frame.height-o+l)/a.height,this.uClampOffset[0]=l/a.realWidth,this.uClampOffset[1]=l/a.realHeight,this.isSimple=e._frame.width===a.width&&e._frame.height===a.height&&0===e.rotate,!0},t}(),re=function(t){function e(e,i,r){var n=this,a=null;return"string"!=typeof e&&void 0===i&&void 0===r&&(a=e,e=void 0,i=void 0,r=void 0),(n=t.call(this,e||$t,i||te,r)||this).maskSprite=a,n.maskMatrix=new h.uq,n}return d(e,t),Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(t,e,i,r){var n=this._maskSprite,a=n._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new ie(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,t.applyFilter(this,e,i,r))},e}(Jt),ne=function(){function t(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},t.prototype.push=function(t,e){var i=e;if(!i.isMaskData){var r=this.maskDataPool.pop()||new ct;r.pooled=!0,r.maskObject=e,i=r}var a=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(a),i._colorMask=a?a._colorMask:15,i.autoDetect&&this.detect(i),i._target=t,i.type!==n.vg.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case n.vg.SCISSOR:this.renderer.scissor.push(i);break;case n.vg.STENCIL:this.renderer.stencil.push(i);break;case n.vg.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i);break;case n.vg.COLOR:this.pushColorMask(i)}i.type===n.vg.SPRITE&&this.maskStack.push(i)},t.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case n.vg.SCISSOR:this.renderer.scissor.pop(e);break;case n.vg.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case n.vg.SPRITE:this.popSpriteMask(e);break;case n.vg.COLOR:this.popColorMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var i=this.maskStack[this.maskStack.length-1];i.type===n.vg.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}},t.prototype.detect=function(t){var e=t.maskObject;e?e.isSprite?t.type=n.vg.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=n.vg.SCISSOR:t.type=n.vg.STENCIL:t.type=n.vg.COLOR},t.prototype.pushSpriteMask=function(t){var e,i,r=t.maskObject,n=t._target,a=t._filters;a||(a=this.alphaMaskPool[this.alphaMaskIndex])||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new re]);var s,o,l=this.renderer,h=l.renderTexture;if(h.current){var u=h.current;s=t.resolution||u.resolution,o=null!==(e=t.multisample)&&void 0!==e?e:u.multisample}else s=t.resolution||l.resolution,o=null!==(i=t.multisample)&&void 0!==i?i:l.multisample;a[0].resolution=s,a[0].multisample=o,a[0].maskSprite=r;var c=n.filterArea;n.filterArea=r.getBounds(!0),l.filter.push(n,a),n.filterArea=c,t._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.pushColorMask=function(t){var e=t._colorMask,i=t._colorMask=e&t.colorMask;i!==e&&this.renderer.gl.colorMask(0!=(1&i),0!=(2&i),0!=(4&i),0!=(8&i))},t.prototype.popColorMask=function(t){var e=t._colorMask,i=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;i!==e&&this.renderer.gl.colorMask(0!=(1&i),0!=(2&i),0!=(4&i),0!=(8&i))},t.prototype.destroy=function(){this.renderer=null},t}(),ae=function(){function t(t){this.renderer=t,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==i&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),se=new h.uq,oe=[],le=function(t){function e(e){var i=t.call(this,e)||this;return i.glConst=r.W0.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,i}return d(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.calcScissorRect=function(t){var e;if(!t._scissorRectLocal){var i=t._scissorRect,r=t.maskObject,n=this.renderer,a=n.renderTexture,s=r.getBounds(!0,null!==(e=oe.pop())&&void 0!==e?e:new h.M_);this.roundFrameToPixels(s,a.current?a.current.resolution:n.resolution,a.sourceFrame,a.destinationFrame,n.projection.transform),i&&s.fit(i),t._scissorRectLocal=s}},e.isMatrixRotated=function(t){if(!t)return!1;var e=t.a,i=t.b,r=t.c,n=t.d;return(Math.abs(i)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(n)>1e-4)},e.prototype.testScissor=function(t){var i=t.maskObject;if(!i.isFastRect||!i.isFastRect())return!1;if(e.isMatrixRotated(i.worldTransform))return!1;if(e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);var r=t._scissorRectLocal;return r.width>0&&r.height>0},e.prototype.roundFrameToPixels=function(t,i,r,n,a){e.isMatrixRotated(a)||((a=a?se.copyFrom(a):se.identity()).translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(a,t),t.fit(n),t.x=Math.round(t.x*i),t.y=Math.round(t.y*i),t.width=Math.round(t.width*i),t.height=Math.round(t.height*i))},e.prototype.push=function(t){t._scissorRectLocal||this.calcScissorRect(t);var e=this.renderer.gl;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;t&&oe.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t,e=this.maskStack[this.maskStack.length-1]._scissorRect;t=this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)},e}(ae),he=function(t){function e(e){var i=t.call(this,e)||this;return i.glConst=r.W0.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,i}return d(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,i=this.renderer.gl,r=t._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),t._stencilCounter++;var n=t._colorMask;0!==n&&(t._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,r,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==n&&(t._colorMask=n,i.colorMask(0!=(1&n),0!=(2&n),0!=(4&n),0!=(8&n))),this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;if(0===this.getStackLength())e.disable(e.STENCIL_TEST);else{var i=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,r=i?i._colorMask:15;0!==r&&(i._colorMask=0,e.colorMask(!1,!1,!1,!1)),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==r&&(i._colorMask=r,e.colorMask(0!=(1&r),0!=(2&r),0!=(4&r),0!=(8&r))),this._useCurrent()}},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e}(ae),ue=function(){function t(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new h.uq,this.transform=null}return t.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(t,e,i,r){var n=this.projectionMatrix,a=r?-1:1;n.identity(),n.a=1/e.width*2,n.d=a*(1/e.height*2),n.tx=-1-e.x*n.a,n.ty=-a-e.y*n.d},t.prototype.setTransform=function(t){},t.prototype.destroy=function(){this.renderer=null},t}(),ce=new h.M_,pe=new h.M_,de=function(){function t(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new h.M_,this.destinationFrame=new h.M_,this.viewportFrame=new h.M_}return t.prototype.bind=function(t,e,i){void 0===t&&(t=null);var r,n,a,s=this.renderer;this.current=t,t?(a=(r=t.baseTexture).resolution,e||(ce.width=t.frame.width,ce.height=t.frame.height,e=ce),i||(pe.x=t.frame.x,pe.y=t.frame.y,pe.width=e.width,pe.height=e.height,i=pe),n=r.framebuffer):(a=s.resolution,e||(ce.width=s.screen.width,ce.height=s.screen.height,e=ce),i||((i=ce).width=e.width,i.height=e.height));var o=this.viewportFrame;o.x=i.x*a,o.y=i.y*a,o.width=i.width*a,o.height=i.height*a,t||(o.y=s.view.height-(o.y+o.height)),o.ceil(),this.renderer.framebuffer.bind(n,o),this.renderer.projection.update(i,e,a,!n),t?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},t.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var i=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,n=i.width!==r.width||i.height!==r.height;if(n){var a=this.viewportFrame,s=a.x,o=a.y,l=a.width,h=a.height;s=Math.round(s),o=Math.round(o),l=Math.round(l),h=Math.round(h),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,o,l,h)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),n&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function fe(t,e,i,r,n){i.buffer.update(n)}var ge={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},me={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function Ae(t){for(var e=t.map((function(t){return{data:t,offset:0,dataLen:0,dirty:0}})),i=0,r=0,n=0,a=0;a<e.length;a++){var s=e[a];if(i=me[s.data.type],s.data.size>1&&(i=Math.max(i,16)*s.data.size),s.dataLen=i,r%i!=0&&r<16){var o=r%i%16;r+=o,n+=o}r+i>16?(n=16*Math.ceil(n/16),s.offset=n,n+=i,r=i):(s.offset=n,r+=i,n+=i)}return{uboElements:e,size:n=16*Math.ceil(n/16)}}function ve(t,e){var i=[];for(var r in t)e[r]&&i.push(e[r]);return i.sort((function(t,e){return t.index-e.index})),i}function ye(t,e){if(!t.autoManage)return{size:0,syncFunc:fe};for(var i=Ae(ve(t.uniforms,e)),r=i.uboElements,n=i.size,a=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],s=0;s<r.length;s++){for(var o=r[s],l=t.uniforms[o.data.name],h=o.data.name,u=!1,c=0;c<It.length;c++){var p=It[c];if(p.codeUbo&&p.test(o.data,l)){a.push("offset = "+o.offset/4+";",It[c].codeUbo(o.data.name,l)),u=!0;break}}if(!u)if(o.data.size>1){var d=Et(o.data.type),f=Math.max(me[o.data.type]/16,1),g=d/f,m=(4-g%4)%4;a.push("\n                cv = ud."+h+".value;\n                v = uv."+h+";\n                offset = "+o.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+o.data.size*f+"; i++)\n                {\n                    for(var j = 0; j < "+g+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+m+";\n                }\n\n                ")}else{var A=ge[o.data.type];a.push("\n                cv = ud."+h+".value;\n                v = uv."+h+";\n                offset = "+o.offset/4+";\n                "+A+";\n                ")}}return a.push("\n       renderer.buffer.update(buffer);\n    "),{size:n,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join("\n"))}}var _e=function(){function t(){}return t}(),be=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function xe(t,e){for(var i={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),n=0;n<r;n++){var a=e.getActiveAttrib(t,n);if(0!==a.name.indexOf("gl_")){var s=Pt(e,a.type),o={type:s,name:a.name,size:Et(s),location:e.getAttribLocation(t,a.name)};i[a.name]=o}}return i}function Te(t,e){for(var i={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<r;n++){var a=e.getActiveUniform(t,n),s=a.name.replace(/\[.*?\]$/,""),o=!!a.name.match(/\[.*?\]$/),l=Pt(e,a.type);i[s]={name:s,index:n,type:l,size:a.size,isArray:o,value:mt(l,a.size)}}return i}function Ee(t,e){var i=pt(t,t.VERTEX_SHADER,e.vertexSrc),r=pt(t,t.FRAGMENT_SHADER,e.fragmentSrc),n=t.createProgram();if(t.attachShader(n,i),t.attachShader(n,r),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)||ft(t,n,i,r),e.attributeData=xe(n,t),e.uniformData=Te(n,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var a=Object.keys(e.attributeData);a.sort((function(t,e){return t>e?1:-1}));for(var s=0;s<a.length;s++)e.attributeData[a[s]].location=s,t.bindAttribLocation(n,s,a[s]);t.linkProgram(n)}t.deleteShader(i),t.deleteShader(r);var o={};for(var s in e.uniformData){var l=e.uniformData[s];o[s]={location:t.getUniformLocation(n,s),value:mt(l.type,l.size)}}return new be(n,o)}var Se=0,we={textureCount:0,uboCount:0},Pe=function(){function t(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Se++}return t.prototype.systemCheck=function(){if(!kt())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(t){this.gl=t,this.reset()},t.prototype.bind=function(t,e){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||(we.textureCount=0,we.uboCount=0,this.syncUniformGroup(t.uniformGroup,we)),r},t.prototype.setUniforms=function(t){var e=this.shader.program,i=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(i.uniformData,t,this.renderer)},t.prototype.syncUniformGroup=function(t,e){var i=this.getGlProgram();t.static&&t.dirtyId===i.uniformDirtyGroups[t.id]||(i.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},t.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},t.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=Ot(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(t,e){var i=this.getGlProgram();if(!t.static||0!==t.dirtyId||!i.uniformGroups[t.id]){t.dirtyId=0;var r=i.uniformGroups[t.id]||this.createSyncBufferGroup(t,i,e);t.buffer.update(),r(i.uniformData,t.uniforms,this.renderer,we,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,i.uniformBufferBindings[e])},t.prototype.createSyncBufferGroup=function(t,e,i){var r=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var n=this.gl.getUniformBlockIndex(e.program,i);e.uniformBufferBindings[i]=this.shader.uniformBindCount,r.uniformBlockBinding(e.program,n,this.shader.uniformBindCount),this.shader.uniformBindCount++;var a=this.getSignature(t,this.shader.program.uniformData,"ubo"),s=this._uboCache[a];if(s||(s=this._uboCache[a]=ye(t,this.shader.program.uniformData)),t.autoManage){var o=new Float32Array(s.size/4);t.buffer.update(o)}return e.uniformGroups[t.id]=s.syncFunc,e.uniformGroups[t.id]},t.prototype.getSignature=function(t,e,i){var r=t.uniforms,n=[i+"-"];for(var a in r)n.push(a),e[a]&&n.push(e[a].type);return n.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(t){var e=this.gl,i=t.program,r=Ee(e,i);return i.glPrograms[this.renderer.CONTEXT_UID]=r,r},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.disposeShader=function(t){this.shader===t&&(this.shader=null)},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function Ie(t,e){return void 0===e&&(e=[]),e[n.B9.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.ADD]=[t.ONE,t.ONE],e[n.B9.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.NONE]=[0,0],e[n.B9.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[n.B9.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[n.B9.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[n.B9.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[n.B9.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[n.B9.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[n.B9.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[n.B9.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[n.B9.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[n.B9.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var Re=0,Ce=1,Oe=2,Me=3,Be=4,De=5,Le=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=n.B9.NONE,this._blendEq=!1,this.map=[],this.map[Re]=this.setBlend,this.map[Ce]=this.setOffset,this.map[Oe]=this.setCullFace,this.map[Me]=this.setDepthTest,this.map[Be]=this.setFrontFace,this.map[De]=this.setDepthMask,this.checks=[],this.defaultState=new Qt,this.defaultState.blend=!0}return t.prototype.contextChange=function(t){this.gl=t,this.blendModes=Ie(t),this.set(this.defaultState),this.reset()},t.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},t.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(t){this.gl.depthMask(t)},t.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},t.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},t.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):e||-1===i||this.checks.splice(i,1)},t.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},t.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),ke=function(){function t(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=r.W0.GC_MAX_IDLE,this.checkCountMax=r.W0.GC_MAX_CHECK_COUNT,this.mode=r.W0.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==n.OS.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var n=e[r];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[r]=null,i=!0)}if(i){var a=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[a++]=e[r]);e.length=a}},t.prototype.unload=function(t){var e=this.renderer.texture,i=t._texture;i&&!i.framebuffer&&e.destroyTexture(i);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t.prototype.destroy=function(){this.renderer=null},t}();function Ne(t){var e,i,r,a,s,o,l,h,u,c,p,d,f,g,m,A,v,y,_,b,x,T,E;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?((e={})[n.QE.UNSIGNED_BYTE]=((i={})[n.hR.RGBA]=t.RGBA8,i[n.hR.RGB]=t.RGB8,i[n.hR.RG]=t.RG8,i[n.hR.RED]=t.R8,i[n.hR.RGBA_INTEGER]=t.RGBA8UI,i[n.hR.RGB_INTEGER]=t.RGB8UI,i[n.hR.RG_INTEGER]=t.RG8UI,i[n.hR.RED_INTEGER]=t.R8UI,i[n.hR.ALPHA]=t.ALPHA,i[n.hR.LUMINANCE]=t.LUMINANCE,i[n.hR.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,i),e[n.QE.BYTE]=((r={})[n.hR.RGBA]=t.RGBA8_SNORM,r[n.hR.RGB]=t.RGB8_SNORM,r[n.hR.RG]=t.RG8_SNORM,r[n.hR.RED]=t.R8_SNORM,r[n.hR.RGBA_INTEGER]=t.RGBA8I,r[n.hR.RGB_INTEGER]=t.RGB8I,r[n.hR.RG_INTEGER]=t.RG8I,r[n.hR.RED_INTEGER]=t.R8I,r),e[n.QE.UNSIGNED_SHORT]=((a={})[n.hR.RGBA_INTEGER]=t.RGBA16UI,a[n.hR.RGB_INTEGER]=t.RGB16UI,a[n.hR.RG_INTEGER]=t.RG16UI,a[n.hR.RED_INTEGER]=t.R16UI,a[n.hR.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,a),e[n.QE.SHORT]=((s={})[n.hR.RGBA_INTEGER]=t.RGBA16I,s[n.hR.RGB_INTEGER]=t.RGB16I,s[n.hR.RG_INTEGER]=t.RG16I,s[n.hR.RED_INTEGER]=t.R16I,s),e[n.QE.UNSIGNED_INT]=((o={})[n.hR.RGBA_INTEGER]=t.RGBA32UI,o[n.hR.RGB_INTEGER]=t.RGB32UI,o[n.hR.RG_INTEGER]=t.RG32UI,o[n.hR.RED_INTEGER]=t.R32UI,o[n.hR.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,o),e[n.QE.INT]=((l={})[n.hR.RGBA_INTEGER]=t.RGBA32I,l[n.hR.RGB_INTEGER]=t.RGB32I,l[n.hR.RG_INTEGER]=t.RG32I,l[n.hR.RED_INTEGER]=t.R32I,l),e[n.QE.FLOAT]=((h={})[n.hR.RGBA]=t.RGBA32F,h[n.hR.RGB]=t.RGB32F,h[n.hR.RG]=t.RG32F,h[n.hR.RED]=t.R32F,h[n.hR.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,h),e[n.QE.HALF_FLOAT]=((u={})[n.hR.RGBA]=t.RGBA16F,u[n.hR.RGB]=t.RGB16F,u[n.hR.RG]=t.RG16F,u[n.hR.RED]=t.R16F,u),e[n.QE.UNSIGNED_SHORT_5_6_5]=((c={})[n.hR.RGB]=t.RGB565,c),e[n.QE.UNSIGNED_SHORT_4_4_4_4]=((p={})[n.hR.RGBA]=t.RGBA4,p),e[n.QE.UNSIGNED_SHORT_5_5_5_1]=((d={})[n.hR.RGBA]=t.RGB5_A1,d),e[n.QE.UNSIGNED_INT_2_10_10_10_REV]=((f={})[n.hR.RGBA]=t.RGB10_A2,f[n.hR.RGBA_INTEGER]=t.RGB10_A2UI,f),e[n.QE.UNSIGNED_INT_10F_11F_11F_REV]=((g={})[n.hR.RGB]=t.R11F_G11F_B10F,g),e[n.QE.UNSIGNED_INT_5_9_9_9_REV]=((m={})[n.hR.RGB]=t.RGB9_E5,m),e[n.QE.UNSIGNED_INT_24_8]=((A={})[n.hR.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,A),e[n.QE.FLOAT_32_UNSIGNED_INT_24_8_REV]=((v={})[n.hR.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,v),E=e):((y={})[n.QE.UNSIGNED_BYTE]=((_={})[n.hR.RGBA]=t.RGBA,_[n.hR.RGB]=t.RGB,_[n.hR.ALPHA]=t.ALPHA,_[n.hR.LUMINANCE]=t.LUMINANCE,_[n.hR.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,_),y[n.QE.UNSIGNED_SHORT_5_6_5]=((b={})[n.hR.RGB]=t.RGB,b),y[n.QE.UNSIGNED_SHORT_4_4_4_4]=((x={})[n.hR.RGBA]=t.RGBA,x),y[n.QE.UNSIGNED_SHORT_5_5_5_1]=((T={})[n.hR.RGBA]=t.RGBA,T),E=y),E}var Fe=function(){function t(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=n.QE.UNSIGNED_BYTE,this.internalFormat=n.hR.RGBA,this.samplerType=0}return t}(),Ge=function(){function t(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new y,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=Ne(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new Fe(t.createTexture());t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Fe(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(i=0;i<this.boundTextures.length;i++)this.bind(null,i)},t.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if((t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId?(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)):r.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},t.prototype.unbind=function(t){var e=this,i=e.gl,r=e.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<r.length;n++)r[n]===this.unknownTexture&&this.bind(null,n)}for(n=0;n<r.length;n++)r[n]===t&&(this.currentLocation!==n&&(i.activeTexture(i.TEXTURE0+n),this.currentLocation=n),i.bindTexture(t.target,this.emptyTextures[t.target].texture),r[n]=null)},t.prototype.ensureSamplerType=function(t){var e=this,i=e.boundTextures,r=e.hasIntegerTextures,a=e.CONTEXT_UID;if(r)for(var s=t-1;s>=0;--s){var o=i[s];if(o)o._glTextures[a].samplerType!==n.XZ.FLOAT&&this.renderer.texture.unbind(o)}},t.prototype.initTexture=function(t){var e=new Fe(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},t.prototype.initTextureType=function(t,e){var i,r;e.internalFormat=null!==(r=null===(i=this.internalFormats[t.type])||void 0===i?void 0:i[t.format])&&void 0!==r?r:t.format,2===this.webGLVersion&&t.type===n.QE.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=t.type},t.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e))e.samplerType!==n.XZ.FLOAT&&(this.hasIntegerTextures=!0);else{var r=t.realWidth,a=t.realHeight,s=i.gl;(e.width!==r||e.height!==a||e.dirtyId<0)&&(e.width=r,e.height=a,s.texImage2D(t.target,0,e.internalFormat,r,a,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},t.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&(0,a.removeItems)(this.managedTextures,r,1)}},t.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==n.E8.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=n.uR.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},t.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&t.mipmap!==n.E8.ON_MANUAL&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===n.M6.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===n.M6.LINEAR){var a=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===n.M6.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===n.M6.LINEAR?i.LINEAR:i.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),Ue={__proto__:null,FilterSystem:et,BatchSystem:rt,ContextSystem:at,FramebufferSystem:lt,GeometrySystem:ut,MaskSystem:ne,ScissorSystem:le,StencilSystem:he,ProjectionSystem:ue,RenderTextureSystem:de,ShaderSystem:Pe,StateSystem:Le,TextureGCSystem:ke,TextureSystem:Ge},He=new h.uq,Xe=function(t){function e(e,i){void 0===e&&(e=n.h3.UNKNOWN);var s=t.call(this)||this;return i=Object.assign({},r.W0.RENDER_OPTIONS,i),s.options=i,s.type=e,s.screen=new h.M_(0,0,i.width,i.height),s.view=i.view||r.W0.ADAPTER.createCanvas(),s.resolution=i.resolution||r.W0.RESOLUTION,s.useContextAlpha=i.useContextAlpha,s.autoDensity=!!i.autoDensity,s.preserveDrawingBuffer=i.preserveDrawingBuffer,s.clearBeforeRender=i.clearBeforeRender,s._backgroundColor=0,s._backgroundColorRgba=[0,0,0,1],s._backgroundColorString="#000000",s.backgroundColor=i.backgroundColor||s._backgroundColor,s.backgroundAlpha=i.backgroundAlpha,void 0!==i.transparent&&((0,a.deprecation)("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),s.useContextAlpha=i.transparent,s.backgroundAlpha=i.transparent?0:1),s._lastObjectRendered=null,s.plugins={},s}return d(e,t),e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){this.view.width=Math.round(t*this.resolution),this.view.height=Math.round(e*this.resolution);var i=this.view.width/this.resolution,r=this.view.height/this.resolution;this.screen.width=i,this.screen.height=r,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=r+"px"),this.emit("resize",i,r)},e.prototype.generateTexture=function(t,e,i,r){void 0===e&&(e={}),"number"==typeof e&&((0,a.deprecation)("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),e={scaleMode:e,resolution:i,region:r});var n=e.region,s=g(e,["region"]);0===(r=n||t.getLocalBounds(null,!0)).width&&(r.width=1),0===r.height&&(r.height=1);var o=N.create(f({width:r.width,height:r.height},s));return He.tx=-r.x,He.ty=-r.y,this.render(t,{renderTexture:o,clear:!1,transform:He,skipUpdateTransform:!!t.parent}),o},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=n.h3.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,a.hex2string)(t),(0,a.hex2rgb)(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(t){this._backgroundColorRgba[3]=t},enumerable:!1,configurable:!0}),e}(a.EventEmitter),je=function(){function t(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),We=function(){function t(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(t){var e=this,i=e.gl,r=e.CONTEXT_UID,n=t._glBuffers[r]||this.createGLBuffer(t);i.bindBuffer(t.type,n.buffer)},t.prototype.bindBufferBase=function(t,e){var i=this,r=i.gl,n=i.CONTEXT_UID;if(this.boundBufferBases[e]!==t){var a=t._glBuffers[n]||this.createGLBuffer(t);this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,a.buffer)}},t.prototype.bindBufferRange=function(t,e,i){var r=this,n=r.gl,a=r.CONTEXT_UID;i=i||0;var s=t._glBuffers[a]||this.createGLBuffer(t);n.bindBufferRange(n.UNIFORM_BUFFER,e||0,s.buffer,256*i,256)},t.prototype.update=function(t){var e=this,i=e.gl,r=e.CONTEXT_UID,n=t._glBuffers[r];if(t._updateID!==n.updateID)if(n.updateID=t._updateID,i.bindBuffer(t.type,n.buffer),n.byteLength>=t.data.byteLength)i.bufferSubData(t.type,0,t.data);else{var a=t.static?i.STATIC_DRAW:i.DYNAMIC_DRAW;n.byteLength=t.data.byteLength,i.bufferData(t.type,t.data,a)}},t.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),i=0;i<e.length;i++)this.dispose(this.managedBuffers[e[i]],t)},t.prototype.createGLBuffer=function(t){var e=this,i=e.CONTEXT_UID,r=e.gl;return t._glBuffers[i]=new je(r.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[i]},t}(),Ve=function(t){function e(i){var r=t.call(this,n.h3.WEBGL,i)||this;return i=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new o.b("destroy"),contextChange:new o.b("contextChange"),reset:new o.b("reset"),update:new o.b("update"),postrender:new o.b("postrender"),prerender:new o.b("prerender"),resize:new o.b("resize")},r.runners.contextChange.add(r),r.globalUniforms=new K({projectionMatrix:new h.uq},!0),r.addSystem(ne,"mask").addSystem(at,"context").addSystem(Le,"state").addSystem(Pe,"shader").addSystem(Ge,"texture").addSystem(We,"buffer").addSystem(ut,"geometry").addSystem(lt,"framebuffer").addSystem(le,"scissor").addSystem(he,"stencil").addSystem(ue,"projection").addSystem(ke,"textureGC").addSystem(et,"filter").addSystem(de,"renderTexture").addSystem(rt,"batch"),r.initPlugins(e.__plugins),r.multisample=void 0,i.context?r.context.initFromContext(i.context):r.context.initFromOptions({alpha:!!r.useContextAlpha,antialias:i.antialias,premultipliedAlpha:r.useContextAlpha&&"notMultiplied"!==r.useContextAlpha,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,(0,a.sayHello)(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return d(e,t),e.create=function(t){if((0,a.isWebGLSupported)())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var t,e=this.gl;if(1===this.context.webGLVersion){var i=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,i)}else{i=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,i)}t>=n.he.HIGH?this.multisample=n.he.HIGH:t>=n.he.MEDIUM?this.multisample=n.he.MEDIUM:t>=n.he.LOW?this.multisample=n.he.LOW:this.multisample=n.he.NONE},e.prototype.addSystem=function(t,e){var i=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var r in this[e]=i,this.runners)this.runners[r].add(i);return this},e.prototype.render=function(t,e){var i,r,n,s;if(e&&(e instanceof N?((0,a.deprecation)("6.0.0","Renderer#render arguments changed, use options instead."),i=e,r=arguments[2],n=arguments[3],s=arguments[4]):(i=e.renderTexture,r=e.clear,n=e.transform,s=e.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=n,!this.context.isLost){if(i||(this._lastObjectRendered=t),!s){var o=t.enableTempParent();t.updateTransform(),t.disableTempParent(o)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(e,i,r,n){void 0===i&&(i={});var a=t.prototype.generateTexture.call(this,e,i,r,n);return this.framebuffer.blit(),a},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(e){for(var i in this.runners.destroy.emit(),this.runners)this.runners[i].destroy();t.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return(0,a.deprecation)("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(t,e){(0,a.deprecation)("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),s.X.add({name:t,type:s.A.RendererPlugin,ref:e})},e.__plugins={},e}(Xe);function Ye(t){return Ve.create(t)}s.X.handleByMap(s.A.RendererPlugin,Ve.__plugins);var ze="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",qe="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Qe=function(){function t(t){(0,a.deprecation)("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}return t.prototype.destroy=function(){this.renderer=null},t}(),Ze=function(){function t(){this.texArray=null,this.blend=0,this.type=n._4.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),Ke=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),Je=function(){function t(t){"number"==typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),$e=function(t){function e(e){var i=t.call(this,e)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=Qt.for2d(),i.size=4*r.W0.SPRITE_BATCH_SIZE,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),e.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return d(e,t),e.prototype.contextChange=function(){var t=this.renderer.gl;r.W0.PREFER_ENV===n.Km.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),r.W0.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Lt(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,i=e._textureArrayPool,r=this.size/4,n=Math.floor(r/this.MAX_TEXTURES)+1;t.length<r;)t.push(new Ze);for(;i.length<n;)i.push(new Ke);for(var a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this,i=t._bufferedTextures,r=t.MAX_TEXTURES,n=e._textureArrayPool,a=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count,l=++y._globalBatch,h=0,u=n[0],c=0;a.copyBoundTextures(s,r);for(var p=0;p<this._bufferSize;++p){var d=i[p];i[p]=null,d._batchEnabled!==l&&(u.count>=r&&(a.boundArray(u,s,l,r),this.buildDrawCalls(u,c,p),c=p,u=n[++h],++l),d._batchEnabled=l,d.touched=o,u.elements[u.count++]=d)}u.count>0&&(a.boundArray(u,s,l,r),this.buildDrawCalls(u,c,this._bufferSize),++h,++l);for(p=0;p<s.length;p++)s[p]=null;y._globalBatch=l},e.prototype.buildDrawCalls=function(t,i,r){var n=this,s=n._bufferedElements,o=n._attributeBuffer,l=n._indexBuffer,h=n.vertexSize,u=e._drawCallPool,c=this._dcIndex,p=this._aIndex,d=this._iIndex,f=u[c];f.start=this._iIndex,f.texArray=t;for(var g=i;g<r;++g){var m=s[g],A=m._texture.baseTexture,v=a.premultiplyBlendMode[A.alphaMode?1:0][m.blendMode];s[g]=null,i<g&&f.blend!==v&&(f.size=d-f.start,i=g,(f=u[++c]).texArray=t,f.start=d),this.packInterleavedGeometry(m,o,l,p,d),p+=m.vertexData.length/2*h,d+=m.indices.length,f.blend=v}i<r&&(f.size=d-f.start,++c),this._dcIndex=c,this._aIndex=p,this._iIndex=d},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,i=0;i<t.count;i++)e.bind(t.elements[i],t.ids[i]),t.elements[i]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this,e=t._packedGeometries,i=t._attributeBuffer,n=t._indexBuffer;r.W0.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(i.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(i.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,i=this.renderer,r=i.gl,n=i.state,a=e._drawCallPool,s=null,o=0;o<t;o++){var l=a[o],h=l.texArray,u=l.type,c=l.size,p=l.start,d=l.blend;s!==h&&(s=h,this.bindAndClearTexArray(h)),this.state.blendMode=d,n.set(this.state),r.drawElements(u,c,r.UNSIGNED_SHORT,2*p)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),r.W0.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=(0,a.nextPow2)(Math.ceil(t/8)),i=(0,a.log2)(e),r=8*e;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var n=this._aBuffers[r];return n||(this._aBuffers[r]=n=new Je(r*this.vertexSize*4)),n},e.prototype.getIndexBuffer=function(t){var e=(0,a.nextPow2)(Math.ceil(t/12)),i=(0,a.log2)(e),r=12*e;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var n=this._iBuffers[i];return n||(this._iBuffers[i]=n=new Uint16Array(r)),n},e.prototype.packInterleavedGeometry=function(t,e,i,r,n){for(var s=e.uint32View,o=e.float32View,l=r/this.vertexSize,h=t.uvs,u=t.indices,c=t.vertexData,p=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),f=d<1&&t._texture.baseTexture.alphaMode?(0,a.premultiplyTint)(t._tintRGB,d):t._tintRGB+(255*d<<24),g=0;g<c.length;g+=2)o[r++]=c[g],o[r++]=c[g+1],o[r++]=h[g],o[r++]=h[g+1],s[r++]=f,o[r++]=p;for(g=0;g<u.length;g++)i[n++]=l+u[g]},e._drawCallPool=[],e._textureArrayPool=[],e}(it),ti=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=K.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Ht(this.vertexSrc,r)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new h.uq,default:this.defaultGroupCache[t]};return new Xt(this.programCache[t],n)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"},t}(),ei=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;return i._buffer=new H(null,e,!1),i._indexBuffer=new H(null,e,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,n.QE.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,n.QE.FLOAT).addAttribute("aColor",i._buffer,4,!0,n.QE.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,n.QE.FLOAT).addIndex(i._indexBuffer),i}return d(e,t),e}(z),ii="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",ri="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",ni=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:ii,fragment:ri,geometryClass:ei,vertexSize:6},t),i=e.vertex,r=e.fragment,n=e.vertexSize,a=e.geometryClass;return function(t){function e(e){var s=t.call(this,e)||this;return s.shaderGenerator=new ti(i,r),s.geometryClass=a,s.vertexSize=n,s}return d(e,t),e}($e)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return ii},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return ri},enumerable:!1,configurable:!0}),t}(),ai=ni.create();Object.assign(ai,{extension:{name:"batch",type:s.A.RendererPlugin}});var si={},oi=function(t){Object.defineProperty(si,t,{get:function(){return(0,a.deprecation)("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),R[t]}})};for(var li in R)oi(li);var hi={},ui=function(t){Object.defineProperty(hi,t,{get:function(){return(0,a.deprecation)("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),Ue[t]}})};for(var li in Ue)ui(li);var ci="6.5.10"},903:(t,e,i)=>{"use strict";i.d(e,{cz:()=>o,dC:()=>c,mc:()=>d,q9:()=>u});var r=i(9615),n=i(7239),a=i(3785),s=i(805);r.W0.SORTABLE_CHILDREN=!1;var o=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?n.M_.EMPTY:((t=t||new n.M_(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addPointMatrix=function(t,e){var i=t.a,r=t.b,n=t.c,a=t.d,s=t.tx,o=t.ty,l=i*e.x+n*e.y+s,h=r*e.x+a*e.y+o;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)},t.prototype.addQuad=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY,a=t[0],s=t[1];e=a<e?a:e,i=s<i?s:i,r=a>r?a:r,n=s>n?s:n,e=(a=t[2])<e?a:e,i=(s=t[3])<i?s:i,r=a>r?a:r,n=s>n?s:n,e=(a=t[4])<e?a:e,i=(s=t[5])<i?s:i,r=a>r?a:r,n=s>n?s:n,e=(a=t[6])<e?a:e,i=(s=t[7])<i?s:i,r=a>r?a:r,n=s>n?s:n,this.minX=e,this.minY=i,this.maxX=r,this.maxY=n},t.prototype.addFrame=function(t,e,i,r,n){this.addFrameMatrix(t.worldTransform,e,i,r,n)},t.prototype.addFrameMatrix=function(t,e,i,r,n){var a=t.a,s=t.b,o=t.c,l=t.d,h=t.tx,u=t.ty,c=this.minX,p=this.minY,d=this.maxX,f=this.maxY,g=a*e+o*i+h,m=s*e+l*i+u;c=g<c?g:c,p=m<p?m:p,d=g>d?g:d,f=m>f?m:f,c=(g=a*r+o*i+h)<c?g:c,p=(m=s*r+l*i+u)<p?m:p,d=g>d?g:d,f=m>f?m:f,c=(g=a*e+o*n+h)<c?g:c,p=(m=s*e+l*n+u)<p?m:p,d=g>d?g:d,f=m>f?m:f,c=(g=a*r+o*n+h)<c?g:c,p=(m=s*r+l*n+u)<p?m:p,d=g>d?g:d,f=m>f?m:f,this.minX=c,this.minY=p,this.maxX=d,this.maxY=f},t.prototype.addVertexData=function(t,e,i){for(var r=this.minX,n=this.minY,a=this.maxX,s=this.maxY,o=e;o<i;o+=2){var l=t[o],h=t[o+1];r=l<r?l:r,n=h<n?h:n,a=l>a?l:a,s=h>s?h:s}this.minX=r,this.minY=n,this.maxX=a,this.maxY=s},t.prototype.addVertices=function(t,e,i,r){this.addVerticesMatrix(t.worldTransform,e,i,r)},t.prototype.addVerticesMatrix=function(t,e,i,r,n,a){void 0===n&&(n=0),void 0===a&&(a=n);for(var s=t.a,o=t.b,l=t.c,h=t.d,u=t.tx,c=t.ty,p=this.minX,d=this.minY,f=this.maxX,g=this.maxY,m=i;m<r;m+=2){var A=e[m],v=e[m+1],y=s*A+l*v+u,_=h*v+o*A+c;p=Math.min(p,y-n),f=Math.max(f,y+n),d=Math.min(d,_-a),g=Math.max(g,_+a)}this.minX=p,this.minY=d,this.maxX=f,this.maxY=g},t.prototype.addBounds=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>n?t.maxY:n},t.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,a=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=n&&r<=a){var s=this.minX,o=this.minY,l=this.maxX,h=this.maxY;this.minX=i<s?i:s,this.minY=r<o?r:o,this.maxX=n>l?n:l,this.maxY=a>h?a:h}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,a=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=n&&r<=a){var s=this.minX,o=this.minY,l=this.maxX,h=this.maxY;this.minX=i<s?i:s,this.minY=r<o?r:o,this.maxX=n>l?n:l,this.maxY=a>h?a:h}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,i,r,n,a){t-=n,e-=a,i+=n,r+=a,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>r?this.maxY:r},t}(),l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},l(t,e)};function h(t,e){function i(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var u=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new n.dL,e.alpha=1,e.visible=!0,e.renderable=!0,e.cullable=!1,e.cullArea=null,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new o,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return h(e,t),e.mixin=function(t){for(var i=Object.keys(t),r=0;r<i.length;++r){var n=i[r];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new n.M_),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new n.M_),t=this._localBoundsRect),this._localBounds||(this._localBounds=new o);var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var r=this._bounds,a=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,t);return this.parent=i,this.transform=e,this._bounds=r,this._bounds.updateID+=this._boundsID-a,s},e.prototype.toGlobal=function(t,e,i){return void 0===i&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,i,r){return e&&(t=e.toGlobal(t,i,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,i,r,n,a,s,o,l){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=1),void 0===n&&(n=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===l&&(l=0),this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=r||1,this.rotation=n,this.skew.x=a,this.skew.y=s,this.pivot.x=o,this.pivot.y=l,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new c),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*n.bO},set:function(t){this.transform.rotation=t*n.Td},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){if(this._mask!==t){var e;if(this._mask)(e=this._mask.isMaskData?this._mask.maskObject:this._mask)&&(e._maskRefCount--,0===e._maskRefCount&&(e.renderable=!0,e.isMask=!1));if(this._mask=t,this._mask)(e=this._mask.isMaskData?this._mask.maskObject:this._mask)&&(0===e._maskRefCount&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++)}},enumerable:!1,configurable:!0}),e}(a.EventEmitter),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return h(e,t),e}(u);function p(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}u.prototype.displayObjectUpdateTransform=u.prototype.updateTransform;var d=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=r.W0.SORTABLE_CHILDREN,e.sortDirty=!1,e}return h(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(e.length>1)for(var r=0;r<e.length;r++)this.addChild(e[r]);else{var n=e[0];n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),r=this.getChildIndex(e);this.children[i]=e,this.children[r]=t,this.onChildrenChange(i<r?i:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);(0,a.removeItems)(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(e.length>1)for(var r=0;r<e.length;r++)this.removeChild(e[r]);else{var n=e[0],s=this.children.indexOf(n);if(-1===s)return null;n.parent=null,n.transform._parentID=-1,(0,a.removeItems)(this.children,s,1),this._boundsID++,this.onChildrenChange(s),n.emit("removed",this),this.emit("childRemoved",n,this,s)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,a.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var i,r=t,n=e-r;if(n>0&&n<=e){i=this.children.splice(r,n);for(var a=0;a<i.length;++a)i[a].parent=null,i[a].transform&&(i[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(a=0;a<i.length;++a)i[a].emit("removed",this),this.emit("childRemoved",i[a],this,a);return i}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,i=this.children.length;e<i;++e){var r=this.children[e];r._lastSortedIndex=e,t||0===r.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(p),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var i=e._mask.isMaskData?e._mask.maskObject:e._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(e._bounds,i._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,i){void 0===i&&(i=!1);var r=t.prototype.getLocalBounds.call(this,e);if(!i)for(var n=0,a=this.children.length;n<a;++n){var s=this.children[n];s.visible&&s.updateTransform()}return r},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(t){var i=t.renderTexture.sourceFrame;if(i.width>0&&i.height>0){var r,n;if(this.cullArea?(r=this.cullArea,n=this.worldTransform):this._render!==e.prototype._render&&(r=this.getBounds(!0)),r&&i.intersects(r,n))this._render(t);else if(this.cullArea)return;for(var a=0,s=this.children.length;a<s;++a){var o=this.children[a],l=o.cullable;o.cullable=l||!this.cullArea,o.render(t),o.cullable=l}}},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){var e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r])}var n=e&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==s.vg.NONE));if(n&&t.batch.flush(),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.push(this,this._enabledFilters),i&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);r=0;for(var a=this.children.length;r<a;++r)this.children[r].render(t)}n&&t.batch.flush(),i&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(i)for(var n=0;n<r.length;++n)r[n].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(u);d.prototype.containerUpdateTransform=d.prototype.updateTransform},6919:(t,e,i)=>{"use strict";i.d(e,{A:()=>r,X:()=>s});var r,n=function(){return n=Object.assign||function(t){for(var e,i=arguments,r=1,n=arguments.length;r<n;r++)for(var a in e=i[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},n.apply(this,arguments)};(function(t){t.Application="application",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Loader="loader",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser"})(r||(r={}));var a=function(t){if("function"==typeof t||"object"==typeof t&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");var e="object"!=typeof t.extension?{type:t.extension}:t.extension;t=n(n({},e),{ref:t})}if("object"!=typeof t)throw new Error("Invalid extension type");return"string"==typeof(t=n({},t)).type&&(t.type=[t.type]),t},s={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var t=arguments,e=this,i=[],r=0;r<arguments.length;r++)i[r]=t[r];return i.map(a).forEach((function(t){t.type.forEach((function(i){var r,n;return null===(n=(r=e._removeHandlers)[i])||void 0===n?void 0:n.call(r,t)}))})),this},add:function(){for(var t=arguments,e=this,i=[],r=0;r<arguments.length;r++)i[r]=t[r];return i.map(a).forEach((function(t){t.type.forEach((function(i){var r=e._addHandlers,n=e._queue;r[i]?r[i](t):(n[i]=n[i]||[],n[i].push(t))}))})),this},handle:function(t,e,i){var r=this._addHandlers=this._addHandlers||{},n=this._removeHandlers=this._removeHandlers||{};if(r[t]||n[t])throw new Error("Extension type "+t+" already has a handler");r[t]=e,n[t]=i;var a=this._queue;return a[t]&&(a[t].forEach((function(t){return e(t)})),delete a[t]),this},handleByMap:function(t,e){return this.handle(t,(function(t){e[t.name]=t.ref}),(function(t){delete e[t.name]}))},handleByList:function(t,e){return this.handle(t,(function(i){var n,a;e.includes(i.ref)||(e.push(i.ref),t===r.Loader&&(null===(a=(n=i.ref).add)||void 0===a||a.call(n)))}),(function(t){var i=e.indexOf(t.ref);-1!==i&&e.splice(i,1)}))}}},5871:(t,e,i)=>{"use strict";i.d(e,{A1:()=>U,Mp:()=>n,Sc:()=>N,Zw:()=>c,ie:()=>D,lU:()=>u,lo:()=>H,mk:()=>k,u2:()=>r});var r,n,a=i(1947),s=i(7239),o=i(3785),l=i(805),h=i(903);(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(r||(r={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(n||(n={}));var u={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var i=Math.ceil(t/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}},c=function(){function t(){this.color=16777215,this.alpha=1,this.texture=a.gP.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=a.gP.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),p=function(t,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},p(t,e)};function d(t,e){function i(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function f(t,e){var i,r;void 0===e&&(e=!1);var n=t.length;if(!(n<6)){for(var a=0,s=0,o=t[n-2],l=t[n-1];s<n;s+=2){var h=t[s],u=t[s+1];a+=(h-o)*(u+l),o=h,l=u}if(!e&&a>0||e&&a<=0){var c=n/2;for(s=c+c%2;s<n;s+=2){var p=n-s-2,d=n-s-1,f=s,g=s+1;i=[t[f],t[p]],t[p]=i[0],t[f]=i[1],r=[t[g],t[d]],t[d]=r[0],t[g]=r[1]}}}}var g={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var i=t.points,r=t.holes,n=e.points,a=e.indices;if(i.length>=6){f(i,!1);for(var s=[],l=0;l<r.length;l++){var h=r[l];f(h.points,!0),s.push(i.length/2),i=i.concat(h.points)}var u=(0,o.earcut)(i,s,2);if(!u)return;var c=n.length/2;for(l=0;l<u.length;l+=3)a.push(u[l]+c),a.push(u[l+1]+c),a.push(u[l+2]+c);for(l=0;l<i.length;l++)n.push(i[l])}}},m={build:function(t){var e,i,r,n,a,o,l=t.points;if(t.type===s.HY.CIRC){var h=t.shape;e=h.x,i=h.y,a=o=h.radius,r=n=0}else if(t.type===s.HY.ELIP){var u=t.shape;e=u.x,i=u.y,a=u.width,o=u.height,r=n=0}else{var c=t.shape,p=c.width/2,d=c.height/2;e=c.x+p,i=c.y+d,r=p-(a=o=Math.max(0,Math.min(c.radius,Math.min(p,d)))),n=d-o}if(a>=0&&o>=0&&r>=0&&n>=0){var f=Math.ceil(2.3*Math.sqrt(a+o)),g=8*f+(r?4:0)+(n?4:0);if(l.length=g,0!==g){if(0===f)return l.length=8,l[0]=l[6]=e+r,l[1]=l[3]=i+n,l[2]=l[4]=e-r,void(l[5]=l[7]=i-n);var m=0,A=4*f+(r?2:0)+2,v=A,y=g,_=e+(w=r+a),b=e-w,x=i+(P=n);if(l[m++]=_,l[m++]=x,l[--A]=x,l[--A]=b,n){var T=i-P;l[v++]=b,l[v++]=T,l[--y]=T,l[--y]=_}for(var E=1;E<f;E++){var S=Math.PI/2*(E/f);_=e+(w=r+Math.cos(S)*a),b=e-w,x=i+(P=n+Math.sin(S)*o),T=i-P;l[m++]=_,l[m++]=x,l[--A]=x,l[--A]=b,l[v++]=b,l[v++]=T,l[--y]=T,l[--y]=_}var w,P;_=e+(w=r),b=e-w,x=i+(P=n+o),T=i-P;l[m++]=_,l[m++]=x,l[--y]=T,l[--y]=_,r&&(l[m++]=b,l[m++]=x,l[--y]=T,l[--y]=b)}}else l.length=0},triangulate:function(t,e){var i=t.points,r=e.points,n=e.indices;if(0!==i.length){var a,o,l=r.length/2,h=l;if(t.type!==s.HY.RREC){var u=t.shape;a=u.x,o=u.y}else{var c=t.shape;a=c.x+c.width/2,o=c.y+c.height/2}var p=t.matrix;r.push(t.matrix?p.a*a+p.c*o+p.tx:a,t.matrix?p.b*a+p.d*o+p.ty:o),l++,r.push(i[0],i[1]);for(var d=2;d<i.length;d+=2)r.push(i[d],i[d+1]),n.push(l++,h,l);n.push(h+1,h,l)}}},A={build:function(t){var e=t.shape,i=e.x,r=e.y,n=e.width,a=e.height,s=t.points;s.length=0,s.push(i,r,i+n,r,i+n,r+a,i,r+a)},triangulate:function(t,e){var i=t.points,r=e.points,n=r.length/2;r.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}};function v(t,e,i){return t+(e-t)*i}function y(t,e,i,r,n,a,s){void 0===s&&(s=[]);for(var o=20,l=s,h=0,u=0,c=0,p=0,d=0,f=0,g=0,m=0;g<=o;++g)h=v(t,i,m=g/o),u=v(e,r,m),c=v(i,n,m),p=v(r,a,m),d=v(h,c,m),f=v(u,p,m),0===g&&l[l.length-2]===d&&l[l.length-1]===f||l.push(d,f);return l}var _={build:function(t){if(U.nextRoundedRectBehavior)m.build(t);else{var e=t.shape,i=t.points,r=e.x,n=e.y,a=e.width,s=e.height,o=Math.max(0,Math.min(e.radius,Math.min(a,s)/2));i.length=0,o?(y(r,n+o,r,n,r+o,n,i),y(r+a-o,n,r+a,n,r+a,n+o,i),y(r+a,n+s-o,r+a,n+s,r+a-o,n+s,i),y(r+o,n+s,r,n+s,r,n+s-o,i)):i.push(r,n,r+a,n,r+a,n+s,r,n+s)}},triangulate:function(t,e){if(U.nextRoundedRectBehavior)m.triangulate(t,e);else{for(var i=t.points,r=e.points,n=e.indices,a=r.length/2,s=(0,o.earcut)(i,null,2),l=0,h=s.length;l<h;l+=3)n.push(s[l]+a),n.push(s[l+1]+a),n.push(s[l+2]+a);for(l=0,h=i.length;l<h;l++)r.push(i[l],i[++l])}}};function b(t,e,i,r,n,a,s,o){var l,h;s?(l=r,h=-i):(l=-r,h=i);var u=t-i*n+l,c=e-r*n+h,p=t+i*a+l,d=e+r*a+h;return o.push(u,c),o.push(p,d),2}function x(t,e,i,r,n,a,s,o){var l=i-t,h=r-e,u=Math.atan2(l,h),c=Math.atan2(n-t,a-e);o&&u<c?u+=2*Math.PI:!o&&u>c&&(c+=2*Math.PI);var p=u,d=c-u,f=Math.abs(d),g=Math.sqrt(l*l+h*h),m=1+(15*f*Math.sqrt(g)/Math.PI>>0),A=d/m;if(p+=A,o){s.push(t,e),s.push(i,r);for(var v=1,y=p;v<m;v++,y+=A)s.push(t,e),s.push(t+Math.sin(y)*g,e+Math.cos(y)*g);s.push(t,e),s.push(n,a)}else{s.push(i,r),s.push(t,e);for(v=1,y=p;v<m;v++,y+=A)s.push(t+Math.sin(y)*g,e+Math.cos(y)*g),s.push(t,e);s.push(n,a),s.push(t,e)}return 2*m}function T(t,e){var i=t.shape,a=t.points||i.points.slice(),o=e.closePointEps;if(0!==a.length){var l=t.lineStyle,h=new s.bR(a[0],a[1]),c=new s.bR(a[a.length-2],a[a.length-1]),p=i.type!==s.HY.POLY||i.closeStroke,d=Math.abs(h.x-c.x)<o&&Math.abs(h.y-c.y)<o;if(p){a=a.slice(),d&&(a.pop(),a.pop(),c.set(a[a.length-2],a[a.length-1]));var f=.5*(h.x+c.x),g=.5*(c.y+h.y);a.unshift(f,g),a.push(f,g)}var m=e.points,A=a.length/2,v=a.length,y=m.length/2,_=l.width/2,T=_*_,E=l.miterLimit*l.miterLimit,S=a[0],w=a[1],P=a[2],I=a[3],R=0,C=0,O=-(w-I),M=S-P,B=0,D=0,L=Math.sqrt(O*O+M*M);O/=L,M/=L,O*=_,M*=_;var k=l.alignment,N=2*(1-k),F=2*k;p||(l.cap===n.ROUND?v+=x(S-O*(N-F)*.5,w-M*(N-F)*.5,S-O*N,w-M*N,S+O*F,w+M*F,m,!0)+2:l.cap===n.SQUARE&&(v+=b(S,w,O,M,N,F,!0,m))),m.push(S-O*N,w-M*N),m.push(S+O*F,w+M*F);for(var G=1;G<A-1;++G){S=a[2*(G-1)],w=a[2*(G-1)+1],P=a[2*G],I=a[2*G+1],R=a[2*(G+1)],C=a[2*(G+1)+1],O=-(w-I),M=S-P,O/=L=Math.sqrt(O*O+M*M),M/=L,O*=_,M*=_,B=-(I-C),D=P-R,B/=L=Math.sqrt(B*B+D*D),D/=L,B*=_,D*=_;var U=P-S,H=w-I,X=P-R,j=C-I,W=U*X+H*j,V=H*X-j*U,Y=V<0;if(Math.abs(V)<.001*Math.abs(W))m.push(P-O*N,I-M*N),m.push(P+O*F,I+M*F),W>=0&&(l.join===r.ROUND?v+=x(P,I,P-O*N,I-M*N,P-B*N,I-D*N,m,!1)+4:v+=2,m.push(P-B*F,I-D*F),m.push(P+B*N,I+D*N));else{var z=(-O+S)*(-M+I)-(-O+P)*(-M+w),q=(-B+R)*(-D+I)-(-B+P)*(-D+C),Q=(U*q-X*z)/V,Z=(j*z-H*q)/V,K=(Q-P)*(Q-P)+(Z-I)*(Z-I),J=P+(Q-P)*N,$=I+(Z-I)*N,tt=P-(Q-P)*F,et=I-(Z-I)*F,it=Y?N:F;K<=Math.min(U*U+H*H,X*X+j*j)+it*it*T?l.join===r.BEVEL||K/T>E?(Y?(m.push(J,$),m.push(P+O*F,I+M*F),m.push(J,$),m.push(P+B*F,I+D*F)):(m.push(P-O*N,I-M*N),m.push(tt,et),m.push(P-B*N,I-D*N),m.push(tt,et)),v+=2):l.join===r.ROUND?Y?(m.push(J,$),m.push(P+O*F,I+M*F),v+=x(P,I,P+O*F,I+M*F,P+B*F,I+D*F,m,!0)+4,m.push(J,$),m.push(P+B*F,I+D*F)):(m.push(P-O*N,I-M*N),m.push(tt,et),v+=x(P,I,P-O*N,I-M*N,P-B*N,I-D*N,m,!1)+4,m.push(P-B*N,I-D*N),m.push(tt,et)):(m.push(J,$),m.push(tt,et)):(m.push(P-O*N,I-M*N),m.push(P+O*F,I+M*F),l.join===r.ROUND?v+=Y?x(P,I,P+O*F,I+M*F,P+B*F,I+D*F,m,!0)+2:x(P,I,P-O*N,I-M*N,P-B*N,I-D*N,m,!1)+2:l.join===r.MITER&&K/T<=E&&(Y?(m.push(tt,et),m.push(tt,et)):(m.push(J,$),m.push(J,$)),v+=2),m.push(P-B*N,I-D*N),m.push(P+B*F,I+D*F),v+=2)}}S=a[2*(A-2)],w=a[2*(A-2)+1],P=a[2*(A-1)],O=-(w-(I=a[2*(A-1)+1])),M=S-P,O/=L=Math.sqrt(O*O+M*M),M/=L,O*=_,M*=_,m.push(P-O*N,I-M*N),m.push(P+O*F,I+M*F),p||(l.cap===n.ROUND?v+=x(P-O*(N-F)*.5,I-M*(N-F)*.5,P-O*N,I-M*N,P+O*F,I+M*F,m,!1)+2:l.cap===n.SQUARE&&(v+=b(P,I,O,M,N,F,!1,m)));var rt=e.indices,nt=u.epsilon*u.epsilon;for(G=y;G<v+y-2;++G)S=m[2*G],w=m[2*G+1],P=m[2*(G+1)],I=m[2*(G+1)+1],R=m[2*(G+2)],C=m[2*(G+2)+1],Math.abs(S*(I-C)+P*(C-w)+R*(w-I))<nt||rt.push(G,G+1,G+2)}}function E(t,e){var i=0,r=t.shape,n=t.points||r.points,a=r.type!==s.HY.POLY||r.closeStroke;if(0!==n.length){var o=e.points,l=e.indices,h=n.length/2,u=o.length/2,c=u;for(o.push(n[0],n[1]),i=1;i<h;i++)o.push(n[2*i],n[2*i+1]),l.push(c,c+1),c++;a&&l.push(c,u)}}function S(t,e){t.lineStyle.native?E(t,e):T(t,e)}var w,P=function(){function t(){}return t.curveTo=function(t,e,i,r,n,a){var s=a[a.length-2],o=a[a.length-1]-e,l=s-t,h=r-e,u=i-t,c=Math.abs(o*u-l*h);if(c<1e-8||0===n)return a[a.length-2]===t&&a[a.length-1]===e||a.push(t,e),null;var p=o*o+l*l,d=h*h+u*u,f=o*h+l*u,g=n*Math.sqrt(p)/c,m=n*Math.sqrt(d)/c,A=g*f/p,v=m*f/d,y=g*u+m*l,_=g*h+m*o,b=l*(m+A),x=o*(m+A),T=u*(g+v),E=h*(g+v);return{cx:y+t,cy:_+e,radius:n,startAngle:Math.atan2(x-_,b-y),endAngle:Math.atan2(E-_,T-y),anticlockwise:l*h>u*o}},t.arc=function(t,e,i,r,n,a,o,l,h){for(var c=o-a,p=u._segmentsCount(Math.abs(c)*n,40*Math.ceil(Math.abs(c)/s.TO)),d=c/(2*p),f=2*d,g=Math.cos(d),m=Math.sin(d),A=p-1,v=A%1/A,y=0;y<=A;++y){var _=d+a+f*(y+v*y),b=Math.cos(_),x=-Math.sin(_);h.push((g*b+m*x)*n+i,(g*-x+m*b)*n+r)}},t}(),I=function(){function t(){}return t.curveLength=function(t,e,i,r,n,a,s,o){for(var l=10,h=0,u=0,c=0,p=0,d=0,f=0,g=0,m=0,A=0,v=0,y=0,_=t,b=e,x=1;x<=l;++x)v=_-(m=(g=(f=(d=1-(u=x/l))*d)*d)*t+3*f*u*i+3*d*(c=u*u)*n+(p=c*u)*s),y=b-(A=g*e+3*f*u*r+3*d*c*a+p*o),_=m,b=A,h+=Math.sqrt(v*v+y*y);return h},t.curveTo=function(e,i,r,n,a,s,o){var l=o[o.length-2],h=o[o.length-1];o.length-=2;var c=u._segmentsCount(t.curveLength(l,h,e,i,r,n,a,s)),p=0,d=0,f=0,g=0,m=0;o.push(l,h);for(var A=1,v=0;A<=c;++A)f=(d=(p=1-(v=A/c))*p)*p,m=(g=v*v)*v,o.push(f*l+3*d*v*e+3*p*g*r+m*a,f*h+3*d*v*i+3*p*g*n+m*s)},t}(),R=function(){function t(){}return t.curveLength=function(t,e,i,r,n,a){var s=t-2*i+n,o=e-2*r+a,l=2*i-2*t,h=2*r-2*e,u=4*(s*s+o*o),c=4*(s*l+o*h),p=l*l+h*h,d=2*Math.sqrt(u+c+p),f=Math.sqrt(u),g=2*u*f,m=2*Math.sqrt(p),A=c/f;return(g*d+f*c*(d-m)+(4*p*u-c*c)*Math.log((2*f+A+d)/(A+m)))/(4*g)},t.curveTo=function(e,i,r,n,a){for(var s=a[a.length-2],o=a[a.length-1],l=u._segmentsCount(t.curveLength(s,o,e,i,r,n)),h=0,c=0,p=1;p<=l;++p){var d=p/l;h=s+(e-s)*d,c=o+(i-o)*d,a.push(h+(e+(r-e)*d-h)*d,c+(i+(n-i)*d-c)*d)}},t}(),C=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),O=((w={})[s.HY.POLY]=g,w[s.HY.CIRC]=m,w[s.HY.ELIP]=m,w[s.HY.RECT]=A,w[s.HY.RREC]=_,w),M=[],B=[],D=function(){function t(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),L=new s.bR,k=function(t){function e(){var e=t.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new h.cz,e.boundsDirty=-1,e}return d(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),B.push(this.drawCalls[t]);this.drawCalls.length=0;for(t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),M.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null);var n=new D(t,e,i,r);return this.graphicsData.push(n),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var i=new D(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=r.lineStyle,r.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,i=0;i<e.length;++i){var r=e[i];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(t,L):L.copyFrom(t),r.shape.contains(L.x,L.y)))){var n=!1;if(r.holes)for(var a=0;a<r.holes.length;a++){if(r.holes[a].shape.contains(L.x,L.y)){n=!0;break}}if(!n)return!0}}return!1},e.prototype.updateBatches=function(){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var t=this.uvs,e=this.graphicsData,i=null,r=null;this.batches.length>0&&(r=(i=this.batches[this.batches.length-1]).style);for(var n=this.shapeIndex;n<e.length;n++){this.shapeIndex++;var a=e[n],s=a.fillStyle,o=a.lineStyle;O[a.type].build(a),a.matrix&&this.transformPoints(a.points,a.matrix),(s.visible||o.visible)&&this.processHoles(a.holes);for(var h=0;h<2;h++){var u=0===h?s:o;if(u.visible){var c=u.texture.baseTexture,p=this.indices.length,d=this.points.length/2;c.wrapMode=l.uR.REPEAT,0===h?this.processFill(a):this.processLine(a);var f=this.points.length/2-d;0!==f&&(i&&!this._compareStyles(r,u)&&(i.end(p,d),i=null),i||((i=M.pop()||new C).begin(u,p,d),this.batches.push(i),r=u),this.addUvs(this.points,t,u.texture,d,f,u.matrix))}}}var g=this.indices.length,m=this.points.length/2;if(i&&i.end(g,m),0!==this.batches.length){var A=m>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&A===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=A?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var i=this.graphicsData[t],r=i.fillStyle,n=i.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,i=t.length;e<i;e++)for(var r=t[e],n=0;n<r.size;n++){var a=r.start+n;this.indicesUint16[a]=this.indicesUint16[a]-r.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,i=0;i<t.length;i++)if(t[i].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++a.t5._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),B.push(this.drawCalls[e]);this.drawCalls.length=0;var i=this.colors,r=this.textureIds,n=B.pop();n||((n=new a.hq).texArray=new a.cc),n.texArray.count=0,n.start=0,n.size=0,n.type=l._4.TRIANGLES;var s=0,o=null,h=0,u=!1,c=l._4.TRIANGLES,p=0;this.drawCalls.push(n);for(e=0;e<this.batches.length;e++){var d=this.batches[e],f=8,g=d.style,m=g.texture.baseTexture;u!==!!g.native&&(c=(u=!!g.native)?l._4.LINES:l._4.TRIANGLES,o=null,s=f,t++),o!==m&&(o=m,m._batchEnabled!==t&&(s===f&&(t++,s=0,n.size>0&&((n=B.pop())||((n=new a.hq).texArray=new a.cc),this.drawCalls.push(n)),n.start=p,n.size=0,n.texArray.count=0,n.type=c),m.touched=1,m._batchEnabled=t,m._batchLocation=s,m.wrapMode=l.uR.REPEAT,n.texArray.elements[n.texArray.count++]=m,s++)),n.size+=d.size,p+=d.size,h=m._batchLocation,this.addColors(i,g.color,g.alpha,d.attribSize,d.attribStart),this.addTextureIds(r,h,d.attribSize,d.attribStart)}a.t5._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,i=this.colors,r=this.textureIds,n=new ArrayBuffer(3*t.length*4),a=new Float32Array(n),s=new Uint32Array(n),o=0,l=0;l<t.length/2;l++)a[o++]=t[2*l],a[o++]=t[2*l+1],a[o++]=e[2*l],a[o++]=e[2*l+1],s[o++]=i[l],a[o++]=r[l];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?g.triangulate(t,this):O[t.type].triangulate(t,this)},e.prototype.processLine=function(t){S(t,this);for(var e=0;e<t.holes.length;e++)S(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var i=t[e];O[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var i=0;i<t.length/2;i++){var r=t[2*i],n=t[2*i+1];t[2*i]=e.a*r+e.c*n+e.tx,t[2*i+1]=e.b*r+e.d*n+e.ty}},e.prototype.addColors=function(t,e,i,r,n){void 0===n&&(n=0);var a=(e>>16)+(65280&e)+((255&e)<<16),s=(0,o.premultiplyTint)(a,i);t.length=Math.max(t.length,n+r);for(var l=0;l<r;l++)t[n+l]=s},e.prototype.addTextureIds=function(t,e,i,r){void 0===r&&(r=0),t.length=Math.max(t.length,r+i);for(var n=0;n<i;n++)t[r+n]=e},e.prototype.addUvs=function(t,e,i,r,n,a){void 0===a&&(a=null);for(var s=0,o=e.length,l=i.frame;s<n;){var h=t[2*(r+s)],u=t[2*(r+s)+1];if(a){var c=a.a*h+a.c*u+a.tx;u=a.b*h+a.d*u+a.ty,h=c}s++,e.push(h/l.width,u/l.height)}var p=i.baseTexture;(l.width<p.width||l.height<p.height)&&this.adjustUvs(e,i,o,n)},e.prototype.adjustUvs=function(t,e,i,r){for(var n=e.baseTexture,a=1e-6,s=i+2*r,o=e.frame,l=o.width/n.width,h=o.height/n.height,u=o.x/o.width,c=o.y/o.height,p=Math.floor(t[i]+a),d=Math.floor(t[i+1]+a),f=i+2;f<s;f+=2)p=Math.min(p,Math.floor(t[f]+a)),d=Math.min(d,Math.floor(t[f+1]+a));u-=p,c-=d;for(f=i;f<s;f+=2)t[f]=(t[f]+u)*l,t[f+1]=(t[f+1]+c)*h},e.BATCHABLE_SIZE=100,e}(a.JH),N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=n.BUTT,e.join=r.MITER,e.miterLimit=10,e}return d(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(c),F=new Float32Array(3),G={},U=function(t){function e(e){void 0===e&&(e=null);var i=t.call(this)||this;return i.shader=null,i.pluginName="batch",i.currentPath=null,i.batches=[],i.batchTint=-1,i.batchDirty=-1,i.vertexData=null,i._fillStyle=new c,i._lineStyle=new N,i._matrix=null,i._holeMode=!1,i.state=a.Uw.for2d(),i._geometry=e||new k,i._geometry.refCount++,i._transformID=-1,i.tint=16777215,i.blendMode=l.B9.NORMAL,i}return d(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t,e,i,r,n){return void 0===t&&(t=null),void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=.5),void 0===n&&(n=!1),"number"==typeof t&&(t={width:t,color:e,alpha:i,alignment:r,native:n}),this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){t=Object.assign({width:0,texture:a.gP.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:n.BUTT,join:r.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new s.tS,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new s.tS,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,r=i[i.length-2],n=i[i.length-1];return r===t&&n===e||i.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,i,r){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),R.curveTo(t,e,i,r,n),this},e.prototype.bezierCurveTo=function(t,e,i,r,n,a){return this._initCurve(),I.curveTo(t,e,i,r,n,a,this.currentPath.points),this},e.prototype.arcTo=function(t,e,i,r,n){this._initCurve(t,e);var a=this.currentPath.points,s=P.curveTo(t,e,i,r,n,a);if(s){var o=s.cx,l=s.cy,h=s.radius,u=s.startAngle,c=s.endAngle,p=s.anticlockwise;this.arc(o,l,h,u,c,p)}return this},e.prototype.arc=function(t,e,i,r,n,a){if(void 0===a&&(a=!1),r===n)return this;if(!a&&n<=r?n+=s.TO:a&&r<=n&&(r+=s.TO),0===n-r)return this;var o=t+Math.cos(r)*i,l=e+Math.sin(r)*i,h=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var c=Math.abs(u[u.length-2]-o),p=Math.abs(u[u.length-1]-l);c<h&&p<h||u.push(o,l)}else this.moveTo(o,l),u=this.currentPath.points;return P.arc(o,l,t,e,i,r,n,a,u),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:a.gP.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){t=Object.assign({texture:a.gP.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,i,r){return this.drawShape(new s.M_(t,e,i,r))},e.prototype.drawRoundedRect=function(t,e,i,r,n){return this.drawShape(new s.TE(t,e,i,r,n))},e.prototype.drawCircle=function(t,e,i){return this.drawShape(new s.jl(t,e,i))},e.prototype.drawEllipse=function(t,e,i,r){return this.drawShape(new s.Pp(t,e,i,r))},e.prototype.drawPolygon=function(){for(var t,e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];var n=!0,a=i[0];a.points?(n=a.closeStroke,t=a.points):t=Array.isArray(i[0])?i[0]:i;var o=new s.tS(t);return o.closeStroke=n,this.drawShape(o),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return!(1!==t.length||t[0].shape.type!==s.HY.RECT||t[0].matrix||t[0].holes.length||t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,i=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(t.points);for(var r=0;r<i;r++){var n=t.batches[r],a=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),l=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),h={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:l,_batchRGB:(0,o.hex2rgb)(a),_tintRGB:a,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[r]=h}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,i=this.batches.length;e<i;e++){var r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),i=this._geometry,r=this.tint,n=this.worldAlpha,a=e.uniforms,s=i.drawCalls;a.translationMatrix=this.transform.worldTransform,a.tint[0]=(r>>16&255)/255*n,a.tint[1]=(r>>8&255)/255*n,a.tint[2]=(255&r)/255*n,a.tint[3]=n,t.shader.bind(e),t.geometry.bind(i,e),t.state.set(this.state);for(var o=0,l=s.length;o<l;o++)this._renderDrawCallDirect(t,i.drawCalls[o])},e.prototype._renderDrawCallDirect=function(t,e){for(var i=e.texArray,r=e.type,n=e.size,a=e.start,s=i.count,o=0;o<s;o++)t.texture.bind(i.elements[o],o);t.geometry.draw(r,n,a)},e.prototype._resolveDirectShader=function(t){var e=this.shader,i=this.pluginName;if(!e){if(!G[i]){for(var r=t.plugins[i].MAX_TEXTURES,n=new Int32Array(r),o=0;o<r;o++)n[o]=o;var l={tint:new Float32Array([1,1,1,1]),translationMatrix:new s.uq,default:a.k2.from({uSamplers:n},!0)},h=t.plugins[i]._shader.program;G[i]=new a.Mt(h,l)}e=G[i]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,i=e.minX,r=e.minY,n=e.maxX,a=e.maxY;this._bounds.addFrame(this.transform,i,r,n,a)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=(0,o.hex2rgb)(this.tint,F),e=0;e<this.batches.length;e++){var i=this.batches[e],r=i._batchRGB,n=(t[0]*r[0]*255<<16)+(t[1]*r[1]*255<<8)+(0|t[2]*r[2]*255);i._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,a=e.d,s=e.tx,o=e.ty,l=this._geometry.points,h=this.vertexData,u=0,c=0;c<l.length;c+=2){var p=l[c],d=l[c+1];h[u++]=i*p+n*d+s,h[u++]=a*d+r*p+o}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new s.bR,e}(h.mc),H={buildPoly:g,buildCircle:m,buildRectangle:A,buildRoundedRectangle:_,buildLine:S,ArcUtils:P,BezierUtils:I,QuadraticUtils:R,BatchPart:C,FILL_COMMANDS:O,BATCH_POOL:M,DRAW_CALL_POOL:B}},7239:(t,e,i)=>{"use strict";i.d(e,{ER:()=>E,HY:()=>r,M_:()=>h,Pp:()=>c,TE:()=>d,TO:()=>n,Td:()=>s,bO:()=>a,bR:()=>o,dL:()=>S,jl:()=>u,oA:()=>f,tS:()=>p,uq:()=>g});var r,n=2*Math.PI,a=180/Math.PI,s=Math.PI/180;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(r||(r={}));var o=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),l=[new o,new o,new o,new o],h=function(){function t(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(n),this.type=r.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.intersects=function(t,e){if(!e){var i=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=i)return!1;var r=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>r}var n=this.left,a=this.right,s=this.top,o=this.bottom;if(a<=n||o<=s)return!1;var h=l[0].set(t.left,t.top),u=l[1].set(t.left,t.bottom),c=l[2].set(t.right,t.top),p=l[3].set(t.right,t.bottom);if(c.x<=h.x||u.y<=h.y)return!1;var d=Math.sign(e.a*e.d-e.b*e.c);if(0===d)return!1;if(e.apply(h,h),e.apply(u,u),e.apply(c,c),e.apply(p,p),Math.max(h.x,u.x,c.x,p.x)<=n||Math.min(h.x,u.x,c.x,p.x)>=a||Math.max(h.y,u.y,c.y,p.y)<=s||Math.min(h.y,u.y,c.y,p.y)>=o)return!1;var f=d*(u.y-h.y),g=d*(h.x-u.x),m=f*n+g*s,A=f*a+g*s,v=f*n+g*o,y=f*a+g*o;if(Math.max(m,A,v,y)<=f*h.x+g*h.y||Math.min(m,A,v,y)>=f*p.x+g*p.y)return!1;var _=d*(h.y-c.y),b=d*(c.x-h.x),x=_*n+b*s,T=_*a+b*s,E=_*n+b*o,S=_*a+b*o;return!(Math.max(x,T,E,S)<=_*h.x+b*h.y||Math.min(x,T,E,S)>=_*p.x+b*p.y)},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(n-r,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=n-r,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),u=function(){function t(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this.radius=i,this.type=r.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.radius*this.radius,r=this.x-t,n=this.y-e;return(r*=r)+(n*=n)<=i},t.prototype.getBounds=function(){return new h(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),c=function(){function t(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.width=i,this.height=n,this.type=r.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,r=(e-this.y)/this.height;return(i*=i)+(r*=r)<=1},t.prototype.getBounds=function(){return new h(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),p=function(){function t(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var n=Array.isArray(e[0])?e[0]:e;if("number"!=typeof n[0]){for(var a=[],s=0,o=n.length;s<o;s++)a.push(n[s].x,n[s].y);n=a}this.points=n,this.type=r.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,n=0,a=r-1;n<r;a=n++){var s=this.points[2*n],o=this.points[2*n+1],l=this.points[2*a],h=this.points[2*a+1];o>e!=h>e&&t<(e-o)/(h-o)*(l-s)+s&&(i=!i)}return i},t.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce((function(t,e){return t+", "+e}),"")+"]"},t}(),d=function(){function t(t,e,i,n,a){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===a&&(a=20),this.x=t,this.y=e,this.width=i,this.height=n,this.radius=a,this.type=r.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){var i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+i&&e<=this.y+this.height-i||t>=this.x+i&&t<=this.x+this.width-i)return!0;var r=t-(this.x+i),n=e-(this.y+i),a=i*i;if(r*r+n*n<=a)return!0;if((r=t-(this.x+this.width-i))*r+n*n<=a)return!0;if(r*r+(n=e-(this.y+this.height-i))*n<=a)return!0;if((r=t-(this.x+i))*r+n*n<=a)return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},t}(),f=function(){function t(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e}return t.prototype.clone=function(e,i){return void 0===e&&(e=this.cb),void 0===i&&(i=this.scope),new t(e,i,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),g=function(){function t(t,e,i,r,n,a){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=0),void 0===a&&(a=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=a}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,i,r,n,a){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=a,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},t.prototype.apply=function(t,e){e=e||new o;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new o;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,n=t.y;return e.x=this.d*i*r+-this.c*i*n+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*n+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.c,a=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=a*e-this.ty*i,this.ty=a*i+this.ty*e,this},t.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,n=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this},t.prototype.setTransform=function(t,e,i,r,n,a,s,o,l){return this.a=Math.cos(s+l)*n,this.b=Math.sin(s+l)*n,this.c=-Math.sin(s-o)*a,this.d=Math.cos(s-o)*a,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,a=this.d,s=t.pivot,o=-Math.atan2(-r,a),l=Math.atan2(i,e),h=Math.abs(o+l);return h<1e-5||Math.abs(n-h)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=l),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+a*a),t.position.x=this.tx+(s.x*e+s.y*r),t.position.y=this.ty+(s.x*i+s.y*a),t},t.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,n=this.tx,a=t*r-e*i;return this.a=r/a,this.b=-e/a,this.c=-i/a,this.d=t/a,this.tx=(i*this.ty-r*n)/a,this.ty=-(t*this.ty-e*n)/a,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),m=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],A=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],v=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],y=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],_=[],b=[],x=Math.sign;function T(){for(var t=0;t<16;t++){var e=[];_.push(e);for(var i=0;i<16;i++)for(var r=x(m[t]*m[i]+v[t]*A[i]),n=x(A[t]*m[i]+y[t]*A[i]),a=x(m[t]*v[i]+v[t]*y[i]),s=x(A[t]*v[i]+y[t]*y[i]),o=0;o<16;o++)if(m[o]===r&&A[o]===n&&v[o]===a&&y[o]===s){e.push(o);break}}for(t=0;t<16;t++){var l=new g;l.set(m[t],A[t],v[t],y[t],0,0),b.push(l)}}T();var E={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return m[t]},uY:function(t){return A[t]},vX:function(t){return v[t]},vY:function(t){return y[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return _[t][e]},sub:function(t,e){return _[t][E.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?E.S:E.N:2*Math.abs(e)<=Math.abs(t)?t>0?E.E:E.W:e>0?t>0?E.SE:E.SW:t>0?E.NE:E.NW},matrixAppendRotationInv:function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var n=b[E.inv(e)];n.tx=i,n.ty=r,t.append(n)}},S=function(){function t(){this.worldTransform=new g,this.localTransform=new g,this.position=new f(this.onChange,this,0,0),this.scale=new f(this.onChange,this,1,1),this.pivot=new f(this.onChange,this,0,0),this.skew=new f(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}()},2365:(t,e,i)=>{"use strict";i.d(e,{Bq:()=>h,D8:()=>u,F_:()=>f,bd:()=>l,g:()=>p,js:()=>c});var r=i(2551),n=i(805),a=i(1947),s=function(t,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},s(t,e)};function o(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var l=function(t){function e(e,i,r,n){void 0===e&&(e=100),void 0===i&&(i=100),void 0===r&&(r=10),void 0===n&&(n=10);var a=t.call(this)||this;return a.segWidth=r,a.segHeight=n,a.width=e,a.height=i,a.build(),a}return o(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],i=[],r=[],n=this.segWidth-1,a=this.segHeight-1,s=this.width/n,o=this.height/a,l=0;l<t;l++){var h=l%this.segWidth,u=l/this.segWidth|0;e.push(h*s,u*o),i.push(h/n,u/a)}var c=n*a;for(l=0;l<c;l++){var p=l%n,d=l/n|0,f=d*this.segWidth+p,g=d*this.segWidth+p+1,m=(d+1)*this.segWidth+p,A=(d+1)*this.segWidth+p+1;r.push(f,g,m,g,A,m)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(r.u),h=function(t){function e(e,i,r){void 0===e&&(e=200),void 0===r&&(r=0);var n=t.call(this,new Float32Array(4*i.length),new Float32Array(4*i.length),new Uint16Array(6*(i.length-1)))||this;return n.points=i,n._width=e,n.textureScale=r,n.build(),n}return o(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),i.data=new Float32Array(4*t.length),r.data=new Uint16Array(6*(t.length-1)));var n=i.data,a=r.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=0,o=t[0],l=this._width*this.textureScale,h=t.length,u=0;u<h;u++){var c=4*u;if(this.textureScale>0){var p=o.x-t[u].x,d=o.y-t[u].y,f=Math.sqrt(p*p+d*d);o=t[u],s+=f/l}else s=u/(h-1);n[c]=s,n[c+1]=0,n[c+2]=s,n[c+3]=1}var g=0;for(u=0;u<h-1;u++){c=2*u;a[g++]=c,a[g++]=c+1,a[g++]=c+2,a[g++]=c+2,a[g++]=c+1,a[g++]=c+3}i.update(),r.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,i=t[0],r=0,n=0,a=this.buffers[0].data,s=t.length,o=0;o<s;o++){var l=t[o],h=4*o;n=-((e=o<t.length-1?t[o+1]:l).x-i.x),r=e.y-i.y;var u=Math.sqrt(r*r+n*n),c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;r/=u,n/=u,r*=c,n*=c,a[h]=l.x+r,a[h+1]=l.y+n,a[h+2]=l.x-r,a[h+3]=l.y-n,i=l}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(r.u),u=function(t){function e(e,i,a){void 0===a&&(a=0);var s=this,o=new h(e.height,i,a),l=new r.PX(e);return a>0&&(e.baseTexture.wrapMode=n.uR.REPEAT),(s=t.call(this,o,l)||this).autoUpdate=!0,s}return o(e,t),e.prototype._render=function(e){var i=this.geometry;(this.autoUpdate||i._width!==this.shader.texture.height)&&(i._width=this.shader.texture.height,i.update()),t.prototype._render.call(this,e)},e}(r.e),c=function(t){function e(e,i,n){var s=this,o=new l(e.width,e.height,i,n),h=new r.PX(a.gP.WHITE);return(s=t.call(this,o,h)||this).texture=e,s.autoResize=!0,s}return o(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry,e=this.shader.texture,i=e.width,r=e.height;!this.autoResize||t.width===i&&t.height===r||(t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},e.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,e)},e}(r.e),p=function(t){function e(e,i,n,s,o){void 0===e&&(e=a.gP.EMPTY);var l=this,h=new r.u(i,n,s);h.getBuffer("aVertexPosition").static=!1;var u=new r.PX(e);return(l=t.call(this,h,u,null,o)||this).autoUpdate=!0,l}return o(e,t),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},e}(r.e),d=10,f=function(t){function e(e,i,r,n,s){void 0===i&&(i=d),void 0===r&&(r=d),void 0===n&&(n=d),void 0===s&&(s=d);var o=t.call(this,a.gP.WHITE,4,4)||this;return o._origWidth=e.orig.width,o._origHeight=e.orig.height,o._width=o._origWidth,o._height=o._origHeight,o._leftWidth=i,o._rightWidth=n,o._topHeight=r,o._bottomHeight=s,o.texture=e,o}return o(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,i=this._topHeight+this._bottomHeight,r=this._height>i?1:this._height/i;return Math.min(e,r)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var i=1/this._origWidth,r=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(c)},2551:(t,e,i)=>{"use strict";i.d(e,{PX:()=>A,e:()=>f,iM:()=>c,u:()=>v});var r=i(1947),n=i(7239),a=i(805),s=i(903),o=i(9615),l=i(3785),h=function(t,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},h(t,e)};function u(t,e){function i(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var c=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),p=new n.bR,d=new n.tS,f=function(t){function e(e,i,n,s){void 0===s&&(s=a._4.TRIANGLES);var l=t.call(this)||this;return l.geometry=e,l.shader=i,l.state=n||r.Uw.for2d(),l.drawMode=s,l.start=0,l.size=0,l.uvs=null,l.indices=null,l.vertexData=new Float32Array(1),l.vertexDirty=-1,l._transformID=-1,l._roundPixels=o.W0.ROUND_PIXELS,l.batchUvs=null,l}return u(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var i=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===a._4.TRIANGLES&&i.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry.buffers[0],e=t.data,i=t._updateID;if(i!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,n=r.a,a=r.b,s=r.c,l=r.d,h=r.tx,u=r.ty,c=this.vertexData,p=0;p<c.length/2;p++){var d=e[2*p],f=e[2*p+1];c[2*p]=n*d+s*f+h,c[2*p+1]=a*d+l*f+u}if(this._roundPixels){var g=o.W0.RESOLUTION;for(p=0;p<c.length;++p)c[p]=Math.round((c[p]*g|0)/g)}this.vertexDirty=i}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new c(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,p);for(var e=this.geometry.getBuffer("aVertexPosition").data,i=d.points,r=this.geometry.getIndex().data,n=r.length,a=4===this.drawMode?3:1,s=0;s+2<n;s+=a){var o=2*r[s],l=2*r[s+1],h=2*r[s+2];if(i[0]=e[o],i[1]=e[o+1],i[2]=e[l],i[3]=e[l+1],i[4]=e[h],i[5]=e[h+1],d.contains(p.x,p.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(s.mc),g="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",m="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n",A=function(t){function e(e,i){var a=this,s={uSampler:e,alpha:1,uTextureMatrix:n.uq.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i)).uniforms&&Object.assign(s,i.uniforms),(a=t.call(this,i.program||r.BP.from(m,g),s)||this)._colorDirty=!1,a.uvMatrix=new r.NW(e),a.batchable=void 0===i.program,a.pluginName=i.pluginName,a.tint=i.tint,a.alpha=i.alpha,a}return u(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;(0,l.premultiplyTintToRgba)(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(r.Mt),v=function(t){function e(e,i,n){var s=t.call(this)||this,o=new r.hp(e),l=new r.hp(i,!0),h=new r.hp(n,!0,!0);return s.addAttribute("aVertexPosition",o,2,!1,a.QE.FLOAT).addAttribute("aTextureCoord",l,2,!1,a.QE.FLOAT).addIndex(h),s._updateId=-1,s}return u(e,t),Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(r.V2)},1571:(t,e,i)=>{"use strict";i.d(e,{e:()=>f,w:()=>u});var r=i(805),n=i(903),a=i(3785),s=i(1947),o=i(7239),l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},l(t,e)};function h(t,e){function i(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var u=function(t){function e(e,i,n,a){void 0===e&&(e=1500),void 0===n&&(n=16384),void 0===a&&(a=!1);var s=t.call(this)||this,o=16384;return n>o&&(n=o),s._properties=[!1,!0,!1,!1,!1],s._maxSize=e,s._batchSize=n,s._buffers=null,s._bufferUpdateIDs=[],s._updateID=0,s.interactiveChildren=!1,s.blendMode=r.B9.NORMAL,s.autoResize=a,s.roundPixels=!0,s.baseTexture=null,s.setProperties(i),s._tint=0,s.tintRgb=new Float32Array(4),s.tint=16777215,s}return h(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,(0,a.hex2rgb)(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(n.mc),c=function(){function t(t,e,i){this.geometry=new s.V2,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<t.length;++n){var a=t[n];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||r.QE.FLOAT,offset:a.offset},e[n]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new s.hp((0,a.createIndicesForQuads)(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i){(h=this.dynamicProperties[i]).offset=e,e+=h.size,this.dynamicStride+=h.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new s.hp(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(i=0;i<this.staticProperties.length;++i){(h=this.staticProperties[i]).offset=o,o+=h.size,this.staticStride+=h.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=new s.hp(this.staticData,!0,!1);for(i=0;i<this.dynamicProperties.length;++i){var h=this.dynamicProperties[i];t.addAttribute(h.attributeName,this.dynamicBuffer,0,h.type===r.QE.UNSIGNED_BYTE,h.type,4*this.dynamicStride,4*h.offset)}for(i=0;i<this.staticProperties.length;++i){h=this.staticProperties[i];t.addAttribute(h.attributeName,this.staticBuffer,0,h.type===r.QE.UNSIGNED_BYTE,h.type,4*this.staticStride,4*h.offset)}},t.prototype.uploadDynamic=function(t,e,i){for(var n=0;n<this.dynamicProperties.length;n++){var a=this.dynamicProperties[n];a.uploadFunction(t,e,i,a.type===r.QE.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(t,e,i){for(var n=0;n<this.staticProperties.length;n++){var a=this.staticProperties[n];a.uploadFunction(t,e,i,a.type===r.QE.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),p="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",d="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",f=function(t){function e(e){var i=t.call(this,e)||this;return i.shader=null,i.properties=null,i.tempMatrix=new o.uq,i.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:i.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:i.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:i.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:i.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:r.QE.UNSIGNED_BYTE,uploadFunction:i.uploadTint,offset:0}],i.shader=s.Mt.from(d,p,{}),i.state=s.Uw.for2d(),i}return h(e,t),e.prototype.render=function(t){var e=t.children,i=t._maxSize,r=t._batchSize,n=this.renderer,s=e.length;if(0!==s){s>i&&!t.autoResize&&(s=i);var o=t._buffers;o||(o=t._buffers=this.generateBuffers(t));var l=e[0]._texture.baseTexture,h=l.alphaMode>0;this.state.blendMode=(0,a.correctBlendMode)(t.blendMode,h),n.state.set(this.state);var u=n.gl,c=t.worldTransform.copyTo(this.tempMatrix);c.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=(0,a.premultiplyRgba)(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,h),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);for(var p=!1,d=0,f=0;d<s;d+=r,f+=1){var g=s-d;g>r&&(g=r),f>=o.length&&o.push(this._generateOneMoreBuffer(t));var m=o[f];m.uploadDynamic(e,d,g);var A=t._bufferUpdateIDs[f]||0;(p=p||m._updateID<A)&&(m._updateID=t._updateID,m.uploadStatic(e,d,g)),n.geometry.bind(m.geometry),u.drawElements(u.TRIANGLES,6*g,u.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],i=t._maxSize,r=t._batchSize,n=t._properties,a=0;a<i;a+=r)e.push(new c(this.properties,n,r));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,i=t._properties;return new c(this.properties,i,e)},e.prototype.uploadVertices=function(t,e,i,r,n,a){for(var s=0,o=0,l=0,h=0,u=0;u<i;++u){var c=t[e+u],p=c._texture,d=c.scale.x,f=c.scale.y,g=p.trim,m=p.orig;g?(s=(o=g.x-c.anchor.x*m.width)+g.width,l=(h=g.y-c.anchor.y*m.height)+g.height):(s=m.width*(1-c.anchor.x),o=m.width*-c.anchor.x,l=m.height*(1-c.anchor.y),h=m.height*-c.anchor.y),r[a]=o*d,r[a+1]=h*f,r[a+n]=s*d,r[a+n+1]=h*f,r[a+2*n]=s*d,r[a+2*n+1]=l*f,r[a+3*n]=o*d,r[a+3*n+1]=l*f,a+=4*n}},e.prototype.uploadPosition=function(t,e,i,r,n,a){for(var s=0;s<i;s++){var o=t[e+s].position;r[a]=o.x,r[a+1]=o.y,r[a+n]=o.x,r[a+n+1]=o.y,r[a+2*n]=o.x,r[a+2*n+1]=o.y,r[a+3*n]=o.x,r[a+3*n+1]=o.y,a+=4*n}},e.prototype.uploadRotation=function(t,e,i,r,n,a){for(var s=0;s<i;s++){var o=t[e+s].rotation;r[a]=o,r[a+n]=o,r[a+2*n]=o,r[a+3*n]=o,a+=4*n}},e.prototype.uploadUvs=function(t,e,i,r,n,a){for(var s=0;s<i;++s){var o=t[e+s]._texture._uvs;o?(r[a]=o.x0,r[a+1]=o.y0,r[a+n]=o.x1,r[a+n+1]=o.y1,r[a+2*n]=o.x2,r[a+2*n+1]=o.y2,r[a+3*n]=o.x3,r[a+3*n+1]=o.y3,a+=4*n):(r[a]=0,r[a+1]=0,r[a+n]=0,r[a+n+1]=0,r[a+2*n]=0,r[a+2*n+1]=0,r[a+3*n]=0,r[a+3*n+1]=0,a+=4*n)}},e.prototype.uploadTint=function(t,e,i,r,n,s){for(var o=0;o<i;++o){var l=t[e+o],h=l._texture.baseTexture.alphaMode>0,u=l.alpha,c=u<1&&h?(0,a.premultiplyTint)(l._tintRGB,u):l._tintRGB+(255*u<<24);r[s]=c,r[s+n]=c,r[s+2*n]=c,r[s+3*n]=c,s+=4*n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e.extension={name:"particle",type:s.Ag.RendererPlugin},e}(s.Pt)},1605:(t,e,i)=>{"use strict";i.d(e,{It:()=>p,Ls:()=>_,oP:()=>S,p8:()=>E});var r=i(9615),n=i(1947),a=i(5871),s=i(4775),o=i(903),l=i(8723),h=i(3785);r.W0.UPLOADS_PER_FRAME=4;var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},u(t,e)};function c(t,e){function i(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var p=function(){function t(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function d(t,e){var i=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof n.gP){var a=t._textures[r].baseTexture;-1===e.indexOf(a)&&(e.push(a),i=!0)}return i}function f(t,e){if(t.baseTexture instanceof n.t5){var i=t.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function g(t,e){if(t._texture&&t._texture instanceof n.gP){var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function m(t,e){return e instanceof l.EY&&(e.updateText(!0),!0)}function A(t,e){if(e instanceof l.xJ){var i=e.toFontString();return l.Z1.measureFont(i),!0}return!1}function v(t,e){if(t instanceof l.EY){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function y(t,e){return t instanceof l.xJ&&(-1===e.indexOf(t)&&e.push(t),!0)}var _=function(){function t(t){var e=this;this.limiter=new p(r.W0.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(v),this.registerFindHook(y),this.registerFindHook(d),this.registerFindHook(f),this.registerFindHook(g),this.registerUploadHook(m),this.registerUploadHook(A)}return t.prototype.upload=function(t,e){var i=this;return"function"==typeof t&&(e=t,t=null),e&&(0,h.deprecation)("6.5.0","BasePrepare.upload callback is deprecated, use the return Promise instead."),new Promise((function(r){t&&i.add(t);var n=function(){null==e||e(),r()};i.queue.length?(i.completes.push(n),i.ticking||(i.ticking=!0,s.Rv.system.addOnce(i.tick,i,s.dQ.UTILITY))):n()}))},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)s.Rv.system.addOnce(this.tick,this,s.dQ.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);this.completes.length=0;for(i=0,r=n.length;i<r;i++)n[i]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof o.mc)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},t.prototype.destroy=function(){this.ticking&&s.Rv.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function b(t,e){return e instanceof n.t5&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function x(t,e){if(!(e instanceof a.A1))return!1;var i=e.geometry;e.finishPoly(),i.updateBatches();for(var r=i.batches,n=0;n<r.length;n++){var s=r[n].style.texture;s&&b(t,s.baseTexture)}return i.batchable||t.geometry.bind(i,e._resolveDirectShader(t)),!0}function T(t,e){return t instanceof a.A1&&(e.push(t),!0)}var E=function(t){function e(e){var i=t.call(this,e)||this;return i.uploadHookHelper=i.renderer,i.registerFindHook(T),i.registerUploadHook(b),i.registerUploadHook(x),i}return c(e,t),e.extension={name:"prepare",type:n.Ag.RendererPlugin},e}(_),S=function(){function t(t){this.maxMilliseconds=t,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}()},935:(t,e,i)=>{"use strict";i.d(e,{b:()=>r});var r=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,i,r,n,a,s,o){if(arguments.length>8)throw new Error("max arguments reached");var l=this,h=l.name,u=l.items;this._aliasCount++;for(var c=0,p=u.length;c<p;c++)u[c][h](t,e,i,r,n,a,s,o);return u===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(r.prototype,{dispatch:{value:r.prototype.emit},run:{value:r.prototype.emit}})},9615:(t,e,i)=>{"use strict";i.d(e,{Fr:()=>T,OF:()=>n,W0:()=>w});var r=i(805),n={createCanvas:function(t,e){var i=document.createElement("canvas");return i.width=t,i.height=e,i},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var t;return null!==(t=document.baseURI)&&void 0!==t?t:window.location.href},fetch:function(t,e){return fetch(t,e)}},a=/iPhone/i,s=/iPod/i,o=/iPad/i,l=/\biOS-universal(?:.+)Mac\b/i,h=/\bAndroid(?:.+)Mobile\b/i,u=/Android/i,c=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,p=/Silk/i,d=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,g=/BlackBerry/i,m=/BB10/i,A=/Opera Mini/i,v=/\b(CriOS|Chrome)(?:.+)Mobile/i,y=/Mobile(?:.+)Firefox\b/i,_=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream};function b(t){return function(e){return e.test(t)}}function x(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var i=e.userAgent,r=i.split("[FBAN");void 0!==r[1]&&(i=r[0]),void 0!==(r=i.split("Twitter"))[1]&&(i=r[0]);var n=b(i),x={apple:{phone:n(a)&&!n(d),ipod:n(s),tablet:!n(a)&&(n(o)||_(e))&&!n(d),universal:n(l),device:(n(a)||n(s)||n(o)||n(l)||_(e))&&!n(d)},amazon:{phone:n(c),tablet:!n(c)&&n(p),device:n(c)||n(p)},android:{phone:!n(d)&&n(c)||!n(d)&&n(h),tablet:!n(d)&&!n(c)&&!n(h)&&(n(p)||n(u)),device:!n(d)&&(n(c)||n(p)||n(h)||n(u))||n(/\bokhttp\b/i)},windows:{phone:n(d),tablet:n(f),device:n(d)||n(f)},other:{blackberry:n(g),blackberry10:n(m),opera:n(A),firefox:n(y),chrome:n(v),device:n(g)||n(m)||n(A)||n(y)||n(v)},any:!1,phone:!1,tablet:!1};return x.any=x.apple.device||x.android.device||x.windows.device||x.other.device,x.phone=x.apple.phone||x.android.phone||x.windows.phone,x.tablet=x.apple.tablet||x.android.tablet||x.windows.tablet,x}var T=x(globalThis.navigator);function E(){return!T.apple.device}function S(t){var e=!0;if(T.tablet||T.phone){var i;if(T.apple.device)if(i=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(i[1],10)<11&&(e=!1);if(T.android.device)if(i=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(i[1],10)<7&&(e=!1)}return e?t:4}var w={ADAPTER:n,MIPMAP_TEXTURES:r.E8.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:r.he.NONE,SPRITE_MAX_TEXTURES:S(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,antialias:!1,preserveDrawingBuffer:!1},GC_MODE:r.OS.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:r.uR.CLAMP,SCALE_MODE:r.M6.LINEAR,PRECISION_VERTEX:r.Pk.HIGH,PRECISION_FRAGMENT:T.apple.device?r.Pk.HIGH:r.Pk.MEDIUM,CAN_UPLOAD_SAME_BUFFER:E(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1}},3481:(t,e,i)=>{"use strict";i.d(e,{_:()=>v,t:()=>c});var r=i(1947),n=i(7239),a=i(511),s=i(805),o=i(3785),l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},l(t,e)};function h(t,e){function i(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var u=new n.bR,c=function(t){function e(e,i,a){void 0===i&&(i=100),void 0===a&&(a=100);var s=t.call(this,e)||this;return s.tileTransform=new n.dL,s._width=i,s._height=a,s.uvMatrix=s.texture.uvMatrix||new r.NW(e),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return h(e,t),Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,r)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new n.M_),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,u);var e=this._width,i=this._height,r=-e*this.anchor._x;if(u.x>=r&&u.x<r+e){var n=-i*this.anchor._y;if(u.y>=n&&u.y<n+i)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,i){return new e(t instanceof r.gP?t:r.gP.from(t,i),i.width,i.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),e}(a.k),p="#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",d="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",f="#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",g="#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",m="#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",A=new n.uq,v=function(t){function e(e){var i=t.call(this,e)||this;return e.runners.contextChange.add(i),i.quad=new r.X1,i.state=r.Uw.for2d(),i}return h(e,t),e.prototype.contextChange=function(){var t=this.renderer,e={globals:t.globalUniforms};this.simpleShader=r.Mt.from(d,p,e),this.shader=t.context.webGLVersion>1?r.Mt.from(g,m,e):r.Mt.from(d,f,e)},e.prototype.render=function(t){var e=this.renderer,i=this.quad,r=i.vertices;r[0]=r[6]=t._width*-t.anchor.x,r[1]=r[3]=t._height*-t.anchor.y,r[2]=r[4]=t._width*(1-t.anchor.x),r[5]=r[7]=t._height*(1-t.anchor.y);var n=t.uvRespectAnchor?t.anchor.x:0,a=t.uvRespectAnchor?t.anchor.y:0;(r=i.uvs)[0]=r[6]=-n,r[1]=r[3]=-a,r[2]=r[4]=1-n,r[5]=r[7]=1-a,i.invalidate();var l=t._texture,h=l.baseTexture,u=h.alphaMode>0,c=t.tileTransform.localTransform,p=t.uvMatrix,d=h.isPowerOfTwo&&l.frame.width===h.width&&l.frame.height===h.height;d&&(h._glTextures[e.CONTEXT_UID]?d=h.wrapMode!==s.uR.CLAMP:h.wrapMode===s.uR.CLAMP&&(h.wrapMode=s.uR.REPEAT));var f=d?this.simpleShader:this.shader,g=l.width,m=l.height,v=t._width,y=t._height;A.set(c.a*g/v,c.b*g/y,c.c*m/v,c.d*m/y,c.tx/v,c.ty/y),A.invert(),d?A.prepend(p.mapCoord):(f.uniforms.uMapCoord=p.mapCoord.toArray(!0),f.uniforms.uClampFrame=p.uClampFrame,f.uniforms.uClampOffset=p.uClampOffset),f.uniforms.uTransform=A.toArray(!0),f.uniforms.uColor=(0,o.premultiplyTintToRgba)(t.tint,t.worldAlpha,f.uniforms.uColor,u),f.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),f.uniforms.uSampler=l,e.shader.bind(f),e.geometry.bind(i),this.state.blendMode=(0,o.correctBlendMode)(t.blendMode,u),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e.extension={name:"tilingSprite",type:r.Ag.RendererPlugin},e}(r.Pt)},511:(t,e,i)=>{"use strict";i.d(e,{k:()=>d});var r=i(805),n=i(1947),a=i(903),s=i(7239),o=i(9615),l=i(3785),h=function(t,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},h(t,e)};function u(t,e){function i(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var c=new s.bR,p=new Uint16Array([0,1,2,0,2,3]),d=function(t){function e(e){var i=t.call(this)||this;return i._anchor=new s.oA(i._onAnchorUpdate,i,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),i._texture=null,i._width=0,i._height=0,i._tint=null,i._tintRGB=null,i.tint=16777215,i.blendMode=r.B9.NORMAL,i._cachedTint=16777215,i.uvs=null,i.texture=e||n.gP.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i._transformTrimmedID=-1,i._textureTrimmedID=-1,i.indices=p,i.pluginName="batch",i.isSprite=!0,i._roundPixels=o.W0.ROUND_PIXELS,i}return u(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=(0,l.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,l.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,a=e.d,s=e.tx,l=e.ty,h=this.vertexData,u=t.trim,c=t.orig,p=this._anchor,d=0,f=0,g=0,m=0;if(u?(d=(f=u.x-p._x*c.width)+u.width,g=(m=u.y-p._y*c.height)+u.height):(d=(f=-p._x*c.width)+c.width,g=(m=-p._y*c.height)+c.height),h[0]=i*f+n*m+s,h[1]=a*m+r*f+l,h[2]=i*d+n*m+s,h[3]=a*m+r*d+l,h[4]=i*d+n*g+s,h[5]=a*g+r*d+l,h[6]=i*f+n*g+s,h[7]=a*g+r*f+l,this._roundPixels)for(var A=o.W0.RESOLUTION,v=0;v<h.length;++v)h[v]=Math.round((h[v]*A|0)/A)}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,i=t.orig,r=this._anchor,n=this.transform.worldTransform,a=n.a,s=n.b,o=n.c,l=n.d,h=n.tx,u=n.ty,c=-r._x*i.width,p=c+i.width,d=-r._y*i.height,f=d+i.height;e[0]=a*c+o*d+h,e[1]=l*d+s*c+u,e[2]=a*p+o*d+h,e[3]=l*d+s*p+u,e[4]=a*p+o*f+h,e[5]=l*f+s*p+u,e[6]=a*c+o*f+h,e[7]=l*f+s*c+u},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new a.cz),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new s.M_),e=this._localBoundsRect),this._localBounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,c);var e=this._texture.orig.width,i=this._texture.orig.height,r=-e*this.anchor.x,n=0;return c.x>=r&&c.x<r+e&&(n=-i*this.anchor.y,c.y>=n&&c.y<n+i)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var i="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(t,i){return new e(t instanceof n.gP?t:n.gP.from(t,i))},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,l.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,l.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||n.gP.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(a.mc)},8723:(t,e,i)=>{"use strict";i.d(e,{EY:()=>b,T:()=>r,Z1:()=>y,xJ:()=>d});var r,n=i(511),a=i(1947),s=i(9615),o=i(7239),l=i(3785),h=function(t,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},h(t,e)};function u(t,e){function i(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(r||(r={}));var c={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:r.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},p=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],d=function(){function t(t){this.styleID=0,this.reset(),A(this,t,t)}return t.prototype.clone=function(){var e={};return A(e,this,c),new t(e)},t.prototype.reset=function(){A(this,c,c)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=g(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=g(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){m(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=g(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var r=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&p.indexOf(r)<0&&(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function f(t){return"number"==typeof t?(0,l.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function g(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=f(t[e]);return t}return f(t)}function m(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}function A(t,e,i){for(var r in i)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}var v={willReadFrequently:!0},y=function(){function t(t,e,i,r,n,a,s,o,l){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=n,this.lineWidths=a,this.lineHeight=s,this.maxLineWidth=o,this.fontProperties=l}return t.measureText=function(e,i,r,n){void 0===n&&(n=t._canvas),r=null==r?i.wordWrap:r;var a=i.toFontString(),s=t.measureFont(a);0===s.fontSize&&(s.fontSize=i.fontSize,s.ascent=i.fontSize);var o=n.getContext("2d",v);o.font=a;for(var l=(r?t.wordWrap(e,i,n):e).split(/(?:\r\n|\r|\n)/),h=new Array(l.length),u=0,c=0;c<l.length;c++){var p=o.measureText(l[c]).width+(l[c].length-1)*i.letterSpacing;h[c]=p,u=Math.max(u,p)}var d=u+i.strokeThickness;i.dropShadow&&(d+=i.dropShadowDistance);var f=i.lineHeight||s.fontSize+i.strokeThickness,g=Math.max(f,s.fontSize+i.strokeThickness)+(l.length-1)*(f+i.leading);return i.dropShadow&&(g+=i.dropShadowDistance),new t(e,i,d,g,l,h,f+i.leading,u,s)},t.wordWrap=function(e,i,r){void 0===r&&(r=t._canvas);for(var n=r.getContext("2d",v),a=0,s="",o="",l=Object.create(null),h=i.letterSpacing,u=i.whiteSpace,c=t.collapseSpaces(u),p=t.collapseNewlines(u),d=!c,f=i.wordWrapWidth+h,g=t.tokenize(e),m=0;m<g.length;m++){var A=g[m];if(t.isNewline(A)){if(!p){o+=t.addLine(s),d=!c,s="",a=0;continue}A=" "}if(c){var y=t.isBreakingSpace(A),_=t.isBreakingSpace(s[s.length-1]);if(y&&_)continue}var b=t.getFromCache(A,h,l,n);if(b>f)if(""!==s&&(o+=t.addLine(s),s="",a=0),t.canBreakWords(A,i.breakWords))for(var x=t.wordWrapSplit(A),T=0;T<x.length;T++){for(var E=x[T],S=1;x[T+S];){var w=x[T+S],P=E[E.length-1];if(t.canBreakChars(P,w,A,T,i.breakWords))break;E+=w,S++}T+=E.length-1;var I=t.getFromCache(E,h,l,n);I+a>f&&(o+=t.addLine(s),d=!1,s="",a=0),s+=E,a+=I}else{s.length>0&&(o+=t.addLine(s),s="",a=0);var R=m===g.length-1;o+=t.addLine(A,!R),d=!1,s="",a=0}else b+a>f&&(d=!1,o+=t.addLine(s),s="",a=0),(s.length>0||!t.isBreakingSpace(A)||d)&&(s+=A,a+=b)}return o+=t.addLine(s,!1)},t.addLine=function(e,i){return void 0===i&&(i=!0),e=t.trimRight(e),e=i?e+"\n":e},t.getFromCache=function(t,e,i,r){var n=i[t];if("number"!=typeof n){var a=t.length*e;n=r.measureText(t).width+a,i[t]=n}return n},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var i=e.length-1;i>=0;i--){var r=e[i];if(!t.isBreakingSpace(r))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,i){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var i=[],r="";if("string"!=typeof e)return i;for(var n=0;n<e.length;n++){var a=e[n],s=e[n+1];t.isBreakingSpace(a,s)||t.isNewline(a)?(""!==r&&(i.push(r),r=""),i.push(a)):r+=a}return""!==r&&i.push(r),i},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,i,r,n){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var i={ascent:0,descent:0,fontSize:0},r=t._canvas,n=t._context;n.font=e;var a=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(n.measureText(a).width),o=Math.ceil(n.measureText(t.BASELINE_SYMBOL).width),l=Math.ceil(t.HEIGHT_MULTIPLIER*o);o=o*t.BASELINE_MULTIPLIER|0,r.width=s,r.height=l,n.fillStyle="#f00",n.fillRect(0,0,s,l),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(a,0,o);var h=n.getImageData(0,0,s,l).data,u=h.length,c=4*s,p=0,d=0,f=!1;for(p=0;p<o;++p){for(var g=0;g<c;g+=4)if(255!==h[d+g]){f=!0;break}if(f)break;d+=c}for(i.ascent=o-p,d=u-c,f=!1,p=l;p>o;--p){for(g=0;g<c;g+=4)if(255!==h[d+g]){f=!0;break}if(f)break;d-=c}return i.descent=p-o,i.fontSize=i.ascent+i.descent,t._fonts[e]=i,i},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var e=void 0;try{var i=new OffscreenCanvas(0,0),r=i.getContext("2d",v);if(r&&r.measureText)return t.__canvas=i,i;e=s.W0.ADAPTER.createCanvas()}catch(n){e=s.W0.ADAPTER.createCanvas()}e.width=e.height=10,t.__canvas=e}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d",v)),t.__context},enumerable:!1,configurable:!0}),t}();y._fonts={},y.METRICS_STRING="|ÉqÅ",y.BASELINE_SYMBOL="M",y.BASELINE_MULTIPLIER=1.4,y.HEIGHT_MULTIPLIER=2,y._newlines=[10,13],y._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var _={texture:!0,children:!1,baseTexture:!0},b=function(t){function e(e,i,r){var n=this,l=!1;r||(r=s.W0.ADAPTER.createCanvas(),l=!0),r.width=3,r.height=3;var h=a.gP.from(r);return h.orig=new o.M_,h.trim=new o.M_,(n=t.call(this,h)||this)._ownCanvas=l,n.canvas=r,n.context=r.getContext("2d",{willReadFrequently:!0}),n._resolution=s.W0.RESOLUTION,n._autoResolution=!0,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=e,n.style=i,n.localStyleID=-1,n}return u(e,t),e.prototype.updateText=function(t){var i=this._style;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,n,a=this.context,s=y.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=s.width,h=s.height,u=s.lines,c=s.lineHeight,p=s.lineWidths,d=s.maxLineWidth,f=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+2*i.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,h)+2*i.padding)*this._resolution),a.scale(this._resolution,this._resolution),a.clearRect(0,0,this.canvas.width,this.canvas.height),a.font=this._font,a.lineWidth=i.strokeThickness,a.textBaseline=i.textBaseline,a.lineJoin=i.lineJoin,a.miterLimit=i.miterLimit;for(var g=i.dropShadow?2:1,m=0;m<g;++m){var A=i.dropShadow&&0===m,v=A?Math.ceil(Math.max(1,h)+2*i.padding):0,_=v*this._resolution;if(A){a.fillStyle="black",a.strokeStyle="black";var b=i.dropShadowColor,x=(0,l.hex2rgb)("number"==typeof b?b:(0,l.string2hex)(b)),T=i.dropShadowBlur*this._resolution,E=i.dropShadowDistance*this._resolution;a.shadowColor="rgba("+255*x[0]+","+255*x[1]+","+255*x[2]+","+i.dropShadowAlpha+")",a.shadowBlur=T,a.shadowOffsetX=Math.cos(i.dropShadowAngle)*E,a.shadowOffsetY=Math.sin(i.dropShadowAngle)*E+_}else a.fillStyle=this._generateFillStyle(i,u,s),a.strokeStyle=i.stroke,a.shadowColor="black",a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0;var S=(c-f.fontSize)/2;(!e.nextLineHeightBehavior||c-f.fontSize<0)&&(S=0);for(var w=0;w<u.length;w++)r=i.strokeThickness/2,n=i.strokeThickness/2+w*c+f.ascent+S,"right"===i.align?r+=d-p[w]:"center"===i.align&&(r+=(d-p[w])/2),i.stroke&&i.strokeThickness&&this.drawLetterSpacing(u[w],r+i.padding,n+i.padding-v,!0),i.fill&&this.drawLetterSpacing(u[w],r+i.padding,n+i.padding-v)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,i,r,n){void 0===n&&(n=!1);var a=this._style.letterSpacing,s=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(0===a||s)return s&&(this.context.letterSpacing=a,this.context.textLetterSpacing=a),void(n?this.context.strokeText(t,i,r):this.context.fillText(t,i,r));for(var o=i,l=Array.from?Array.from(t):t.split(""),h=this.context.measureText(t).width,u=0,c=0;c<l.length;++c){var p=l[c];n?this.context.strokeText(p,o,r):this.context.fillText(p,o,r);for(var d="",f=c+1;f<l.length;++f)d+=l[f];o+=h-(u=this.context.measureText(d).width)+a,h=u}},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,l.trimCanvas)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var i=this._texture,r=this._style,n=r.trim?0:r.padding,a=i.baseTexture;i.trim.width=i._frame.width=t.width/this._resolution,i.trim.height=i._frame.height=t.height/this._resolution,i.trim.x=-n,i.trim.y=-n,i.orig.width=i._frame.width-2*n,i.orig.height=i._frame.height-2*n,this._onTextureUpdate(),a.setRealSize(t.width,t.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},e.prototype.getBounds=function(e,i){return this.updateText(!0),-1===this._textureID&&(e=!1),t.prototype.getBounds.call(this,e,i)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,e,i){var n,a=t.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,l=this.canvas.width/this._resolution-s-2*o,h=this.canvas.height/this._resolution-s-2*o,u=a.slice(),c=t.fillGradientStops.slice();if(!c.length)for(var p=u.length+1,d=1;d<p;++d)c.push(d/p);if(u.unshift(a[0]),c.unshift(0),u.push(a[a.length-1]),c.push(1),t.fillGradientType===r.LINEAR_VERTICAL){n=this.context.createLinearGradient(l/2,o,l/2,h+o);var f=i.fontProperties.fontSize+t.strokeThickness;for(d=0;d<e.length;d++){var g=i.lineHeight*(d-1)+f,m=i.lineHeight*d,A=m;d>0&&g>m&&(A=(m+g)/2);var v=m+f,y=i.lineHeight*(d+1),_=v;d+1<e.length&&y<v&&(_=(v+y)/2);for(var b=(_-A)/h,x=0;x<u.length;x++){var T=0;T="number"==typeof c[x]?c[x]:x/u.length;var E=Math.min(1,Math.max(0,A/h+T*b));E=Number(E.toFixed(5)),n.addColorStop(E,u[x])}}}else{n=this.context.createLinearGradient(o,h/2,l+o,h/2);var S=u.length+1,w=1;for(d=0;d<u.length;d++){var P=void 0;P="number"==typeof c[d]?c[d]:w/S,n.addColorStop(P,u[d]),w++}}return n},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},_,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,l.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,l.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof d?t:new d(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(n.k)},4775:(t,e,i)=>{"use strict";i.d(e,{Rv:()=>o,dQ:()=>r,y:()=>l});var r,n=i(9615),a=i(6919);n.W0.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(r||(r={}));var s=function(){function t(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=i,this.once=r}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),o=function(){function t(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new s(null,null,1/0),this.deltaMS=1/n.W0.TARGET_FPMS,this.elapsedMS=1/n.W0.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,i){return void 0===i&&(i=r.NORMAL),this._addListener(new s(t,e,i))},t.prototype.addOnce=function(t,e,i){return void 0===i&&(i=r.NORMAL),this._addListener(new s(t,e,i,!0))},t.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*n.W0.TARGET_FPMS;for(var r=this._head,a=r.next;a;)a=a.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,n.W0.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),l=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,r.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?o.shared:new o,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t.extension=a.A.Application,t}()},3785:(t,e,i)=>{"use strict";i.r(e),i.d(e,{BaseTextureCache:()=>z,CanvasRenderTarget:()=>Z,DATA_URI:()=>$,EventEmitter:()=>n,ProgramCache:()=>V,TextureCache:()=>Y,clearTextureCache:()=>Q,correctBlendMode:()=>I,createIndicesForQuads:()=>M,decomposeDataUri:()=>tt,deprecation:()=>W,destroyTextureCache:()=>q,determineCrossOrigin:()=>et,earcut:()=>a,getBufferType:()=>B,getResolutionOfUrl:()=>it,hex2rgb:()=>x,hex2string:()=>T,interleaveTypedArrays:()=>L,isMobile:()=>r.Fr,isPow2:()=>N,isWebGLSupported:()=>_,log2:()=>F,nextPow2:()=>k,path:()=>f,premultiplyBlendMode:()=>P,premultiplyRgba:()=>R,premultiplyTint:()=>C,premultiplyTintToRgba:()=>O,removeItems:()=>G,rgb2hex:()=>S,sayHello:()=>y,sign:()=>U,skipHello:()=>v,string2hex:()=>E,trimCanvas:()=>K,uid:()=>X,url:()=>l});var r=i(9615),n=i(9846),a=i(2840),s=i(3241),o=i(805),l={parse:s.qg,format:s.GP,resolve:s.hd};function h(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function u(t){return t.split("?")[0].split("#")[0]}function c(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function p(t,e,i){return t.replace(new RegExp(c(e),"g"),i)}function d(t,e){for(var i,r="",n=0,a=-1,s=0,o=0;o<=t.length;++o){if(o<t.length)i=t.charCodeAt(o);else{if(47===i)break;i=47}if(47===i){if(a===o-1||1===s);else if(a!==o-1&&2===s){if(r.length<2||2!==n||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",n=0):n=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),a=o,s=0;continue}}else if(2===r.length||1===r.length){r="",n=0,a=o,s=0;continue}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+t.slice(a+1,o):r=t.slice(a+1,o),n=o-a-1;a=o,s=0}else 46===i&&-1!==s?++s:s=-1}return r}var f={toPosix:function(t){return p(t,"\\","/")},isUrl:function(t){return/^https?:/.test(this.toPosix(t))},isDataUrl:function(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol:function(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol:function(t){h(t),t=this.toPosix(t);var e="",i=/^file:\/\/\//.exec(t),r=/^[^/:]+:\/\//.exec(t),n=/^[^/:]+:\//.exec(t);if(i||r||n){var a=(null==i?void 0:i[0])||(null==r?void 0:r[0])||(null==n?void 0:n[0]);e=a,t=t.slice(a.length)}return e},toAbsolute:function(t,e,i){if(this.isDataUrl(t))return t;var n=u(this.toPosix(null!=e?e:r.W0.ADAPTER.getBaseUrl())),a=u(this.toPosix(null!=i?i:this.rootname(n)));return h(t),(t=this.toPosix(t)).startsWith("/")?f.join(a,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize:function(t){if(h(t=this.toPosix(t)),0===t.length)return".";var e="",i=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));var r=t.endsWith("/");return(t=d(t,!1)).length>0&&r&&(t+="/"),i?"/"+t:e+t},isAbsolute:function(t){return h(t),t=this.toPosix(t),!!this.hasProtocol(t)||t.startsWith("/")},join:function(){for(var t,e,i=arguments,r=[],n=0;n<arguments.length;n++)r[n]=i[n];if(0===r.length)return".";for(var a=0;a<r.length;++a){var s=r[a];if(h(s),s.length>0)if(void 0===e)e=s;else{var o=null!==(t=r[a-1])&&void 0!==t?t:"";this.extname(o)?e+="/../"+s:e+="/"+s}}return void 0===e?".":this.normalize(e)},dirname:function(t){if(h(t),0===t.length)return".";for(var e=(t=this.toPosix(t)).charCodeAt(0),i=47===e,r=-1,n=!0,a=this.getProtocol(t),s=t,o=(t=t.slice(a.length)).length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!n){r=o;break}}else n=!1;return-1===r?i?"/":this.isUrl(s)?a+t:a:i&&1===r?"//":a+t.slice(0,r)},rootname:function(t){h(t);var e="";if(e=(t=this.toPosix(t)).startsWith("/")?"/":this.getProtocol(t),this.isUrl(t)){var i=t.indexOf("/",e.length);(e=-1!==i?t.slice(0,i):t).endsWith("/")||(e+="/")}return e},basename:function(t,e){h(t),e&&h(e),t=this.toPosix(t);var i,r=0,n=-1,a=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var s=e.length-1,o=-1;for(i=t.length-1;i>=0;--i){var l=t.charCodeAt(i);if(47===l){if(!a){r=i+1;break}}else-1===o&&(a=!1,o=i+1),s>=0&&(l===e.charCodeAt(s)?-1==--s&&(n=i):(s=-1,n=o))}return r===n?n=o:-1===n&&(n=t.length),t.slice(r,n)}for(i=t.length-1;i>=0;--i)if(47===t.charCodeAt(i)){if(!a){r=i+1;break}}else-1===n&&(a=!1,n=i+1);return-1===n?"":t.slice(r,n)},extname:function(t){h(t);for(var e=-1,i=0,r=-1,n=!0,a=0,s=(t=this.toPosix(t)).length-1;s>=0;--s){var o=t.charCodeAt(s);if(47!==o)-1===r&&(n=!1,r=s+1),46===o?-1===e?e=s:1!==a&&(a=1):-1!==e&&(a=-1);else if(!n){i=s+1;break}}return-1===e||-1===r||0===a||1===a&&e===r-1&&e===i+1?"":t.slice(e,r)},parse:function(t){h(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var i,r=(t=this.toPosix(t)).charCodeAt(0),n=this.isAbsolute(t);e.root=this.rootname(t),i=n||this.hasProtocol(t)?1:0;for(var a=-1,s=0,o=-1,l=!0,u=t.length-1,c=0;u>=i;--u)if(47!==(r=t.charCodeAt(u)))-1===o&&(l=!1,o=u+1),46===r?-1===a?a=u:1!==c&&(c=1):-1!==a&&(c=-1);else if(!l){s=u+1;break}return-1===a||-1===o||0===c||1===c&&a===o-1&&a===s+1?-1!==o&&(e.base=e.name=0===s&&n?t.slice(1,o):t.slice(s,o)):(0===s&&n?(e.name=t.slice(1,a),e.base=t.slice(1,o)):(e.name=t.slice(s,a),e.base=t.slice(s,o)),e.ext=t.slice(a,o)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};r.W0.RETINA_PREFIX=/@([0-9\.]+)x/,r.W0.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var g,m=!1,A="6.5.10";function v(){m=!0}function y(t){var e;if(!m){if(r.W0.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var i=["\n %c %c %c PixiJS "+A+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,i)}else globalThis.console&&globalThis.console.log("PixiJS "+A+" - "+t+" - http://www.pixijs.com/");m=!0}}function _(){return void 0===g&&(g=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:r.W0.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!r.W0.ADAPTER.getWebGLRenderingContext())return!1;var e=r.W0.ADAPTER.createCanvas(),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!i||!i.getContextAttributes().stencil);if(i){var a=i.getExtension("WEBGL_lose_context");a&&a.loseContext()}return i=null,n}catch(s){return!1}}()),g}var b={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function x(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function T(t){var e=t.toString(16);return"#"+(e="000000".substring(0,6-e.length)+e)}function E(t){return"string"==typeof t&&"#"===(t=b[t.toLowerCase()]||t)[0]&&(t=t.slice(1)),parseInt(t,16)}function S(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}function w(){for(var t=[],e=[],i=0;i<32;i++)t[i]=i,e[i]=i;t[o.B9.NORMAL_NPM]=o.B9.NORMAL,t[o.B9.ADD_NPM]=o.B9.ADD,t[o.B9.SCREEN_NPM]=o.B9.SCREEN,e[o.B9.NORMAL]=o.B9.NORMAL_NPM,e[o.B9.ADD]=o.B9.ADD_NPM,e[o.B9.SCREEN]=o.B9.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r}var P=w();function I(t,e){return P[e?1:0][t]}function R(t,e,i,r){return i=i||new Float32Array(4),r||void 0===r?(i[0]=t[0]*e,i[1]=t[1]*e,i[2]=t[2]*e):(i[0]=t[0],i[1]=t[1],i[2]=t[2]),i[3]=e,i}function C(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var i=t>>16&255,r=t>>8&255,n=255&t;return(255*e<<24)+((i=i*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+(n=n*e+.5|0)}function O(t,e,i,r){return(i=i||new Float32Array(4))[0]=(t>>16&255)/255,i[1]=(t>>8&255)/255,i[2]=(255&t)/255,(r||void 0===r)&&(i[0]*=e,i[1]*=e,i[2]*=e),i[3]=e,i}function M(t,e){void 0===e&&(e=null);var i=6*t;if((e=e||new Uint16Array(i)).length!==i)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+i);for(var r=0,n=0;r<i;r+=6,n+=4)e[r+0]=n+0,e[r+1]=n+1,e[r+2]=n+2,e[r+3]=n+0,e[r+4]=n+2,e[r+5]=n+3;return e}function B(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var D={Float32Array,Uint32Array,Int32Array,Uint8Array};function L(t,e){for(var i=0,r=0,n={},a=0;a<t.length;a++)r+=e[a],i+=t[a].length;var s=new ArrayBuffer(4*i),o=null,l=0;for(a=0;a<t.length;a++){var h=e[a],u=t[a],c=B(u);n[c]||(n[c]=new D[c](s)),o=n[c];for(var p=0;p<u.length;p++){o[(p/h|0)*r+l+p%h]=u[p]}l+=h}return new Float32Array(s)}function k(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function N(t){return!(t&t-1||!t)}function F(t){var e=(t>65535?1:0)<<4,i=((t>>>=e)>255?1:0)<<3;return e|=i,e|=i=((t>>>=i)>15?1:0)<<2,(e|=i=((t>>>=i)>3?1:0)<<1)|(t>>>=i)>>1}function G(t,e,i){var r,n=t.length;if(!(e>=n||0===i)){var a=n-(i=e+i>n?n-e:i);for(r=e;r<a;++r)t[r]=t[r+i];t.length=a}}function U(t){return 0===t?0:t<0?-1:1}var H=0;function X(){return++H}var j={};function W(t,e,i){if(void 0===i&&(i=3),!j[e]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(r=r.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(r))),j[e]=!0}}var V={},Y=Object.create(null),z=Object.create(null);function q(){var t;for(t in Y)Y[t].destroy();for(t in z)z[t].destroy()}function Q(){var t;for(t in Y)delete Y[t];for(t in z)delete z[t]}var Z=function(){function t(t,e,i){this.canvas=r.W0.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=i||r.W0.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),t}();function K(t){var e,i,r,n=t.width,a=t.height,s=t.getContext("2d",{willReadFrequently:!0}),o=s.getImageData(0,0,n,a).data,l=o.length,h={top:null,left:null,right:null,bottom:null},u=null;for(e=0;e<l;e+=4)0!==o[e+3]&&(i=e/4%n,r=~~(e/4/n),null===h.top&&(h.top=r),(null===h.left||i<h.left)&&(h.left=i),(null===h.right||h.right<i)&&(h.right=i+1),(null===h.bottom||h.bottom<r)&&(h.bottom=r));return null!==h.top&&(n=h.right-h.left,a=h.bottom-h.top+1,u=s.getImageData(h.left,h.top,n,a)),{height:a,width:n,data:u}}var J,$=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function tt(t){var e=$.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function et(t,e){if(void 0===e&&(e=globalThis.location),0===t.indexOf("data:"))return"";e=e||globalThis.location,J||(J=document.createElement("a")),J.href=t;var i=l.parse(J.href),r=!i.port&&""===e.port||i.port===e.port;return i.hostname===e.hostname&&r&&i.protocol===e.protocol?"":"anonymous"}function it(t,e){var i=r.W0.RETINA_PREFIX.exec(t);return i?parseFloat(i[1]):void 0!==e?e:1}},1233:(t,e,i)=>{"use strict";function r(t){var e=this.constructor;return this.then((function(i){return e.resolve(t()).then((function(){return i}))}),(function(i){return e.resolve(t()).then((function(){return e.reject(i)}))}))}i.r(e),i.d(e,{ALPHA_MODES:()=>et.Gk,AbstractBatchRenderer:()=>O.SD,AbstractMultiResource:()=>O.CI,AbstractRenderer:()=>O.kp,AccessibilityManager:()=>X,AnimatedSprite:()=>zi,AppLoaderPlugin:()=>Pt,Application:()=>Hi,ArrayResource:()=>O.aV,Attribute:()=>O.nW,BLEND_MODES:()=>et.B9,BUFFER_BITS:()=>et.wn,BUFFER_TYPE:()=>et.yw,BaseImageResource:()=>O.jH,BasePrepare:()=>Be.Ls,BaseRenderTexture:()=>O.LE,BaseTexture:()=>O.t5,BatchDrawCall:()=>O.hq,BatchGeometry:()=>O.JH,BatchPluginFactory:()=>O.oA,BatchRenderer:()=>O.ch,BatchShaderGenerator:()=>O.LQ,BatchSystem:()=>O.A6,BatchTextureArray:()=>O.cc,BitmapFont:()=>Je,BitmapFontData:()=>He,BitmapFontLoader:()=>ai,BitmapText:()=>ni,BlobResource:()=>jt,Bounds:()=>C.cz,BrowserAdapter:()=>Lt.OF,Buffer:()=>O.hp,BufferResource:()=>O.dZ,CLEAR_MODES:()=>et.fr,COLOR_MASK_BITS:()=>et.Eq,CanvasResource:()=>O.Bu,Circle:()=>j.jl,CompressedTextureLoader:()=>Vt,CompressedTextureResource:()=>Wt,Container:()=>C.mc,ContextSystem:()=>O.bD,CountLimiter:()=>Be.It,CubeResource:()=>O.WQ,DDSLoader:()=>Ce,DEG_TO_RAD:()=>j.Td,DRAW_MODES:()=>et._4,DisplayObject:()=>C.q9,ENV:()=>et.Km,Ellipse:()=>j.Pp,ExtensionType:()=>O.Ag,Extract:()=>nt,FORMATS:()=>et.hR,FORMATS_TO_COMPONENTS:()=>Ee,FillStyle:()=>Xi.Zw,Filter:()=>O.dJ,FilterState:()=>O.OO,FilterSystem:()=>O.u9,Framebuffer:()=>O.GW,FramebufferSystem:()=>O.nj,GC_MODES:()=>et.OS,GLFramebuffer:()=>O.pq,GLProgram:()=>O._H,GLTexture:()=>O.Ru,GRAPHICS_CURVES:()=>Xi.lU,Geometry:()=>O.V2,GeometrySystem:()=>O.kb,Graphics:()=>Xi.A1,GraphicsData:()=>Xi.ie,GraphicsGeometry:()=>Xi.mk,IGLUniformData:()=>O.n1,INSTALLED:()=>O.Ln,INTERNAL_FORMATS:()=>Dt,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:()=>kt,ImageBitmapResource:()=>O.di,ImageResource:()=>O.Gj,InteractionData:()=>V,InteractionEvent:()=>q,InteractionManager:()=>tt,InteractionTrackingData:()=>Q,KTXLoader:()=>Oe,LINE_CAP:()=>Xi.Mp,LINE_JOIN:()=>Xi.u2,LineStyle:()=>Xi.Sc,Loader:()=>wt,LoaderResource:()=>yt,MASK_TYPES:()=>et.vg,MIPMAP_MODES:()=>et.E8,MSAA_QUALITY:()=>et.he,MaskData:()=>O.XN,MaskSystem:()=>O.iW,Matrix:()=>j.uq,Mesh:()=>Ne.e,MeshBatchUvs:()=>Ne.iM,MeshGeometry:()=>Ne.u,MeshMaterial:()=>Ne.PX,NineSlicePlane:()=>ji.F_,ObjectRenderer:()=>O.Pt,ObservablePoint:()=>j.oA,PI_2:()=>j.TO,PRECISION:()=>et.Pk,ParticleContainer:()=>Me.w,ParticleRenderer:()=>Me.e,PlaneGeometry:()=>ji.bd,Point:()=>j.bR,Polygon:()=>j.tS,Prepare:()=>Be.p8,Program:()=>O.BP,ProjectionSystem:()=>O.hk,Quad:()=>O.kO,QuadUv:()=>O.X1,RAD_TO_DEG:()=>j.bO,RENDERER_TYPE:()=>et.h3,Rectangle:()=>j.M_,RenderTexture:()=>O.Y7,RenderTexturePool:()=>O.O1,RenderTextureSystem:()=>O.Bw,Renderer:()=>O.A4,ResizePlugin:()=>Ui,Resource:()=>O.FW,RopeGeometry:()=>ji.Bq,RoundedRectangle:()=>j.TE,Runner:()=>Wi.b,SAMPLER_TYPES:()=>et.XZ,SCALE_MODES:()=>et.M6,SHAPES:()=>j.HY,SVGResource:()=>O.$f,ScissorSystem:()=>O.s9,Shader:()=>O.Mt,ShaderSystem:()=>O.$P,SimpleMesh:()=>ji.g,SimplePlane:()=>ji.js,SimpleRope:()=>ji.D8,Sprite:()=>Ni.k,SpriteMaskFilter:()=>O.ah,Spritesheet:()=>De,SpritesheetLoader:()=>Le,State:()=>O.Uw,StateSystem:()=>O.D8,StencilSystem:()=>O.iH,System:()=>O.iQ,TARGETS:()=>et.dW,TEXT_GRADIENT:()=>Fe.T,TYPES:()=>et.QE,TYPES_TO_BYTES_PER_COMPONENT:()=>Te,TYPES_TO_BYTES_PER_PIXEL:()=>Se,TemporaryDisplayObject:()=>C.dC,Text:()=>Fe.EY,TextFormat:()=>Xe,TextMetrics:()=>Fe.Z1,TextStyle:()=>Fe.xJ,Texture:()=>O.gP,TextureGCSystem:()=>O.lB,TextureLoader:()=>It,TextureMatrix:()=>O.NW,TextureSystem:()=>O.vB,TextureUvs:()=>O.OE,Ticker:()=>W.Rv,TickerPlugin:()=>W.y,TilingSprite:()=>ke.t,TilingSpriteRenderer:()=>ke._,TimeLimiter:()=>Be.oP,Transform:()=>j.dL,UPDATE_PRIORITY:()=>W.dQ,UniformGroup:()=>O.k2,VERSION:()=>O.xv,VideoResource:()=>O.A5,ViewableBuffer:()=>O.u3,WRAP_MODES:()=>et.uR,XMLFormat:()=>je,XMLStringFormat:()=>We,accessibleTarget:()=>M,autoDetectFormat:()=>Ye,autoDetectRenderer:()=>O.q5,autoDetectResource:()=>O.Nc,checkMaxIfStatementsInShader:()=>O.uC,createUBOElements:()=>O._J,defaultFilterVertex:()=>O.Eo,defaultVertex:()=>O.MT,extensions:()=>O.XO,filters:()=>qi,generateProgram:()=>O.CF,generateUniformBufferSync:()=>O.He,getTestContext:()=>O.WD,getUBOData:()=>O.RO,graphicsUtils:()=>Xi.lo,groupD8:()=>j.ER,interactiveTarget:()=>K,isMobile:()=>Lt.Fr,parseDDS:()=>ve,parseKTX:()=>we,resources:()=>O.ES,settings:()=>Lt.W0,systems:()=>O.nV,uniformParsers:()=>O.$Z,utils:()=>R});const n=r;function a(t){return new this((function(e,i){if(!t||void 0===t.length)return i(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var n=r.length;function a(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(e){a(t,e)}),(function(i){r[t]={status:"rejected",reason:i},0==--n&&e(r)}))}r[t]={status:"fulfilled",value:i},0==--n&&e(r)}for(var s=0;s<r.length;s++)a(s,r[s])}))}const s=a;function o(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}function l(t){var e=this;return new e((function(i,r){if(!t||void 0===t.length)return r(new TypeError("Promise.any accepts an array"));var n=Array.prototype.slice.call(t);if(0===n.length)return r();for(var a=[],s=0;s<n.length;s++)try{e.resolve(n[s]).then(i).catch((function(t){a.push(t),a.length===n.length&&r(new o(a,"All promises were rejected"))}))}catch(l){r(l)}}))}o.prototype=Error.prototype;const h=l;var u=setTimeout;function c(t){return Boolean(t&&void 0!==t.length)}function p(){}function d(t,e){return function(){t.apply(e,arguments)}}function f(t){if(!(this instanceof f))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],_(t,this)}function g(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,f._immediateFn((function(){var i=1===t._state?e.onFulfilled:e.onRejected;if(null!==i){var r;try{r=i(t._value)}catch(n){return void A(e.promise,n)}m(e.promise,r)}else(1===t._state?m:A)(e.promise,t._value)}))):t._deferreds.push(e)}function m(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if(e instanceof f)return t._state=3,t._value=e,void v(t);if("function"==typeof i)return void _(d(i,e),t)}t._state=1,t._value=e,v(t)}catch(r){A(t,r)}}function A(t,e){t._state=2,t._value=e,v(t)}function v(t){2===t._state&&0===t._deferreds.length&&f._immediateFn((function(){t._handled||f._unhandledRejectionFn(t._value)}));for(var e=0,i=t._deferreds.length;e<i;e++)g(t,t._deferreds[e]);t._deferreds=null}function y(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}function _(t,e){var i=!1;try{t((function(t){i||(i=!0,m(e,t))}),(function(t){i||(i=!0,A(e,t))}))}catch(r){if(i)return;i=!0,A(e,r)}}f.prototype.catch=function(t){return this.then(null,t)},f.prototype.then=function(t,e){var i=new this.constructor(p);return g(this,new y(t,e,i)),i},f.prototype.finally=n,f.all=function(t){return new f((function(e,i){if(!c(t))return i(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var n=r.length;function a(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,(function(e){a(t,e)}),i)}r[t]=s,0==--n&&e(r)}catch(l){i(l)}}for(var s=0;s<r.length;s++)a(s,r[s])}))},f.any=h,f.allSettled=s,f.resolve=function(t){return t&&"object"==typeof t&&t.constructor===f?t:new f((function(e){e(t)}))},f.reject=function(t){return new f((function(e,i){i(t)}))},f.race=function(t){return new f((function(e,i){if(!c(t))return i(new TypeError("Promise.race accepts an array"));for(var r=0,n=t.length;r<n;r++)f.resolve(t[r]).then(e,i)}))},f._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){u(t,0)},f._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};const b=f;var x=i(9726);"undefined"==typeof globalThis&&("undefined"!=typeof self?self.globalThis=self:"undefined"!=typeof global&&(global.globalThis=global)),globalThis.Promise||(globalThis.Promise=b),Object.assign||(Object.assign=x);var T=16;if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!globalThis.performance||!globalThis.performance.now){var E=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-E}}for(var S=Date.now(),w=["ms","moz","webkit","o"],P=0;P<w.length&&!globalThis.requestAnimationFrame;++P){var I=w[P];globalThis.requestAnimationFrame=globalThis[I+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[I+"CancelAnimationFrame"]||globalThis[I+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=T+S-e;return i<0&&(i=0),S=e,globalThis.self.setTimeout((function(){S=Date.now(),t(performance.now())}),i)}),globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array),globalThis.Float32Array||(globalThis.Float32Array=Array),globalThis.Uint32Array||(globalThis.Uint32Array=Array),globalThis.Uint16Array||(globalThis.Uint16Array=Array),globalThis.Uint8Array||(globalThis.Uint8Array=Array),globalThis.Int32Array||(globalThis.Int32Array=Array);var R=i(3785),C=i(903),O=i(1947),M={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};C.q9.mixin(M);var B=9,D=100,L=0,k=0,N=2,F=1,G=-1e3,U=-1e3,H=2,X=function(){function t(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(R.isMobile.tablet||R.isMobile.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width=D+"px",e.style.height=D+"px",e.style.position="absolute",e.style.top=L+"px",e.style.left=k+"px",e.style.zIndex=N.toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width=F+"px",e.style.height=F+"px",e.style.position="absolute",e.style.top=G+"px",e.style.left=U+"px",e.style.zIndex=H.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",(function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(t=this.renderer.view.parentNode)||void 0===t||t.appendChild(this.div))},t.prototype.deactivate=function(){var t;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(t=this.div.parentNode)||void 0===t||t.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var e=t.children;if(e)for(var i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},t.prototype.update=function(){var t=performance.now();if(!(R.isMobile.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),i=e.left,r=e.top,n=e.width,a=e.height,s=this.renderer,o=s.width,l=s.height,h=s.resolution,u=n/o*h,c=a/l*h,p=this.div;p.style.left=i+"px",p.style.top=r+"px",p.style.width=o+"px",p.style.height=l+"px";for(var d=0;d<this.children.length;d++){var f=this.children[d];if(f.renderId!==this.renderId)f._accessibleActive=!1,(0,R.removeItems)(this.children,d,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,d--;else{p=f._accessibleDiv;var g=f.hitArea,m=f.worldTransform;f.hitArea?(p.style.left=(m.tx+g.x*m.a)*u+"px",p.style.top=(m.ty+g.y*m.d)*c+"px",p.style.width=g.width*m.a*u+"px",p.style.height=g.height*m.d*c+"px"):(g=f.getBounds(),this.capHitArea(g),p.style.left=g.x*u+"px",p.style.top=g.y*c+"px",p.style.width=g.width*u+"px",p.style.height=g.height*c+"px",p.title!==f.accessibleTitle&&null!==f.accessibleTitle&&(p.title=f.accessibleTitle),p.getAttribute("aria-label")!==f.accessibleHint&&null!==f.accessibleHint&&p.setAttribute("aria-label",f.accessibleHint)),f.accessibleTitle===p.title&&f.tabIndex===p.tabIndex||(p.title=f.accessibleTitle,p.tabIndex=f.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}},t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,i=e.width,r=e.height;t.x+t.width>i&&(t.width=i-t.x),t.y+t.height>r&&(t.height=r-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=D+"px",e.style.height=D+"px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=N.toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction,i=t.target.displayObject,r=e.eventData;e.dispatchEvent(i,"click",r),e.dispatchEvent(i,"pointertap",r),e.dispatchEvent(i,"tap",r)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction,i=t.target.displayObject,r=e.eventData;e.dispatchEvent(i,"mouseover",r)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction,i=t.target.displayObject,r=e.eventData;e.dispatchEvent(i,"mouseout",r)},t.prototype._onKeyDown=function(t){t.keyCode===B&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t.extension={name:"accessibility",type:[O.Ag.RendererPlugin,O.Ag.CanvasRendererPlugin]},t}(),j=i(7239),W=i(4775),V=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new j.bR,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},t.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}(),Y=function(t,e){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},Y(t,e)};function z(t,e){function i(){this.constructor=t}Y(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var q=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),Q=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!=(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!=(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!=(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),Z=function(){function t(){this._tempPoint=new j.bR}return t.prototype.recursiveFindHit=function(t,e,i,r,n){var a;if(!e||!e.visible)return!1;var s=t.data.global,o=!1,l=n=e.interactive||n,h=!0;if(e.hitArea)r&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?o=!0:(r=!1,h=!1)),l=!1;else if(e._mask&&r){var u=e._mask.isMaskData?e._mask.maskObject:e._mask;u&&!(null===(a=u.containsPoint)||void 0===a?void 0:a.call(u,s))&&(r=!1)}if(h&&e.interactiveChildren&&e.children)for(var c=e.children,p=c.length-1;p>=0;p--){var d=c[p],f=this.recursiveFindHit(t,d,i,r,l);if(f){if(!d.parent)continue;l=!1,f&&(t.target&&(r=!1),o=!0)}}return n&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(o=!0),e.interactive&&(o&&!t.target&&(t.target=e),i&&i(t,e,!!o))),o},t.prototype.findHit=function(t,e,i,r){this.recursiveFindHit(t,e,i,r,!1)},t}(),K={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};C.q9.mixin(K);var J=1,$={target:null,data:{global:null}},tt=function(t){function e(e,i){var r=t.call(this)||this;return i=i||{},r.renderer=e,r.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,r.interactionFrequency=i.interactionFrequency||10,r.mouse=new V,r.mouse.identifier=J,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[J]=r.mouse,r.interactionDataPool=[],r.eventData=new q,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!("PointerEvent"in globalThis),r.supportsTouchEvents="ontouchstart"in globalThis,r.supportsPointerEvents=!!globalThis.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new Z,r._tempDisplayObject=new C.dC,r._eventListenerOptions={capture:!0,passive:!1},r._useSystemTicker=void 0===i.useSystemTicker||i.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return z(e,t),Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,e){return $.target=null,$.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive($,e,null,!0),$.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(W.Rv.system.add(this.tickerUpdate,this,W.dQ.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(W.Rv.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){t=t||"default";var e=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(e=!1),this.currentCursorMode!==t){this.currentCursorMode=t;var i=this.cursorStyles[t];if(i)switch(typeof i){case"string":e&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(t);break;case"object":e&&Object.assign(this.interactionDOMElement.style,i)}else e&&"string"==typeof t&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,i){i.stopPropagationHint&&t!==i.stopsPropagatingAt||(i.currentTarget=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},e.prototype.delayDispatchEvent=function(t,e,i){this.delayedEvents.push({displayObject:t,eventString:e,eventData:i})},e.prototype.mapPositionToPoint=function(t,e,i){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var n=1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*n,t.y=(i-r.top)*(this.interactionDOMElement.height/r.height)*n},e.prototype.processInteractive=function(t,e,i,r){var n=this.search.findHit(t,e,i,r),a=this.delayedEvents;if(!a.length)return n;t.stopPropagationHint=!1;var s=a.length;this.delayedEvents=[];for(var o=0;o<s;o++){var l=a[o],h=l.displayObject,u=l.eventString,c=l.eventData;c.stopsPropagatingAt===h&&(c.stopPropagationHint=!0),this.dispatchEvent(h,u,c)}return n},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var i=e.length,r=0;r<i;r++){var n=e[r],a=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,a);if(s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var o=2===n.button;this.emit(o?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,i){var r=t.data,n=t.data.identifier;if(i)if(e.trackedPointers[n]||(e.trackedPointers[n]=new Q(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===r.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===r.pointerType||"pen"===r.pointerType){var a=2===r.button;a?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,a?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,i){var r=this.normalizeToPointerData(t),n=r.length,a=t.target;t.composedPath&&t.composedPath().length>0&&(a=t.composedPath()[0]);for(var s=a!==this.interactionDOMElement?"outside":"",o=0;o<n;o++){var l=r[o],h=this.getInteractionDataForPointerId(l),u=this.configureInteractionEventForDOMEvent(this.eventData,l,h);if(u.data.originalEvent=t,this.processInteractive(u,this.lastObjectRendered,i,e||!s),this.emit(e?"pointercancel":"pointerup"+s,u),"mouse"===l.pointerType||"pen"===l.pointerType){var c=2===l.button;this.emit(c?"rightup"+s:"mouseup"+s,u)}else"touch"===l.pointerType&&(this.emit(e?"touchcancel":"touchend"+s,u),this.releaseInteractionDataForPointerId(l.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var i=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===i.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,i){var r=t.data,n=t.data.identifier,a=e.trackedPointers[n],s="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType,l=!1;if(o){var h=2===r.button,u=Q.FLAGS,c=h?u.RIGHT_DOWN:u.LEFT_DOWN,p=void 0!==a&&a.flags&c;i?(this.dispatchEvent(e,h?"rightup":"mouseup",t),p&&(this.dispatchEvent(e,h?"rightclick":"click",t),l=!0)):p&&this.dispatchEvent(e,h?"rightupoutside":"mouseupoutside",t),a&&(h?a.rightDown=!1:a.leftDown=!1)}i?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),a&&(o&&!l||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),a.over=!1))):a&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),a&&a.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var i=e.length,r=0;r<i;r++){var n=e[r],a=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,a);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,i){var r=t.data,n="touch"===r.pointerType,a="mouse"===r.pointerType||"pen"===r.pointerType;a&&this.processPointerOverOut(t,e,i),this.moveWhenInside&&!i||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),a&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,i);r.data.originalEvent=e,this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(i.identifier)}},e.prototype.processPointerOverOut=function(t,e,i){var r=t.data,n=t.data.identifier,a="mouse"===r.pointerType||"pen"===r.pointerType,s=e.trackedPointers[n];i&&!s&&(s=e.trackedPointers[n]=new Q(n)),void 0!==s&&(i&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),a&&this.delayDispatchEvent(e,"mouseover",t)),a&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),a&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0],i=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,i);r.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",r)}},e.prototype.getInteractionDataForPointerId=function(t){var e,i=t.pointerId;return i===J||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[i]?e=this.activeInteractionData[i]:((e=this.interactionDataPool.pop()||new V).identifier=i,this.activeInteractionData[i]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,i){return t.data=i,this.mapPositionToPoint(i.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=i.global.x,e.globalY=i.global.y),i.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var i=0,r=t.changedTouches.length;i<r;i++){var n=t.changedTouches[i];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else if(globalThis.MouseEvent&&(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof globalThis.PointerEvent))e.push(t);else{var a=t;void 0===a.isPrimary&&(a.isPrimary=!0),void 0===a.width&&(a.width=1),void 0===a.height&&(a.height=1),void 0===a.tiltX&&(a.tiltX=0),void 0===a.tiltY&&(a.tiltY=0),void 0===a.pointerType&&(a.pointerType="mouse"),void 0===a.pointerId&&(a.pointerId=J),void 0===a.pressure&&(a.pressure=.5),void 0===a.twist&&(a.twist=0),void 0===a.tangentialPressure&&(a.tangentialPressure=0),a.isNormalized=!0,e.push(a)}return e},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e.extension={name:"interaction",type:[O.Ag.RendererPlugin,O.Ag.CanvasRendererPlugin]},e}(R.EventEmitter),et=i(805),it=new j.M_,rt=4,nt=function(){function t(t){this.renderer=t}return t.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},t.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},t.prototype.canvas=function(e,i){var r=this._rawPixels(e,i),n=r.pixels,a=r.width,s=r.height,o=r.flipY,l=new R.CanvasRenderTarget(a,s,1),h=l.context.getImageData(0,0,a,s);if(t.arrayPostDivide(n,h.data),l.context.putImageData(h,0,0),o){var u=new R.CanvasRenderTarget(l.width,l.height,1);u.context.scale(1,-1),u.context.drawImage(l.canvas,0,-s),l.destroy(),l=u}return l.canvas},t.prototype.pixels=function(e,i){var r=this._rawPixels(e,i).pixels;return t.arrayPostDivide(r,r),r},t.prototype._rawPixels=function(t,e){var i,r,n=this.renderer,a=!1,s=!1;if(t)if(t instanceof O.Y7)r=t;else{var o=n.context.webGLVersion>=2?n.multisample:et.he.NONE;if(r=this.renderer.generateTexture(t,{multisample:o}),o!==et.he.NONE){var l=O.Y7.create({width:r.width,height:r.height});n.framebuffer.bind(r.framebuffer),n.framebuffer.blit(l.framebuffer),n.framebuffer.bind(null),r.destroy(!0),r=l}s=!0}r?(i=r.baseTexture.resolution,e=null!=e?e:r.frame,a=!1,n.renderTexture.bind(r)):(i=n.resolution,e||((e=it).width=n.width,e.height=n.height),a=!0,n.renderTexture.bind(null));var h=Math.round(e.width*i),u=Math.round(e.height*i),c=new Uint8Array(rt*h*u),p=n.gl;return p.readPixels(Math.round(e.x*i),Math.round(e.y*i),h,u,p.RGBA,p.UNSIGNED_BYTE,c),s&&r.destroy(!0),{pixels:c,width:h,height:u,flipY:a}},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(t,e){for(var i=0;i<t.length;i+=4){var r=e[i+3]=t[i+3];0!==r?(e[i]=Math.round(Math.min(255*t[i]/r,255)),e[i+1]=Math.round(Math.min(255*t[i+1]/r,255)),e[i+2]=Math.round(Math.min(255*t[i+2]/r,255))):(e[i]=t[i],e[i+1]=t[i+1],e[i+2]=t[i+2])}},t.extension={name:"extract",type:O.Ag.RendererPlugin},t}(),at=function(){function t(t,e,i){void 0===e&&(e=!1),this._fn=t,this._once=e,this._thisArg=i,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},t}();function st(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var ot,lt=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(t){void 0===t&&(t=!1);var e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i},t.prototype.has=function(t){if(!(t instanceof at))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},t.prototype.dispatch=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=this._head;if(!r)return!1;for(;r;)r._once&&this.detach(r),r._fn.apply(r._thisArg,e),r=r._next;return!0},t.prototype.add=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return st(this,new at(t,!1,e))},t.prototype.once=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return st(this,new at(t,!0,e))},t.prototype.detach=function(t){if(!(t instanceof at))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this},t.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},t}();function ht(t,e){e=e||{};for(var i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=i.parser[e.strictMode?"strict":"loose"].exec(t),n={},a=14;a--;)n[i.key[a]]=r[a]||"";return n[i.q.name]={},n[i.key[12]].replace(i.q.parser,(function(t,e,r){e&&(n[i.q.name][e]=r)})),n}var ut=null,ct=0,pt=200,dt=204,ft=1223,gt=2;function mt(){}function At(t,e,i){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=i)}function vt(t){return t.toString().replace("object ","")}var yt=function(){function t(e,i,r){if(this._dequeue=mt,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!=typeof e||"string"!=typeof i)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===i.indexOf("data:")),this.name=e,this.url=i,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=mt,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new lt,this.onProgress=new lt,this.onComplete=new lt,this.onAfterMiddleware=new lt}return t.setExtensionLoadType=function(e,i){At(t._loadTypeMap,e,i)},t.setExtensionXhrType=function(e,i){At(t._xhrTypeMap,e,i)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var i=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(i)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:void 0===ot&&(ot=!(!globalThis.XDomainRequest||"withCredentials"in new XMLHttpRequest)),ot&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return 0!=(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==globalThis.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==globalThis.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else{e=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(e)?e[0]:e))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;"use-credentials"===this.crossOrigin&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new globalThis.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},t.prototype._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=i,r},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(vt(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(vt(t)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(vt(t)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,i="",r=void 0===e.status?pt:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(i=e.responseText),r===ct&&(i.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=pt:r===ft&&(r=dt),(r/100|0)===gt){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=t.TYPE.JSON}catch(s){return void this.abort("Error trying to parse loaded json: "+s)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var n=new DOMParser;this.data=n.parseFromString(i,"text/xml")}else{var a=document.createElement("div");a.innerHTML=i,this.data=a}this.type=t.TYPE.XML}catch(o){return void this.abort("Error trying to parse loaded xml: "+o)}else this.data=e.response||i;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";e=e||globalThis.location,ut||(ut=document.createElement("a")),ut.href=t;var i=ht(ut.href,{strictMode:!0}),r=!i.port&&""===e.port||i.port===e.port,n=i.protocol?i.protocol+":":"";return i.host===e.hostname&&r&&n===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(t){void 0===t&&(t=this.url);var e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var r=t.indexOf("?"),n=t.indexOf("#"),a=Math.min(r>-1?r:t.length,n>-1?n:t.length);e=(t=t.substring(0,a)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();function _t(){}function bt(t){return function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];if(null===t)throw new Error("Callback was already called.");var n=t;t=null,n.apply(this,i)}}(function(t){var e,i,r,n;(e=t.STATUS_FLAGS||(t.STATUS_FLAGS={}))[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING",(i=t.TYPE||(t.TYPE={}))[i.UNKNOWN=0]="UNKNOWN",i[i.JSON=1]="JSON",i[i.XML=2]="XML",i[i.IMAGE=3]="IMAGE",i[i.AUDIO=4]="AUDIO",i[i.VIDEO=5]="VIDEO",i[i.TEXT=6]="TEXT",(r=t.LOAD_TYPE||(t.LOAD_TYPE={}))[r.XHR=1]="XHR",r[r.IMAGE=2]="IMAGE",r[r.AUDIO=3]="AUDIO",r[r.VIDEO=4]="VIDEO",(n=t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})).DEFAULT="text",n.BUFFER="arraybuffer",n.BLOB="blob",n.DOCUMENT="document",n.JSON="json",n.TEXT="text",t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,avif:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,avif:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(yt||(yt={}));var xt=function(){function t(t,e){this.data=t,this.callback=e}return t}(),Tt=function(){function t(t,e){var i=this;if(void 0===e&&(e=1),this.workers=0,this.saturated=_t,this.unsaturated=_t,this.empty=_t,this.drain=_t,this.error=_t,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(t,e,r){if(r&&"function"!=typeof r)throw new Error("task callback must be a function");if(i.started=!0,null==t&&i.idle())setTimeout((function(){return i.drain()}),1);else{var n=new xt(t,"function"==typeof r?r:_t);e?i._tasks.unshift(n):i._tasks.push(n),setTimeout(i.process,1)}},this.process=function(){for(;!i.paused&&i.workers<i.concurrency&&i._tasks.length;){var t=i._tasks.shift();0===i._tasks.length&&i.empty(),i.workers+=1,i.workers===i.concurrency&&i.saturated(),i._worker(t.data,bt(i._next(t)))}},this._worker=t,0===e)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}return t.prototype._next=function(t){var e=this;return function(){for(var i=arguments,r=[],n=0;n<arguments.length;n++)r[n]=i[n];e.workers-=1,t.callback.apply(t,r),null!=r[0]&&e.error(r[0],t.data),e.workers<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}},t.prototype.push=function(t,e){this._insert(t,!1,e)},t.prototype.kill=function(){this.workers=0,this.drain=_t,this.started=!1,this._tasks=[]},t.prototype.unshift=function(t,e){this._insert(t,!0,e)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},t.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},t.eachSeries=function(t,e,i,r){var n=0,a=t.length;function s(o){o||n===a?i&&i(o):r?setTimeout((function(){e(t[n++],s)}),1):e(t[n++],s)}s()},t.queue=function(e,i){return new t(e,i)},t}(),Et=100,St=/(#[\w-]+)?$/,wt=function(){function t(e,i){var r=this;void 0===e&&(e=""),void 0===i&&(i=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return r._loadResource(t,e)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return r._loadResource(t,e)},this._queue=Tt.queue(this._boundLoadResource,i),this._queue.pause(),this.resources={},this.onProgress=new lt,this.onError=new lt,this.onLoad=new lt,this.onStart=new lt,this.onComplete=new lt;for(var n=0;n<t._plugins.length;++n){var a=t._plugins[n],s=a.pre,o=a.use;s&&this.pre(s),o&&this.use(o)}this._protected=!1}return t.prototype._add=function(t,e,i,r){if(this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new yt(t,e,i),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var n=i.parentResource,a=[],s=0;s<n.children.length;++s)n.children[s].isComplete||a.push(n.children[s]);var o=n.progressChunk*(a.length+1)/(a.length+2);n.children.push(this.resources[t]),n.progressChunk=o;for(s=0;s<a.length;++s)a[s].progressChunk=o;this.resources[t].progressChunk=o}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort("loader reset")}return this.resources={},this},t.prototype.load=function(t){if((0,R.deprecation)("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),"function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=this._queue._tasks.length,i=Et/e,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=i;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(t){var e,i=ht(t,{strictMode:!0});if(e=i.protocol||!i.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=St.exec(e)[0];-1!==(e=e.slice(0,e.length-r.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=r}return e},t.prototype._loadResource=function(t,e){var i=this;t._dequeue=e,Tt.eachSeries(this._beforeMiddleware,(function(e,r){e.call(i,t,(function(){r(t.isComplete?{}:null)}))}),(function(){t.isComplete?i._onLoad(t):(t._onLoadBinding=t.onComplete.once(i._onLoad,i),t.load())}),!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=Et,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),Tt.eachSeries(this._afterMiddleware,(function(i,r){i.call(e,t,r)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(Et,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||((e=new t)._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return(0,R.deprecation)("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),O.XO.add({type:O.Ag.Loader,ref:e}),t},t._plugins=[],t}();O.XO.handleByList(O.Ag.Loader,wt._plugins),wt.prototype.add=function(t,e,i,r){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(i=t,r=e||i.callback||i.onComplete,e=i.url,t=i.name||i.key||i.url),"string"!=typeof e&&(r=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");return"function"==typeof i&&(r=i,i=null),this._add(t,e,i,r)};var Pt=function(){function t(){}return t.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?wt.shared:new wt},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.extension=O.Ag.Application,t}(),It=function(){function t(){}return t.add=function(){yt.setExtensionLoadType("svg",yt.LOAD_TYPE.XHR),yt.setExtensionXhrType("svg",yt.XHR_RESPONSE_TYPE.TEXT)},t.use=function(t,e){if(!t.data||t.type!==yt.TYPE.IMAGE&&"svg"!==t.extension)e();else{var i=t.data,r=t.url,n=t.name,a=t.metadata;O.gP.fromLoader(i,r,n,a).then((function(i){t.texture=i,e()})).catch(e)}},t.extension=O.Ag.Loader,t}(),Rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ct(t){for(var e="",i=0;i<t.length;){for(var r=[0,0,0],n=[0,0,0,0],a=0;a<r.length;++a)i<t.length?r[a]=255&t.charCodeAt(i++):r[a]=0;switch(n[0]=r[0]>>2,n[1]=(3&r[0])<<4|r[1]>>4,n[2]=(15&r[1])<<2|r[2]>>6,n[3]=63&r[2],i-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(a=0;a<n.length;++a)e+=Rt.charAt(n[a])}return e}function Ot(t,e){if(t.data){if(t.xhr&&t.xhrType===yt.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var i=globalThis.URL||globalThis.webkitURL,r=i.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=yt.TYPE.IMAGE,void(t.data.onload=function(){i.revokeObjectURL(r),t.data.onload=null,e()})}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+Ct(t.xhr.responseText),t.type=yt.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}var Mt=function(){function t(){}return t.extension=O.Ag.Loader,t.use=Ot,t}();O.XO.add(It,Mt);var Bt,Dt,Lt=i(9615);(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR"})(Dt||(Dt={}));var kt=((Bt={})[Dt.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Bt[Dt.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Bt[Dt.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Bt[Dt.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Bt[Dt.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Bt[Dt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Bt[Dt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Bt[Dt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Bt[Dt.COMPRESSED_R11_EAC]=.5,Bt[Dt.COMPRESSED_SIGNED_R11_EAC]=.5,Bt[Dt.COMPRESSED_RG11_EAC]=1,Bt[Dt.COMPRESSED_SIGNED_RG11_EAC]=1,Bt[Dt.COMPRESSED_RGB8_ETC2]=.5,Bt[Dt.COMPRESSED_RGBA8_ETC2_EAC]=1,Bt[Dt.COMPRESSED_SRGB8_ETC2]=.5,Bt[Dt.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,Bt[Dt.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Bt[Dt.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Bt[Dt.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Bt[Dt.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Bt[Dt.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Bt[Dt.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Bt[Dt.COMPRESSED_RGB_ETC1_WEBGL]=.5,Bt[Dt.COMPRESSED_RGB_ATC_WEBGL]=.5,Bt[Dt.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,Bt[Dt.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Bt[Dt.COMPRESSED_RGBA_ASTC_4x4_KHR]=1,Bt),Nt=function(t,e){return Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},Nt(t,e)};function Ft(t,e){function i(){this.constructor=t}Nt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function Gt(t,e,i,r){function n(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,a){function s(t){try{l(r.next(t))}catch(e){a(e)}}function o(t){try{l(r.throw(t))}catch(e){a(e)}}function l(t){t.done?i(t.value):n(t.value).then(s,o)}l((r=r.apply(t,e||[])).next())}))}function Ut(t,e){var i,r,n,a,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(t){return function(e){return l([t,e])}}function l(a){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,r&&(n=2&a[0]?r.return:a[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,a[1])).done)return n;switch(r=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){s.label=a[1];break}if(6===a[0]&&s.label<n[1]){s.label=n[1],n=a;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(a);break}n[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(o){a=[6,o],r=0}finally{i=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var Ht,Xt,jt=function(t){function e(e,i){void 0===i&&(i={width:1,height:1,autoLoad:!0});var r,n,a=this;return"string"==typeof e?(r=e,n=new Uint8Array):(r=null,n=e),(a=t.call(this,n,i)||this).origin=r,a.buffer=n?new O.u3(n):null,a.origin&&!1!==i.autoLoad&&a.load(),n&&n.length&&(a.loaded=!0,a.onBlobLoaded(a.buffer.rawBinaryData)),a}return Ft(e,t),e.prototype.onBlobLoaded=function(t){},e.prototype.load=function(){return Gt(this,void 0,Promise,(function(){var t;return Ut(this,(function(e){switch(e.label){case 0:return[4,fetch(this.origin)];case 1:return[4,e.sent().blob()];case 2:return[4,e.sent().arrayBuffer()];case 3:return t=e.sent(),this.data=new Uint32Array(t),this.buffer=new O.u3(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),[2,this]}}))}))},e}(O.dZ),Wt=function(t){function e(i,r){var n=t.call(this,i,r)||this;return n.format=r.format,n.levels=r.levels||1,n._width=r.width,n._height=r.height,n._extension=e._formatToExtension(n.format),(r.levelBuffers||n.buffer)&&(n._levelBuffers=r.levelBuffers||e._createLevelBuffers(i instanceof Uint8Array?i:n.buffer.uint8View,n.format,n.levels,4,4,n.width,n.height)),n}return Ft(e,t),e.prototype.upload=function(t,e,i){var r=t.gl;if(!t.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var n=0,a=this.levels;n<a;n++){var s=this._levelBuffers[n],o=s.levelID,l=s.levelWidth,h=s.levelHeight,u=s.levelBuffer;r.compressedTexImage2D(r.TEXTURE_2D,o,this.format,l,h,0,u)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t>=36196)return"etc1";if(t>=35986&&t<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(t,e,i,r,n,a,s){for(var o=new Array(i),l=t.byteOffset,h=a,u=s,c=h+r-1&~(r-1),p=u+n-1&~(n-1),d=c*p*kt[e],f=0;f<i;f++)o[f]={levelID:f,levelWidth:i>1?h:c,levelHeight:i>1?u:p,levelBuffer:new Uint8Array(t.buffer,l,d)},l+=d,d=(c=(h=h>>1||1)+r-1&~(r-1))*(p=(u=u>>1||1)+n-1&~(n-1))*kt[e];return o},e}(jt),Vt=function(){function t(){}return t.use=function(e,i){var r=e.data,n=this;if(e.type===yt.TYPE.JSON&&r&&r.cacheID&&r.textures){for(var a=r.textures,s=void 0,o=void 0,l=0,h=a.length;l<h;l++){var u=a[l],c=u.src,p=u.format;if(p||(o=c),t.textureFormats[p]){s=c;break}}if(!(s=s||o))return void i(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));if(s===e.url)return void i(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var d={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},f=R.url.resolve(e.url.replace(n.baseUrl,""),s),g=r.cacheID;n.add(g,f,d,(function(t){if(t.error)i(t.error);else{var r=t.texture,n=void 0===r?null:r,a=t.textures,s=void 0===a?{}:a;Object.assign(e,{texture:n,textures:s}),i()}}))}else i()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var e=Lt.W0.ADAPTER.createCanvas().getContext("webgl");if(!e)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var i={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=i}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var e=t.textureExtensions;for(var i in t._textureFormats={},e){var r=e[i];r&&Object.assign(t._textureFormats,Object.getPrototypeOf(r))}}return t._textureFormats},enumerable:!1,configurable:!0}),t.extension=O.Ag.Loader,t}();function Yt(t,e,i){var r={textures:{},texture:null};return e?(e.map((function(t){return new O.gP(new O.t5(t,Object.assign({mipmap:et.E8.OFF,alphaMode:et.Gk.NO_PREMULTIPLIED_ALPHA},i)))})).forEach((function(e,i){var n=e.baseTexture,a=t+"-"+(i+1);O.t5.addToCache(n,a),O.gP.addToCache(e,a),0===i&&(O.t5.addToCache(n,t),O.gP.addToCache(e,t),r.texture=e),r.textures[a]=e})),r):r}var zt,qt,Qt=4,Zt=124,Kt=32,Jt=20,$t=542327876,te={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},ee={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},ie={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4};(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(zt||(zt={})),function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(qt||(qt={}));var re,ne,ae,se=1,oe=2,le=4,he=64,ue=512,ce=131072,pe=861165636,de=894720068,fe=808540228,ge=4,me=((Ht={})[827611204]=Dt.COMPRESSED_RGBA_S3TC_DXT1_EXT,Ht[pe]=Dt.COMPRESSED_RGBA_S3TC_DXT3_EXT,Ht[de]=Dt.COMPRESSED_RGBA_S3TC_DXT5_EXT,Ht),Ae=((Xt={})[zt.DXGI_FORMAT_BC1_TYPELESS]=Dt.COMPRESSED_RGBA_S3TC_DXT1_EXT,Xt[zt.DXGI_FORMAT_BC1_UNORM]=Dt.COMPRESSED_RGBA_S3TC_DXT1_EXT,Xt[zt.DXGI_FORMAT_BC2_TYPELESS]=Dt.COMPRESSED_RGBA_S3TC_DXT3_EXT,Xt[zt.DXGI_FORMAT_BC2_UNORM]=Dt.COMPRESSED_RGBA_S3TC_DXT3_EXT,Xt[zt.DXGI_FORMAT_BC3_TYPELESS]=Dt.COMPRESSED_RGBA_S3TC_DXT5_EXT,Xt[zt.DXGI_FORMAT_BC3_UNORM]=Dt.COMPRESSED_RGBA_S3TC_DXT5_EXT,Xt[zt.DXGI_FORMAT_BC1_UNORM_SRGB]=Dt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Xt[zt.DXGI_FORMAT_BC2_UNORM_SRGB]=Dt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Xt[zt.DXGI_FORMAT_BC3_UNORM_SRGB]=Dt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Xt);function ve(t){var e=new Uint32Array(t);if(e[0]!==$t)throw new Error("Invalid DDS file magic word");var i=new Uint32Array(t,0,Zt/Uint32Array.BYTES_PER_ELEMENT),r=i[te.HEIGHT],n=i[te.WIDTH],a=i[te.MIPMAP_COUNT],s=new Uint32Array(t,te.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Kt/Uint32Array.BYTES_PER_ELEMENT),o=s[se];if(o&le){var l=s[ee.FOURCC];if(l!==fe){var h=me[l],u=new Uint8Array(t,Qt+Zt);return[new Wt(u,{format:h,width:n,height:r,levels:a})]}var c=Qt+Zt,p=new Uint32Array(e.buffer,c,Jt/Uint32Array.BYTES_PER_ELEMENT),d=p[ie.DXGI_FORMAT],f=p[ie.RESOURCE_DIMENSION],g=p[ie.MISC_FLAG],m=p[ie.ARRAY_SIZE],A=Ae[d];if(void 0===A)throw new Error("DDSParser cannot parse texture data with DXGI format "+d);if(g===ge)throw new Error("DDSParser does not support cubemap textures");if(f===qt.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var v=new Array,y=Qt+Zt+Jt;if(1===m)v.push(new Uint8Array(t,y));else{for(var _=kt[A],b=0,x=n,T=r,E=0;E<a;E++){b+=Math.max(1,x+3&-4)*Math.max(1,T+3&-4)*_,x>>>=1,T>>>=1}var S=y;for(E=0;E<m;E++)v.push(new Uint8Array(t,S,b)),S+=b}return v.map((function(t){return new Wt(t,{format:A,width:n,height:r,levels:a})}))}if(o&he)throw new Error("DDSParser does not support uncompressed texture data.");if(o&ue)throw new Error("DDSParser does not supported YUV uncompressed texture data.");if(o&ce)throw new Error("DDSParser does not support single-channel (lumninance) texture data!");if(o&oe)throw new Error("DDSParser does not support single-channel (alpha) texture data!");throw new Error("DDSParser failed to load a texture file due to an unknown reason!")}var ye=[171,75,84,88,32,49,49,187,13,10,26,10],_e=67305985,be={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},xe=64,Te=((re={})[et.QE.UNSIGNED_BYTE]=1,re[et.QE.UNSIGNED_SHORT]=2,re[et.QE.INT]=4,re[et.QE.UNSIGNED_INT]=4,re[et.QE.FLOAT]=4,re[et.QE.HALF_FLOAT]=8,re),Ee=((ne={})[et.hR.RGBA]=4,ne[et.hR.RGB]=3,ne[et.hR.RG]=2,ne[et.hR.RED]=1,ne[et.hR.LUMINANCE]=1,ne[et.hR.LUMINANCE_ALPHA]=2,ne[et.hR.ALPHA]=1,ne),Se=((ae={})[et.QE.UNSIGNED_SHORT_4_4_4_4]=2,ae[et.QE.UNSIGNED_SHORT_5_5_5_1]=2,ae[et.QE.UNSIGNED_SHORT_5_6_5]=2,ae);function we(t,e,i){void 0===i&&(i=!1);var r=new DataView(e);if(!Pe(t,r))return null;var n=r.getUint32(be.ENDIANNESS,!0)===_e,a=r.getUint32(be.GL_TYPE,n),s=r.getUint32(be.GL_FORMAT,n),o=r.getUint32(be.GL_INTERNAL_FORMAT,n),l=r.getUint32(be.PIXEL_WIDTH,n),h=r.getUint32(be.PIXEL_HEIGHT,n)||1,u=r.getUint32(be.PIXEL_DEPTH,n)||1,c=r.getUint32(be.NUMBER_OF_ARRAY_ELEMENTS,n)||1,p=r.getUint32(be.NUMBER_OF_FACES,n),d=r.getUint32(be.NUMBER_OF_MIPMAP_LEVELS,n),f=r.getUint32(be.BYTES_OF_KEY_VALUE_DATA,n);if(0===h||1!==u)throw new Error("Only 2D textures are supported");if(1!==p)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==c)throw new Error("WebGL does not support array textures");var g,m=4,A=4,v=l+3&-4,y=h+3&-4,_=new Array(c),b=l*h;if(0===a&&(b=v*y),void 0===(g=0!==a?Te[a]?Te[a]*Ee[s]:Se[a]:kt[o]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var x=i?Re(r,f,n):null,T=b*g,E=l,S=h,w=v,P=y,I=xe+f,R=0;R<d;R++){for(var C=r.getUint32(I,n),M=I+4,B=0;B<c;B++){var D=_[B];D||(D=_[B]=new Array(d)),D[R]={levelID:R,levelWidth:d>1||0!==a?E:w,levelHeight:d>1||0!==a?S:P,levelBuffer:new Uint8Array(e,M,T)},M+=T}I=(I+=C+4)%4!=0?I+4-I%4:I,T=(w=(E=E>>1||1)+m-1&~(m-1))*(P=(S=S>>1||1)+A-1&~(A-1))*g}return 0!==a?{uncompressed:_.map((function(t){var e=t[0].levelBuffer,i=!1;return a===et.QE.FLOAT?e=new Float32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4):a===et.QE.UNSIGNED_INT?(i=!0,e=new Uint32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4)):a===et.QE.INT&&(i=!0,e=new Int32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4)),{resource:new O.dZ(e,{width:t[0].levelWidth,height:t[0].levelHeight}),type:a,format:i?Ie(s):s}})),kvData:x}:{compressed:_.map((function(t){return new Wt(null,{format:o,width:l,height:h,levels:d,levelBuffers:t})})),kvData:x}}function Pe(t,e){for(var i=0;i<ye.length;i++)if(e.getUint8(i)!==ye[i])return console.error(t+" is not a valid *.ktx file!"),!1;return!0}function Ie(t){switch(t){case et.hR.RGBA:return et.hR.RGBA_INTEGER;case et.hR.RGB:return et.hR.RGB_INTEGER;case et.hR.RG:return et.hR.RG_INTEGER;case et.hR.RED:return et.hR.RED_INTEGER;default:return t}}function Re(t,e,i){for(var r=new Map,n=0;n<e;){var a=t.getUint32(xe+n,i),s=xe+n+4,o=3-(a+3)%4;if(0===a||a>e-n){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var l=0;l<a&&0!==t.getUint8(s+l);l++);if(-1===l){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var h=(new TextDecoder).decode(new Uint8Array(t.buffer,s,l)),u=new DataView(t.buffer,s+l+1,a-l-1);r.set(h,u),n+=4+a+o}return r}yt.setExtensionXhrType("dds",yt.XHR_RESPONSE_TYPE.BUFFER);var Ce=function(){function t(){}return t.use=function(t,e){if("dds"===t.extension&&t.data)try{Object.assign(t,Yt(t.name||t.url,ve(t.data),t.metadata))}catch(i){return void e(i)}e()},t.extension=O.Ag.Loader,t}();yt.setExtensionXhrType("ktx",yt.XHR_RESPONSE_TYPE.BUFFER);var Oe=function(){function t(){}return t.use=function(t,e){if("ktx"===t.extension&&t.data)try{var i=t.name||t.url,r=we(i,t.data,this.loadKeyValueData),n=r.compressed,a=r.uncompressed,s=r.kvData;if(n){var o=Yt(i,n,t.metadata);if(s&&o.textures)for(var l in o.textures)o.textures[l].baseTexture.ktxKeyValueData=s;Object.assign(t,o)}else if(a){var h={};a.forEach((function(t,e){var r=new O.gP(new O.t5(t.resource,{mipmap:et.E8.OFF,alphaMode:et.Gk.NO_PREMULTIPLIED_ALPHA,type:t.type,format:t.format})),n=i+"-"+(e+1);s&&(r.baseTexture.ktxKeyValueData=s),O.t5.addToCache(r.baseTexture,n),O.gP.addToCache(r,n),0===e&&(h[i]=r,O.t5.addToCache(r.baseTexture,i),O.gP.addToCache(r,i)),h[n]=r})),Object.assign(t,{textures:h})}}catch(u){return void e(u)}e()},t.extension=O.Ag.Loader,t.loadKeyValueData=!1,t}(),Me=i(1571),Be=i(1605),De=function(){function t(t,e,i){void 0===i&&(i=null),this.linkedSheets=[],this._texture=t instanceof O.gP?t:null,this.baseTexture=t instanceof O.t5?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var r=this.baseTexture.resource;this.resolution=this._updateResolution(i||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,i=(0,R.getResolutionOfUrl)(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&this.baseTexture.setResolution(i),i},t.prototype.parse=function(e){var i=this;return e&&(0,R.deprecation)("6.5.0","Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise((function(r){i._callback=function(t){null==e||e(t),r(t)},i._batchIndex=0,i._frameKeys.length<=t.BATCH_SIZE?(i._processFrames(0),i._processAnimations(),i._parseComplete()):i._nextBatch()}))},t.prototype._processFrames=function(e){for(var i=e,r=t.BATCH_SIZE;i-e<r&&i<this._frameKeys.length;){var n=this._frameKeys[i],a=this._frames[n],s=a.frame;if(s){var o=null,l=null,h=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,u=new j.M_(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);o=a.rotated?new j.M_(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new j.M_(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(l=new j.M_(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new O.gP(this.baseTexture,o,u,l,a.rotated?2:0,a.anchor),O.gP.addToCache(this.textures[n],n)}i++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var i=0;i<t[e].length;i++){var r=t[e][i];this.animations[e].push(this.textures[r])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},t.prototype.destroy=function(t){var e;for(var i in void 0===t&&(t=!1),this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},t.BATCH_SIZE=1e3,t}(),Le=function(){function t(){}return t.use=function(e,i){var r,n,a=this,s=e.name+"_image";if(e.data&&e.type===yt.TYPE.JSON&&e.data.frames&&!a.resources[s]){var o=null===(n=null===(r=e.data)||void 0===r?void 0:r.meta)||void 0===n?void 0:n.related_multi_packs;if(Array.isArray(o))for(var l=function(t){if("string"!=typeof t)return"continue";var i=t.replace(".json",""),r=R.url.resolve(e.url.replace(a.baseUrl,""),t);if(a.resources[i]||Object.values(a.resources).some((function(t){return R.url.format(R.url.parse(t.url))===r})))return"continue";var n={crossOrigin:e.crossOrigin,loadType:yt.LOAD_TYPE.XHR,xhrType:yt.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};a.add(i,r,n)},h=0,u=o;h<u.length;h++){l(u[h])}var c={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},p=t.getResourcePath(e,a.baseUrl);a.add(s,p,c,(function(t){if(t.error)i(t.error);else{var r=new De(t.texture,e.data,e.url);r.parse().then((function(){e.spritesheet=r,e.textures=r.textures,i()}))}}))}else i()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:R.url.resolve(t.url.replace(e,""),t.data.meta.image)},t.extension=O.Ag.Loader,t}(),ke=i(3481),Ne=i(2551),Fe=i(8723),Ge=function(t,e){return Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},Ge(t,e)};function Ue(t,e){function i(){this.constructor=t}Ge(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var He=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),Xe=function(){function t(){}return t.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var r in e){var n=e[r].match(/^[a-z]+/gm)[0],a=e[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var o in a){var l=a[o].split("="),h=l[0],u=l[1].replace(/"/gm,""),c=parseFloat(u),p=isNaN(c)?u:c;s[h]=p}i[n].push(s)}var d=new He;return i.info.forEach((function(t){return d.info.push({face:t.face,size:parseInt(t.size,10)})})),i.common.forEach((function(t){return d.common.push({lineHeight:parseInt(t.lineHeight,10)})})),i.page.forEach((function(t){return d.page.push({id:parseInt(t.id,10),file:t.file})})),i.char.forEach((function(t){return d.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),i.kerning.forEach((function(t){return d.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),i.distanceField.forEach((function(t){return d.distanceField.push({distanceRange:parseInt(t.distanceRange,10),fieldType:t.fieldType})})),d},t}(),je=function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new He,i=t.getElementsByTagName("info"),r=t.getElementsByTagName("common"),n=t.getElementsByTagName("page"),a=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),o=t.getElementsByTagName("distanceField"),l=0;l<i.length;l++)e.info.push({face:i[l].getAttribute("face"),size:parseInt(i[l].getAttribute("size"),10)});for(l=0;l<r.length;l++)e.common.push({lineHeight:parseInt(r[l].getAttribute("lineHeight"),10)});for(l=0;l<n.length;l++)e.page.push({id:parseInt(n[l].getAttribute("id"),10)||0,file:n[l].getAttribute("file")});for(l=0;l<a.length;l++){var h=a[l];e.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(l=0;l<s.length;l++)e.kerning.push({first:parseInt(s[l].getAttribute("first"),10),second:parseInt(s[l].getAttribute("second"),10),amount:parseInt(s[l].getAttribute("amount"),10)});for(l=0;l<o.length;l++)e.distanceField.push({fieldType:o[l].getAttribute("fieldType"),distanceRange:parseInt(o[l].getAttribute("distanceRange"),10)});return e},t}(),We=function(){function t(){}return t.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new globalThis.DOMParser).parseFromString(t,"text/xml");return je.test(e)}return!1},t.parse=function(t){var e=(new globalThis.DOMParser).parseFromString(t,"text/xml");return je.parse(e)},t}(),Ve=[Xe,je,We];function Ye(t){for(var e=0;e<Ve.length;e++)if(Ve[e].test(t))return Ve[e];return null}function ze(t,e,i,r,n,a){var s,o=i.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var l=i.dropShadow?i.dropShadowDistance:0,h=i.padding||0,u=t.width/r-l-2*h,c=t.height/r-l-2*h,p=o.slice(),d=i.fillGradientStops.slice();if(!d.length)for(var f=p.length+1,g=1;g<f;++g)d.push(g/f);if(p.unshift(o[0]),d.unshift(0),p.push(o[o.length-1]),d.push(1),i.fillGradientType===Fe.T.LINEAR_VERTICAL){s=e.createLinearGradient(u/2,h,u/2,c+h);var m=0,A=(a.fontProperties.fontSize+i.strokeThickness)/c;for(g=0;g<n.length;g++)for(var v=a.lineHeight*g,y=0;y<p.length;y++){var _=v/c+("number"==typeof d[y]?d[y]:y/p.length)*A,b=Math.max(m,_);b=Math.min(b,1),s.addColorStop(b,p[y]),m=b}}else{s=e.createLinearGradient(h,c/2,u+h,c/2);var x=p.length+1,T=1;for(g=0;g<p.length;g++){var E=void 0;E="number"==typeof d[g]?d[g]:T/x,s.addColorStop(E,p[g]),T++}}return s}function qe(t,e,i,r,n,a,s){var o=i.text,l=i.fontProperties;e.translate(r,n),e.scale(a,a);var h=s.strokeThickness/2,u=-s.strokeThickness/2;if(e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=ze(t,e,s,a,[o],i),e.strokeStyle=s.stroke,s.dropShadow){var c=s.dropShadowColor,p=(0,R.hex2rgb)("number"==typeof c?c:(0,R.string2hex)(c)),d=s.dropShadowBlur*a,f=s.dropShadowDistance*a;e.shadowColor="rgba("+255*p[0]+","+255*p[1]+","+255*p[2]+","+s.dropShadowAlpha+")",e.shadowBlur=d,e.shadowOffsetX=Math.cos(s.dropShadowAngle)*f,e.shadowOffsetY=Math.sin(s.dropShadowAngle)*f}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;s.stroke&&s.strokeThickness&&e.strokeText(o,h,u+i.lineHeight-l.descent),s.fill&&e.fillText(o,h,u+i.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Qe(t){return Array.from?Array.from(t):t.split("")}function Ze(t){"string"==typeof t&&(t=[t]);for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var a=n[0].charCodeAt(0),s=n[1].charCodeAt(0);if(s<a)throw new Error("[BitmapFont]: Invalid character range.");for(var o=a,l=s;o<=l;o++)e.push(String.fromCharCode(o))}else e.push.apply(e,Qe(n))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function Ke(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var Je=function(){function t(t,e,i){var r,n,a=t.info[0],s=t.common[0],o=t.page[0],l=t.distanceField[0],h=(0,R.getResolutionOfUrl)(o.file),u={};this._ownsTextures=i,this.font=a.face,this.size=a.size,this.lineHeight=s.lineHeight/h,this.chars={},this.pageTextures=u;for(var c=0;c<t.page.length;c++){var p=t.page[c],d=p.id,f=p.file;u[d]=e instanceof Array?e[c]:e[f],(null==l?void 0:l.fieldType)&&"none"!==l.fieldType&&(u[d].baseTexture.alphaMode=et.Gk.NO_PREMULTIPLIED_ALPHA,u[d].baseTexture.mipmap=et.E8.OFF)}for(c=0;c<t.char.length;c++){var g=t.char[c],m=(d=g.id,g.page),A=t.char[c],v=A.x,y=A.y,_=A.width,b=A.height,x=A.xoffset,T=A.yoffset,E=A.xadvance;v/=h,y/=h,_/=h,b/=h,x/=h,T/=h,E/=h;var S=new j.M_(v+u[m].frame.x/h,y+u[m].frame.y/h,_,b);this.chars[d]={xOffset:x,yOffset:T,xAdvance:E,kerning:{},texture:new O.gP(u[m].baseTexture,S),page:m}}for(c=0;c<t.kerning.length;c++){var w=t.kerning[c],P=w.first,I=w.second,C=w.amount;P/=h,I/=h,C/=h,this.chars[I]&&(this.chars[I].kerning[P]=C)}this.distanceFieldRange=null==l?void 0:l.distanceRange,this.distanceFieldType=null!==(n=null===(r=null==l?void 0:l.fieldType)||void 0===r?void 0:r.toLowerCase())&&void 0!==n?n:"none"}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,i,r){var n;if(e instanceof He)n=e;else{var a=Ye(e);if(!a)throw new Error("Unrecognized data format for font.");n=a.parse(e)}i instanceof O.gP&&(i=[i]);var s=new t(n,i,r);return t.available[s.font]=s,s},t.uninstall=function(e){var i=t.available[e];if(!i)throw new Error("No font found named '"+e+"'");i.destroy(),delete t.available[e]},t.from=function(e,i,r){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},t.defaultOptions,r),a=n.chars,s=n.padding,o=n.resolution,l=n.textureWidth,h=n.textureHeight,u=Ze(a),c=i instanceof Fe.xJ?i:new Fe.xJ(i),p=l,d=new He;d.info[0]={face:c.fontFamily,size:c.fontSize},d.common[0]={lineHeight:c.fontSize};for(var f,g,m,A=0,v=0,y=0,_=[],b=0;b<u.length;b++){f||((f=Lt.W0.ADAPTER.createCanvas()).width=l,f.height=h,g=f.getContext("2d"),m=new O.t5(f,{resolution:o}),_.push(new O.gP(m)),d.page.push({id:_.length-1,file:""}));var x=u[b],T=Fe.Z1.measureText(x,c,!1,f),E=T.width,S=Math.ceil(T.height),w=Math.ceil(("italic"===c.fontStyle?2:1)*E);if(v>=h-S*o){if(0===v)throw new Error("[BitmapFont] textureHeight "+h+"px is too small (fontFamily: '"+c.fontFamily+"', fontSize: "+c.fontSize+"px, char: '"+x+"')");--b,f=null,g=null,m=null,v=0,A=0,y=0}else if(y=Math.max(S+T.fontProperties.descent,y),w*o+A>=p){if(0===A)throw new Error("[BitmapFont] textureWidth "+l+"px is too small (fontFamily: '"+c.fontFamily+"', fontSize: "+c.fontSize+"px, char: '"+x+"')");--b,v+=y*o,v=Math.ceil(v),A=0,y=0}else{qe(f,g,T,A,v,o,c);var P=Ke(T.text);d.char.push({id:P,page:_.length-1,x:A/o,y:v/o,width:w,height:S,xoffset:0,yoffset:0,xadvance:Math.ceil(E-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0))}),A+=(w+2*s)*o,A=Math.ceil(A)}}if(!(null==r?void 0:r.skipKerning)){b=0;for(var I=u.length;b<I;b++)for(var R=u[b],C=0;C<I;C++){var M=u[C],B=g.measureText(R).width,D=g.measureText(M).width,L=g.measureText(R+M).width-(B+D);L&&d.kerning.push({first:Ke(R),second:Ke(M),amount:L})}}var k=new t(d,_,!0);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=k,k},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),$e="// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n",ti="// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n",ei=[],ii=[],ri=[],ni=function(t){function e(i,r){void 0===r&&(r={});var n=t.call(this)||this;n._tint=16777215;var a=Object.assign({},e.styleDefaults,r),s=a.align,o=a.tint,l=a.maxWidth,h=a.letterSpacing,u=a.fontName,c=a.fontSize;if(!Je.available[u])throw new Error('Missing BitmapFont "'+u+'"');return n._activePagesMeshData=[],n._textWidth=0,n._textHeight=0,n._align=s,n._tint=o,n._font=void 0,n._fontName=u,n._fontSize=c,n.text=i,n._maxWidth=l,n._maxLineHeight=0,n._letterSpacing=h,n._anchor=new j.oA((function(){n.dirty=!0}),n,0,0),n._roundPixels=Lt.W0.ROUND_PIXELS,n.dirty=!0,n._resolution=Lt.W0.RESOLUTION,n._autoResolution=!0,n._textureCache={},n}return Ue(e,t),e.prototype.updateText=function(){for(var t,e=Je.available[this._fontName],i=this.fontSize,r=i/e.size,n=new j.bR,a=[],s=[],o=[],l=Qe(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),h=this._maxWidth*e.size/i,u="none"===e.distanceFieldType?ei:ii,c=null,p=0,d=0,f=0,g=-1,m=0,A=0,v=0,y=0,_=0;_<l.length;_++){var b=Ke(W=l[_]);if(/(?:\s)/.test(W)&&(g=_,m=p,y++),"\r"!==W&&"\n"!==W){var x=e.chars[b];if(x){c&&x.kerning[c]&&(n.x+=x.kerning[c]);var T=ri.pop()||{texture:O.gP.EMPTY,line:0,charCode:0,prevSpaces:0,position:new j.bR};T.texture=x.texture,T.line=f,T.charCode=b,T.position.x=n.x+x.xOffset+this._letterSpacing/2,T.position.y=n.y+x.yOffset,T.prevSpaces=y,a.push(T),p=T.position.x+Math.max(x.xAdvance-x.xOffset,x.texture.orig.width),n.x+=x.xAdvance+this._letterSpacing,v=Math.max(v,x.yOffset+x.texture.height),c=b,-1!==g&&h>0&&n.x>h&&(++A,(0,R.removeItems)(a,1+g-A,1+_-g),_=g,g=-1,s.push(m),o.push(a.length>0?a[a.length-1].prevSpaces:0),d=Math.max(d,m),f++,n.x=0,n.y+=e.lineHeight,c=null,y=0)}}else s.push(p),o.push(-1),d=Math.max(d,p),++f,++A,n.x=0,n.y+=e.lineHeight,c=null,y=0}var E=l[l.length-1];"\r"!==E&&"\n"!==E&&(/(?:\s)/.test(E)&&(p=m),s.push(p),d=Math.max(d,p),o.push(-1));var S=[];for(_=0;_<=f;_++){var w=0;"right"===this._align?w=d-s[_]:"center"===this._align?w=(d-s[_])/2:"justify"===this._align&&(w=o[_]<0?0:(d-s[_])/o[_]),S.push(w)}var P=a.length,I={},C=[],M=this._activePagesMeshData;u.push.apply(u,M);for(_=0;_<P;_++){var B=(Y=a[_].texture).baseTexture.uid;if(!I[B]){if(!($=u.pop())){var D=new Ne.u,L=void 0,k=void 0;"none"===e.distanceFieldType?(L=new Ne.PX(O.gP.EMPTY),k=et.B9.NORMAL):(L=new Ne.PX(O.gP.EMPTY,{program:O.BP.from(ti,$e),uniforms:{uFWidth:0}}),k=et.B9.NORMAL_NPM);var N=new Ne.e(D,L);N.blendMode=k,$={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:N,vertices:null,uvs:null,indices:null}}$.index=0,$.indexCount=0,$.vertexCount=0,$.uvsCount=0,$.total=0;var F=this._textureCache;F[B]=F[B]||new O.gP(Y.baseTexture),$.mesh.texture=F[B],$.mesh.tint=this._tint,C.push($),I[B]=$}I[B].total++}for(_=0;_<M.length;_++)-1===C.indexOf(M[_])&&this.removeChild(M[_].mesh);for(_=0;_<C.length;_++)C[_].mesh.parent!==this&&this.addChild(C[_].mesh);for(var _ in this._activePagesMeshData=C,I){var G=($=I[_]).total;if(!((null===(t=$.indices)||void 0===t?void 0:t.length)>6*G)||$.vertices.length<2*Ne.e.BATCHABLE_SIZE)$.vertices=new Float32Array(8*G),$.uvs=new Float32Array(8*G),$.indices=new Uint16Array(6*G);else for(var U=$.total,H=$.vertices,X=4*U*2;X<H.length;X++)H[X]=0;$.mesh.size=6*G}for(_=0;_<P;_++){var W,V=(W=a[_]).position.x+S[W.line]*("justify"===this._align?W.prevSpaces:1);this._roundPixels&&(V=Math.round(V));var Y,z=V*r,q=W.position.y*r,Q=I[(Y=W.texture).baseTexture.uid],Z=Y.frame,K=Y._uvs,J=Q.index++;Q.indices[6*J+0]=0+4*J,Q.indices[6*J+1]=1+4*J,Q.indices[6*J+2]=2+4*J,Q.indices[6*J+3]=0+4*J,Q.indices[6*J+4]=2+4*J,Q.indices[6*J+5]=3+4*J,Q.vertices[8*J+0]=z,Q.vertices[8*J+1]=q,Q.vertices[8*J+2]=z+Z.width*r,Q.vertices[8*J+3]=q,Q.vertices[8*J+4]=z+Z.width*r,Q.vertices[8*J+5]=q+Z.height*r,Q.vertices[8*J+6]=z,Q.vertices[8*J+7]=q+Z.height*r,Q.uvs[8*J+0]=K.x0,Q.uvs[8*J+1]=K.y0,Q.uvs[8*J+2]=K.x1,Q.uvs[8*J+3]=K.y1,Q.uvs[8*J+4]=K.x2,Q.uvs[8*J+5]=K.y2,Q.uvs[8*J+6]=K.x3,Q.uvs[8*J+7]=K.y3}for(var _ in this._textWidth=d*r,this._textHeight=(n.y+e.lineHeight)*r,I){var $=I[_];if(0!==this.anchor.x||0!==this.anchor.y)for(var tt=0,it=this._textWidth*this.anchor.x,rt=this._textHeight*this.anchor.y,nt=0;nt<$.total;nt++)$.vertices[tt++]-=it,$.vertices[tt++]-=rt,$.vertices[tt++]-=it,$.vertices[tt++]-=rt,$.vertices[tt++]-=it,$.vertices[tt++]-=rt,$.vertices[tt++]-=it,$.vertices[tt++]-=rt;this._maxLineHeight=v*r;var at=$.mesh.geometry.getBuffer("aVertexPosition"),st=$.mesh.geometry.getBuffer("aTextureCoord"),ot=$.mesh.geometry.getIndex();at.data=$.vertices,st.data=$.uvs,ot.data=$.indices,at.update(),st.update(),ot.update()}for(_=0;_<a.length;_++)ri.push(a[_]);this._font=e,this.dirty=!1},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);var i=Je.available[this._fontName],r=i.distanceFieldRange,n=i.distanceFieldType,a=i.size;if("none"!==n)for(var s=this.worldTransform,o=s.a,l=s.b,h=s.c,u=s.d,c=Math.sqrt(o*o+l*l),p=Math.sqrt(h*h+u*u),d=(Math.abs(c)+Math.abs(p))/2,f=this.fontSize/a,g=0,m=this._activePagesMeshData;g<m.length;g++){m[g].mesh.shader.uniforms.uFWidth=d*r*f*this._resolution}t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){var t=Je.available[this._fontName];if(!t)throw new Error('Missing BitmapFont "'+this._fontName+'"');this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!Je.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){var t;return null!==(t=this._fontSize)&&void 0!==t?t:Je.available[this._fontName].size},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(e){var i=this._textureCache,r="none"===Je.available[this._fontName].distanceFieldType?ei:ii;r.push.apply(r,this._activePagesMeshData);for(var n=0,a=this._activePagesMeshData;n<a.length;n++){var s=a[n];this.removeChild(s.mesh)}for(var o in this._activePagesMeshData=[],r.filter((function(t){return i[t.mesh.texture.baseTexture.uid]})).forEach((function(t){t.mesh.texture=O.gP.EMPTY})),i){i[o].destroy(),delete i[o]}this._font=null,this._textureCache=null,t.prototype.destroy.call(this,e)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(C.mc),ai=function(){function t(){}return t.add=function(){yt.setExtensionXhrType("fnt",yt.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,i){var r=Ye(e.data);if(r)for(var n=t.getBaseUrl(this,e),a=r.parse(e.data),s={},o=function(t){s[t.metadata.pageFile]=t.texture,Object.keys(s).length===a.page.length&&(e.bitmapFont=Je.install(a,s,!0),i())},l=0;l<a.page.length;++l){var h=a.page[l].file,u=n+h,c=!1;for(var p in this.resources){var d=this.resources[p];if(d.url===u){d.metadata.pageFile=h,d.texture?o(d):d.onAfterMiddleware.add(o),c=!0;break}}if(!c){var f={crossOrigin:e.crossOrigin,loadType:yt.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:h},e.metadata.imageMetadata),parentResource:e};this.add(u,f,o)}}else i()},t.getBaseUrl=function(e,i){var r=i.isDataUrl?"":t.dirname(i.url);return i.isDataUrl&&("."===r&&(r=""),e.baseUrl&&r&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(r+="/")),(r=r.replace(e.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t.extension=O.Ag.Loader,t}(),si=function(t,e){return si=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},si(t,e)};function oi(t,e){function i(){this.constructor=t}si(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var li="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",hi=function(t){function e(e){void 0===e&&(e=1);var i=t.call(this,O.MT,li,{uAlpha:1})||this;return i.alpha=e,i}return oi(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(O.dJ),ui=function(t,e){return ui=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},ui(t,e)};function ci(t,e){function i(){this.constructor=t}ui(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var pi="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";function di(t,e){var i,r=Math.ceil(t/2),n=pi,a="";i=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var o=i.replace("%index%",s.toString());a+=o=o.replace("%sampleIndex%",s-(r-1)+".0"),a+="\n"}return n=(n=n.replace("%blur%",a)).replace("%size%",t.toString())}var fi={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},gi=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function mi(t){for(var e,i=fi[t],r=i.length,n=gi,a="",s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o=0;o<t;o++){var l=s.replace("%index%",o.toString());e=o,o>=r&&(e=t-o-1),a+=l=l.replace("%value%",i[e].toString()),a+="\n"}return n=(n=n.replace("%blur%",a)).replace("%size%",t.toString())}var Ai=function(t){function e(e,i,r,n,a){void 0===i&&(i=8),void 0===r&&(r=4),void 0===n&&(n=Lt.W0.FILTER_RESOLUTION),void 0===a&&(a=5);var s=this,o=di(a,e),l=mi(a);return(s=t.call(this,o,l)||this).horizontal=e,s.resolution=n,s._quality=0,s.quality=r,s.blur=i,s}return ci(e,t),e.prototype.apply=function(t,e,i,r){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/e.width):this.uniforms.strength=1/i.height*(i.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,r);else{var n=t.getFilterTexture(),a=t.renderer,s=e,o=n;this.state.blend=!1,t.applyFilter(this,s,o,et.fr.CLEAR);for(var l=1;l<this.passes-1;l++){t.bindAndClear(s,et.fr.BLIT),this.uniforms.uSampler=o;var h=o;o=s,s=h,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,o,i,r),t.returnFilterTexture(n)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(O.dJ),vi=function(t){function e(e,i,r,n){void 0===e&&(e=8),void 0===i&&(i=4),void 0===r&&(r=Lt.W0.FILTER_RESOLUTION),void 0===n&&(n=5);var a=t.call(this)||this;return a.blurXFilter=new Ai(!0,e,i,r,n),a.blurYFilter=new Ai(!1,e,i,r,n),a.resolution=r,a.quality=i,a.blur=e,a.repeatEdgePixels=!1,a}return ci(e,t),e.prototype.apply=function(t,e,i,r){var n=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(n&&a){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,et.fr.CLEAR),this.blurYFilter.apply(t,s,i,r),t.returnFilterTexture(s)}else a?this.blurYFilter.apply(t,e,i,r):this.blurXFilter.apply(t,e,i,r)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),e}(O.dJ),yi=function(t,e){return yi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},yi(t,e)};function _i(t,e){function i(){this.constructor=t}yi(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var bi="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",xi=function(t){function e(){var e=this,i={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,O.Eo,bi,i)||this).alpha=1,e}return _i(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var i=t;e&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var i=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.tint=function(t,e){var i=[(t>>16&255)/255,0,0,0,0,0,(t>>8&255)/255,0,0,0,0,0,(255&t)/255,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.greyscale=function(t,e){var i=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var i=Math.cos(t),r=Math.sin(t),n=1/3,a=(0,Math.sqrt)(n),s=[i+(1-i)*n,n*(1-i)-a*r,n*(1-i)+a*r,0,0,n*(1-i)+a*r,i+n*(1-i),n*(1-i)-a*r,0,0,n*(1-i)-a*r,n*(1-i)+a*r,i+n*(1-i),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var i=(t||0)+1,r=-.5*(i-1),n=[i,0,0,0,r,0,i,0,0,r,0,0,i,0,r,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var i=2*t/3+1,r=-.5*(i-1),n=[i,r,r,0,0,r,i,r,0,0,r,r,i,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){var e=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.colorTone=function(t,e,i,r,n){var a=((i=i||16770432)>>16&255)/255,s=(i>>8&255)/255,o=(255&i)/255,l=((r=r||3375104)>>16&255)/255,h=(r>>8&255)/255,u=(255&r)/255,c=[.3,.59,.11,0,0,a,s,o,t=t||.2,0,l,h,u,e=e||.15,0,a-l,s-h,o-u,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var i=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.predator=function(t,e){var i=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(O.dJ);xi.prototype.grayscale=xi.prototype.greyscale;var Ti=function(t,e){return Ti=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},Ti(t,e)};function Ei(t,e){function i(){this.constructor=t}Ti(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Si="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",wi="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",Pi=function(t){function e(e,i){var r=this,n=new j.uq;return e.renderable=!1,(r=t.call(this,wi,Si,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,r.maskMatrix=n,null==i&&(i=20),r.scale=new j.bR(i,i),r}return Ei(e,t),e.prototype.apply=function(t,e,i,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,a=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==a&&0!==s&&(this.uniforms.rotation[0]=n.a/a,this.uniforms.rotation[1]=n.b/a,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,i,r)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),e}(O.dJ),Ii=function(t,e){return Ii=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},Ii(t,e)};function Ri(t,e){function i(){this.constructor=t}Ii(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Ci="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",Oi='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',Mi=function(t){function e(){return t.call(this,Ci,Oi)||this}return Ri(e,t),e}(O.dJ),Bi=function(t,e){return Bi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},Bi(t,e)};function Di(t,e){function i(){this.constructor=t}Bi(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Li="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",ki=function(t){function e(e,i){void 0===e&&(e=.5),void 0===i&&(i=Math.random());var r=t.call(this,O.Eo,Li,{uNoise:0,uSeed:0})||this;return r.noise=e,r.seed=i,r}return Di(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),e}(O.dJ),Ni=i(511),Fi=new j.uq;C.q9.prototype._cacheAsBitmap=!1,C.q9.prototype._cacheData=null,C.q9.prototype._cacheAsBitmapResolution=null,C.q9.prototype._cacheAsBitmapMultisample=et.he.NONE;var Gi=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(C.q9.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new Gi),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),C.q9.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},C.q9.prototype._initCachedDisplayObject=function(t){var e;if(!this._cacheData||!this._cacheData.sprite){var i=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var n=this.filters[0].padding;r.pad(n)}r.ceil(Lt.W0.RESOLUTION);var a=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),l=t.projection.transform,h=O.Y7.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:null!==(e=this.cacheAsBitmapMultisample)&&void 0!==e?e:t.multisample}),u="cacheAsBitmap_"+(0,R.uid)();this._cacheData.textureCacheId=u,O.t5.addToCache(h.baseTexture,u),O.gP.addToCache(h,u);var c=this.transform.localTransform.copyTo(Fi).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:h,clear:!0,transform:c,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=l,t.renderTexture.bind(a,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var p=new Ni.k(h);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-r.x/r.width,p.anchor.y=-r.y/r.height,p.alpha=i,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)}},C.q9.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},C.q9.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),i=this.alpha;this.alpha=1;var r=t.context,n=t._projTransform;e.ceil(Lt.W0.RESOLUTION);var a=O.Y7.create({width:e.width,height:e.height}),s="cacheAsBitmap_"+(0,R.uid)();this._cacheData.textureCacheId=s,O.t5.addToCache(a.baseTexture,s),O.gP.addToCache(a,s);var o=Fi;this.transform.localTransform.copyTo(o),o.invert(),o.tx-=e.x,o.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:a,clear:!0,transform:o,skipUpdateTransform:!1}),t.context=r,t._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var l=new Ni.k(a);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-e.x/e.width,l.anchor.y=-e.y/e.height,l.alpha=i,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},C.q9.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},C.q9.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},C.q9.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,O.t5.removeFromCache(this._cacheData.textureCacheId),O.gP.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},C.q9.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},C.q9.prototype.name=null,C.mc.prototype.getChildByName=function(t,e){for(var i=0,r=this.children.length;i<r;i++)if(this.children[i].name===t)return this.children[i];if(e)for(i=0,r=this.children.length;i<r;i++){var n=this.children[i];if(n.getChildByName){var a=n.getChildByName(t,!0);if(a)return a}}return null},C.q9.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new j.bR),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var Ui=function(){function t(){}return t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame((function(){return e.resize()})))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,i;if(e.cancelResize(),e._resizeTo===globalThis.window)t=globalThis.innerWidth,i=globalThis.innerHeight;else{var r=e._resizeTo;t=r.clientWidth,i=r.clientHeight}e.renderer.resize(t,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t.extension=O.Ag.Application,t}(),Hi=function(){function t(e){var i=this;this.stage=new C.mc,e=Object.assign({forceCanvas:!1},e),this.renderer=(0,O.q5)(e),t._plugins.forEach((function(t){t.init.call(i,e)}))}return t.registerPlugin=function(t){(0,R.deprecation)("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),O.XO.add({type:O.Ag.Application,ref:t})},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,i){var r=this,n=t._plugins.slice(0);n.reverse(),n.forEach((function(t){t.destroy.call(r)})),this.stage.destroy(i),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}();O.XO.handleByList(O.Ag.Application,Hi._plugins),O.XO.add(Ui);var Xi=i(5871),ji=i(2365),Wi=i(935),Vi=function(t,e){return Vi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},Vi(t,e)};function Yi(t,e){function i(){this.constructor=t}Vi(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var zi=function(t){function e(e,i){void 0===i&&(i=!0);var r=t.call(this,e[0]instanceof O.gP?e[0]:e[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=i,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=e,r}return Yi(e,t),e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(W.Rv.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(W.Rv.shared.add(this.update,this,W.dQ.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){if(this._playing){var e=this.animationSpeed*t,i=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this.updateTexture())}},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var i=[],r=0;r<t.length;++r)i.push(O.gP.from(t[r]));return new e(i)},e.fromImages=function(t){for(var i=[],r=0;r<t.length;++r)i.push(O.gP.from(t[r]));return new e(i)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof O.gP)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(W.Rv.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(W.Rv.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(Ni.k);O.XO.add(X,nt,tt,Me.e,Be.p8,O.ch,ke._,ai,Vt,Ce,Oe,Le,W.y,Pt);var qi={AlphaFilter:hi,BlurFilter:vi,BlurFilterPass:Ai,ColorMatrixFilter:xi,DisplacementFilter:Pi,FXAAFilter:Mi,NoiseFilter:ki}},5055:(t,e,i)=>{"use strict";i.r(e),i.d(e,{__addDisposableResource:()=>D,__assign:()=>a,__asyncDelegator:()=>S,__asyncGenerator:()=>E,__asyncValues:()=>w,__await:()=>T,__awaiter:()=>f,__classPrivateFieldGet:()=>O,__classPrivateFieldIn:()=>B,__classPrivateFieldSet:()=>M,__createBinding:()=>m,__decorate:()=>o,__disposeResources:()=>k,__esDecorate:()=>h,__exportStar:()=>A,__extends:()=>n,__generator:()=>g,__importDefault:()=>C,__importStar:()=>R,__makeTemplateObject:()=>P,__metadata:()=>d,__param:()=>l,__propKey:()=>c,__read:()=>y,__rest:()=>s,__runInitializers:()=>u,__setFunctionName:()=>p,__spread:()=>_,__spreadArray:()=>x,__spreadArrays:()=>b,__values:()=>v,default:()=>N});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)};function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var a=function(){return a=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},a.apply(this,arguments)};function s(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(i[r[n]]=t[r[n]])}return i}function o(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}function l(t,e){return function(i,r){e(i,r,t)}}function h(t,e,i,r,n,a){function s(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var o,l=r.kind,h="getter"===l?"get":"setter"===l?"set":"value",u=!e&&t?r.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),p=!1,d=i.length-1;d>=0;d--){var f={};for(var g in r)f[g]="access"===g?{}:r[g];for(var g in r.access)f.access[g]=r.access[g];f.addInitializer=function(t){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(t||null))};var m=(0,i[d])("accessor"===l?{get:c.get,set:c.set}:c[h],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(c.get=o),(o=s(m.set))&&(c.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):c[h]=o)}u&&Object.defineProperty(u,r.name,c),p=!0}function u(t,e,i){for(var r=arguments.length>2,n=0;n<e.length;n++)i=r?e[n].call(t,i):e[n].call(t);return r?i:void 0}function c(t){return"symbol"==typeof t?t:"".concat(t)}function p(t,e,i){return"symbol"==typeof e&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}function d(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function f(t,e,i,r){function n(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,a){function s(t){try{l(r.next(t))}catch(e){a(e)}}function o(t){try{l(r.throw(t))}catch(e){a(e)}}function l(t){t.done?i(t.value):n(t.value).then(s,o)}l((r=r.apply(t,e||[])).next())}))}function g(t,e){var i,r,n,a,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(t){return function(e){return l([t,e])}}function l(o){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(s=0)),s;)try{if(i=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(l){o=[6,l],r=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var m=Object.create?function(t,e,i,r){void 0===r&&(r=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,r,n)}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]};function A(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||m(e,t,i)}function v(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,n,a=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(o){n={error:o}}finally{try{r&&!r.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return s}function _(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}function b(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,n++)r[n]=a[s];return r}function x(t,e,i){if(i||2===arguments.length)for(var r,n=0,a=e.length;n<a;n++)!r&&n in e||(r||(r=Array.prototype.slice.call(e,0,n)),r[n]=e[n]);return t.concat(r||Array.prototype.slice.call(e))}function T(t){return this instanceof T?(this.v=t,this):new T(t)}function E(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=i.apply(t,e||[]),a=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){n[t]&&(r[t]=function(e){return new Promise((function(i,r){a.push([t,e,i,r])>1||o(t,e)}))})}function o(t,e){try{l(n[t](e))}catch(i){c(a[0][3],i)}}function l(t){t.value instanceof T?Promise.resolve(t.value.v).then(h,u):c(a[0][2],t)}function h(t){o("next",t)}function u(t){o("throw",t)}function c(t,e){t(e),a.shift(),a.length&&o(a[0][0],a[0][1])}}function S(t){var e,i;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,n){e[r]=t[r]?function(e){return(i=!i)?{value:T(t[r](e)),done:!1}:n?n(e):e}:n}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t="function"==typeof v?v(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=t[i]&&function(e){return new Promise((function(r,a){n(r,a,(e=t[i](e)).done,e.value)}))}}function n(t,e,i,r){Promise.resolve(r).then((function(e){t({value:e,done:i})}),e)}}function P(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var I=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function R(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&m(e,t,i);return I(e,t),e}function C(t){return t&&t.__esModule?t:{default:t}}function O(t,e,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(t):r?r.value:e.get(t)}function M(t,e,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(t,i):n?n.value=i:e.set(t,i),i}function B(t,e){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?e===t:t.has(e)}function D(t,e,i){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var r;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose]}if("function"!=typeof r)throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:r,async:i})}else i&&t.stack.push({async:!0});return e}var L="function"==typeof SuppressedError?SuppressedError:function(t,e,i){var r=new Error(i);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function k(t){function e(e){t.error=t.hasError?new L(e,t.error,"An error was suppressed during disposal."):e,t.hasError=!0}function i(){for(;t.stack.length;){var r=t.stack.pop();try{var n=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(n).then(i,(function(t){return e(t),i()}))}catch(a){e(a)}}if(t.hasError)throw t.error}return i()}const N={__extends:n,__assign:a,__rest:s,__decorate:o,__param:l,__metadata:d,__awaiter:f,__generator:g,__createBinding:m,__exportStar:A,__values:v,__read:y,__spread:_,__spreadArrays:b,__spreadArray:x,__await:T,__asyncGenerator:E,__asyncDelegator:S,__asyncValues:w,__makeTemplateObject:P,__importStar:R,__importDefault:C,__classPrivateFieldGet:O,__classPrivateFieldSet:M,__classPrivateFieldIn:B,__addDisposableResource:D,__disposeResources:k}}},n={};function a(t){var e=n[t];if(void 0!==e)return e.exports;var i=n[t]={id:t,loaded:!1,exports:{}};return r[t].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=r,a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,a.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"==typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"==typeof i.then)return i}var n=Object.create(null);a.r(n);var s={};t=t||[null,e({}),e([]),e(e)];for(var o=2&r&&i;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach((t=>s[t]=()=>i[t]));return s.default=()=>i,a.d(n,s),n},a.d=(t,e)=>{for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},a.f={},a.e=t=>Promise.all(Object.keys(a.f).reduce(((e,i)=>(a.f[i](t,e),e)),[])),a.u=t=>"chunks/"+t+".js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i={},a.l=(t,e,r,n)=>{if(i[t])i[t].push(e);else{var s,o;if(void 0!==r)for(var l=document.getElementsByTagName("script"),h=0;h<l.length;h++){var u=l[h];if(u.getAttribute("src")==t){s=u;break}}s||(o=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=t),i[t]=[e];var c=(e,r)=>{s.onerror=s.onload=null,clearTimeout(p);var n=i[t];if(delete i[t],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((t=>t(r))),e)return e(r)},p=setTimeout(c.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=c.bind(null,s.onerror),s.onload=c.bind(null,s.onload),o&&document.head.appendChild(s)}},a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");if(i.length)for(var r=i.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=i[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t})(),(()=>{var t={23:0};a.f.j=(e,i)=>{var r=a.o(t,e)?t[e]:void 0;if(0!==r)if(r)i.push(r[2]);else{var n=new Promise(((i,n)=>r=t[e]=[i,n]));i.push(r[2]=n);var s=a.p+a.u(e),o=new Error,l=i=>{if(a.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var n=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;o.message="Loading chunk "+e+" failed.\n("+n+": "+s+")",o.name="ChunkLoadError",o.type=n,o.request=s,r[1](o)}};a.l(s,l,"chunk-"+e,e)}};var e=(e,i)=>{var r,n,[s,o,l]=i,h=0;if(s.some((e=>0!==t[e]))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(l)l(a)}for(e&&e(i);h<s.length;h++)n=s[h],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0},i=self.webpackChunk=self.webpackChunk||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),a(6334),a(1537),a(8145),a(7119);a(1469)})();